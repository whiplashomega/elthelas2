import{B as x,u as E,s as S,m as T,P as F,_ as A,g as k,o as i,c as r,h as b,w,a as o,l as f,v as B,F as g,r as y,e as v,t as m,d as u,N as _}from"./index.js";const D={setup(){x({title:"System Reference Search"});const n=E(),{ancestries:s,armorv2:p,backgroundsv2:h,classesv2:C,divines:e,equipmentv2:a,featsv2:c,magicitemvsv2:t,rules:l,rulesByCategory:d,spellsv2:$,weaponsv2:L}=S(n);return{ancestries:s,armor:p,backgrounds:h,classes:C,divines:e,equipment:a,feats:c,magicitems:t,statics:n,rules:l,rulesByCategory:d,spells:$,weapons:L,marked:T}},computed:{rulesresults(){let n=[];return this.searchtext!==""&&(n=this.rules.filter(s=>{if(s.title.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=1,!0;if(s.description.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=2,!0;if(s.subcategory.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=3,!0}),n.push(...this.extrarules.filter(s=>{if(s.title.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=1,!0;if(s.description.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=2,!0;if(s.subcategory.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=3,!0}))),n.sort((s,p)=>s.weight>p.weight?1:-1)}},data(){return{searchtext:"",showresults:!1}},created(){this.statics.getAllNew().then(()=>{const n=[];this.classes.forEach(e=>{n.push({title:e.name,category:"Character Classes",subcategory:e.name,description:"For more information about the "+e.name+" Class, see the <a href='/options/class/"+e.name+"'>Classes Page</a>",isCollapsed:!1}),e.features.forEach(a=>{n.push({title:a.name,category:"Character Classes",subcategory:e.name,description:a.description,isCollapsed:!1})}),e.subclass.forEach(a=>{n.push({title:a.name,category:"Character Classes",subcategory:e.name,description:"For more information about the "+a.name+" Sub Class, see the <a href='/options/class/"+e.name+"'>"+e.name+" Classes Page</a>",isCollapsed:!1}),a.features.forEach(c=>{n.push({title:c.name,category:"Character Classes",subcategory:e.name+" - "+a.name,description:c.description,isCollapsed:!1})})})});let s=[];this.spells.forEach(e=>{s.push({title:e.title,category:"Spells",subcategory:e.school+" "+e.level.replace("level","level "),description:`<h4>
              <strong>${e.school} ${e.level.replace("level","level ")} ${e.ritual?" Ritual":""} </strong> (${e.source})
            </h4>
            <p><strong>Casting Time: </strong> ${e.castingTime}</p>
            <p><strong>Range: </strong> ${e.range}</p>
            <p><strong>Components: </strong> ${e.components}</p>
            <p><strong>Duration: </strong> ${e.duration}</p>
            <div>${e.description}</div>`,isCollapsed:!1})});let p=[];this.feats.forEach(e=>{p.push({title:e.name,category:"Feats",subcategory:"Feat Descriptions",description:`<h5>Prerequisites: ${e.prereq}</h5><div>${e.description}</div>`,isCollapsed:!1})});let h=[];this.ancestries.forEach(e=>{h.push({title:e.name,category:"Ancestries",subcategory:"Ancestry Options",description:`<p>For the full description of the ${e.name} ancestry visit the <a href="/options/ancestry">Ancestry page</a></p>
          <div>${e.description}</div>`,isCollapsed:!1}),e.subraces.forEach(a=>{let c={title:a.name,category:"Ancestries",subcategory:"Ancestry Options - "+e.name,description:`<p>For the full description of the ${a.name} ancestry visit the <a href="/options/ancestry">Ancestry page</a></p><div>${a.description}</div><ul>`,isCollapsed:!1};e.traits.forEach(t=>{c.description+=`<li><strong>${t.name}.</strong> ${t.description}</li>`}),a.traits.forEach(t=>{c.description+=`<li><strong>${t.name}.</strong> ${t.description}</li>`}),c.description+="</ul>",h.push(c)})});let C=[];this.backgrounds.forEach(e=>{C.push({title:e.name,category:"Backgrounds",subcategory:"Example Backgrounds",description:`<p>
            <strong>Skills: </strong>${e.skills.join(", ")}<br />
            <strong>Tools: </strong>${e.tools.join(", ")}<br />
            <strong>Languages: </strong>${e.languages} of your choice<br />
            <strong>Feat: </strong>${e.feature}
          </p>
          <p>
            ${e.description}
          </p>
          <p>
            <strong>Equipment: </strong> ${e.equipment}
          </p>`})}),this.extrarules=F([...s,...n,...p,...h,...C])})}},R=o("p",null," This work includes material taken from the System Reference Document 5.1 (\u201CSRD 5.1\u201D) by Wizards of the Coast LLC and available at https://dnd.wizards.com/resources/systems-reference-document. The SRD 5.1 is licensed under the Creative Commons Attribution 4.0 International License available at https://creativecommons.org/licenses/by/4.0/legalcode. ",-1),q={id:"search"},N={class:"row"},M={class:"col-sm-8"},V={class:"col-sm-4 btn-group"},H=o("hr",null,null,-1),P={key:0,id:"rulesresults"},j=["onClick"],z={key:0},I={key:1},O=["innerHTML"],U=o("hr",null,null,-1),W=["onClick"],G={key:0},J={key:1},K=["onClick"],Q={key:0},X={key:1},Y=o("hr",null,null,-1),Z=["onClick"],ee={key:0},te={key:1},se=["innerHTML"],oe=o("hr",null,null,-1),ne=o("hr",null,null,-1);function ie(n,s,p,h,C,e){const a=k("b-tab"),c=k("b-tabs");return i(),r("div",null,[R,b(c,null,{default:w(()=>[b(a,{title:"Search"},{default:w(()=>[o("div",q,[o("div",N,[o("div",M,[f(o("input",{type:"text",class:"form-control col-sm-10","onUpdate:modelValue":s[0]||(s[0]=t=>n.searchtext=t)},null,512),[[B,n.searchtext]])]),o("div",V,[o("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=t=>n.showresults=!0)},"Search"),o("button",{type:"button",class:"btn btn-warning",onClick:s[2]||(s[2]=t=>{n.showresults=!1,n.searchtext=""})},"Clear")])]),H,n.showresults?(i(),r("div",P,[(i(!0),r(g,null,y(n.rulesresults,t=>(i(),r("div",{key:t.category+t.subcategory+t.title},[o("h4",null,[v(m(t.title)+" ",1),o("button",{type:"button",class:"btn btn-primary",style:{float:"right"},onClick:l=>t.isCollapsed=!t.isCollapsed},[t.isCollapsed?(i(),r("span",z,"\u25B2")):u("",!0),t.isCollapsed?u("",!0):(i(),r("span",I,"\u25BC"))],8,j)]),o("h6",null,m(t.category)+" - "+m(t.subcategory),1),f(o("div",{innerHTML:n.marked.parse(t.description)},null,8,O),[[_,t.isCollapsed]]),U]))),128))])):u("",!0)])]),_:1}),b(a,{title:"Index"},{default:w(()=>[(i(!0),r(g,null,y(n.rulesByCategory,t=>(i(),r("div",{key:t.title},[o("h2",null,[o("button",{type:"button",class:"btn btn-primary",style:{float:"left"},onClick:l=>t.isCollapsed=!t.isCollapsed},[t.isCollapsed?(i(),r("span",G,"\u25B2")):u("",!0),t.isCollapsed?u("",!0):(i(),r("span",J,"\u25BC"))],8,W),v("\xA0\xA0"+m(t.title),1)]),f(o("div",null,[(i(!0),r(g,null,y(t.subcategories,l=>(i(),r("div",{key:l.title,style:{"margin-left":"40px"}},[o("h3",null,[o("button",{type:"button",class:"btn btn-primary btn-sm",style:{float:"left"},onClick:d=>l.isCollapsed=!l.isCollapsed},[l.isCollapsed?(i(),r("span",Q,"\u25B2")):u("",!0),l.isCollapsed?u("",!0):(i(),r("span",X,"\u25BC"))],8,K),v("\xA0\xA0"+m(l.title),1)]),(i(!0),r(g,null,y(l.rules,d=>f((i(),r("div",{key:d.title,style:{"margin-left":"40px"}},[Y,o("h4",null,[o("button",{type:"button",class:"btn btn-primary btn-sm",style:{float:"left"},onClick:$=>d.isCollapsed=!d.isCollapsed},[d.isCollapsed?(i(),r("span",ee,"\u25B2")):u("",!0),d.isCollapsed?u("",!0):(i(),r("span",te,"\u25BC"))],8,Z),v("\xA0\xA0"+m(d.title),1)]),f(o("div",{innerHTML:n.marked.parse(d.description)},null,8,se),[[_,d.isCollapsed]])])),[[_,l.isCollapsed]])),128)),oe]))),128))],512),[[_,t.isCollapsed]]),ne]))),128))]),_:1})]),_:1})])}const ae=A(D,[["render",ie]]);export{ae as default};
