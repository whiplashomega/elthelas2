import{B as E,u as x,s as S,m as T,T as A,_ as q,g as k,o as n,c as a,h as b,w as $,a as o,n as f,v as F,F as g,r as y,e as v,t as h,d as c,R as _}from"./index.js";import{i as B}from"./warlockinvocations.js";import{i as R}from"./artificerinfusions.js";const D={setup(){E({title:"System Reference Search"});const i=x(),{ancestries:s,armorv2:d,backgroundsv2:p,classesv2:m,divines:C,equipmentv2:u,featsv2:e,magicitemvsv2:t,rules:r,rulesByCategory:l,spellsv2:w,weaponsv2:L}=S(i);return{ancestries:s,armor:d,backgrounds:p,classes:m,divines:C,equipment:u,feats:e,magicitems:t,statics:i,rules:r,rulesByCategory:l,spells:w,weapons:L,marked:T}},computed:{rulesresults(){let i=[];return this.searchtext!==""&&(i=this.rules.filter(s=>{if(s.title.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=1,!0;if(s.description.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=2,!0;if(s.subcategory.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=3,!0}),i.push(...this.extrarules.filter(s=>{if(s.title.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=1,!0;if(s.description.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=2,!0;if(s.subcategory.toLowerCase().includes(this.searchtext.toLowerCase()))return s.weight=3,!0}))),i.sort((s,d)=>s.weight>d.weight?1:-1)}},data(){return{searchtext:"",showresults:!1}},created(){this.statics.getAllNew().then(()=>{const i=[];this.classes.forEach(e=>{i.push({title:e.name,category:"Character Classes",subcategory:e.name,description:"For more information about the "+e.name+" Class, see the <a href='/options/class/"+e.name+"'>Classes Page</a>",isCollapsed:!1}),e.features.forEach(t=>{i.push({title:t.name,category:"Character Classes",subcategory:e.name,description:t.description,isCollapsed:!1})}),e.subclass.forEach(t=>{i.push({title:t.name,category:"Character Classes",subcategory:e.name,description:"For more information about the "+t.name+" Sub Class, see the <a href='/options/class/"+e.name+"'>"+e.name+" Classes Page</a>",isCollapsed:!1}),t.features.forEach(r=>{i.push({title:r.name,category:"Character Classes",subcategory:e.name+" - "+t.name,description:r.description,isCollapsed:!1})})})});let s=[];this.spells.forEach(e=>{s.push({title:e.title,category:"Spells",subcategory:e.school+" "+e.level.replace("level","level "),description:`<h4>
              <strong>${e.school} ${e.level.replace("level","level ")} ${e.ritual?" Ritual":""} </strong> (${e.source})
            </h4>
            <p><strong>Casting Time: </strong> ${e.castingTime}</p>
            <p><strong>Range: </strong> ${e.range}</p>
            <p><strong>Components: </strong> ${e.components}</p>
            <p><strong>Duration: </strong> ${e.duration}</p>
            <div>${e.description}</div>`,isCollapsed:!1})});let d=[];this.feats.forEach(e=>{d.push({title:e.name,category:"Feats",subcategory:"Feat Descriptions",description:`<h5>Prerequisites: ${e.prereq}</h5><div>${e.description}</div>`,isCollapsed:!1})});let p=[];this.ancestries.forEach(e=>{p.push({title:e.name,category:"Ancestries",subcategory:"Ancestry Options",description:`<p>For the full description of the ${e.name} ancestry visit the <a href="/options/ancestry">Ancestry page</a></p>
          <div>${e.description}</div>`,isCollapsed:!1}),e.subraces.forEach(t=>{let r={title:t.id==="default"?e.name:t.name,category:"Ancestries",subcategory:"Ancestry Options - "+e.name,description:`<p>For the full description of the ${t.name} ancestry visit the <a href="/options/ancestry">Ancestry page</a></p><div>${t.description}</div><ul>`,isCollapsed:!1};e.traits.forEach(l=>{r.description+=`<li><strong>${l.name}.</strong> ${l.description}</li>`}),t.traits.forEach(l=>{r.description+=`<li><strong>${l.name}.</strong> ${l.description}</li>`}),r.description+="</ul>",p.push(r)})});let m=[];this.backgrounds.forEach(e=>{m.push({title:e.name,category:"Backgrounds",subcategory:"Example Backgrounds",description:`<p>
            <strong>Skills: </strong>${e.skills.join(", ")}<br />
            <strong>Tools: </strong>${e.tools.join(", ")}<br />
            <strong>Languages: </strong>${e.languages} of your choice<br />
            <strong>Feat: </strong>${e.feature}
          </p>
          <p>
            ${e.description}
          </p>
          <p>
            <strong>Equipment: </strong> ${e.equipment}
          </p>`})});let C=[];B.forEach(e=>{C.push({title:e.name,category:"Character Classes",subcategory:"Warlock - Warlock Invocations",description:`Prerequisite: ${e.prereq}

${e.description}`})});let u=[];R.forEach(e=>{u.push({title:e.name,category:"Character Classes",subcategory:"Artificer - Artificer Infusions",description:`Prerequisite: ${e.level}

Item: ${e.item}

${e.description}`})}),this.extrarules=A([...s,...i,...d,...p,...m,...C,...u])})}},I=o("p",null," This work includes material taken from the System Reference Document 5.1 (\u201CSRD 5.1\u201D) by Wizards of the Coast LLC and available at https://dnd.wizards.com/resources/systems-reference-document. The SRD 5.1 is licensed under the Creative Commons Attribution 4.0 International License available at https://creativecommons.org/licenses/by/4.0/legalcode. ",-1),M={id:"search"},N={class:"row"},P={class:"col-sm-8"},V={class:"col-sm-4 btn-group"},H=o("hr",null,null,-1),W={key:0,id:"rulesresults"},j=["onClick"],z={key:0},O={key:1},U=["innerHTML"],G=o("hr",null,null,-1),J=["onClick"],K={key:0},Q={key:1},X=["onClick"],Y={key:0},Z={key:1},ee=o("hr",null,null,-1),te=["onClick"],se={key:0},oe={key:1},ie=["innerHTML"],re=o("hr",null,null,-1),ne=o("hr",null,null,-1);function ae(i,s,d,p,m,C){const u=k("b-tab"),e=k("b-tabs");return n(),a("div",null,[I,b(e,null,{default:$(()=>[b(u,{title:"Search"},{default:$(()=>[o("div",M,[o("div",N,[o("div",P,[f(o("input",{type:"text",class:"form-control col-sm-10","onUpdate:modelValue":s[0]||(s[0]=t=>i.searchtext=t)},null,512),[[F,i.searchtext]])]),o("div",V,[o("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=t=>i.showresults=!0)},"Search"),o("button",{type:"button",class:"btn btn-warning",onClick:s[2]||(s[2]=t=>{i.showresults=!1,i.searchtext=""})},"Clear")])]),H,i.showresults?(n(),a("div",W,[(n(!0),a(g,null,y(i.rulesresults,t=>(n(),a("div",{key:t.category+t.subcategory+t.title},[o("h4",null,[v(h(t.title)+" ",1),o("button",{type:"button",class:"btn btn-primary",style:{float:"right"},onClick:r=>t.isCollapsed=!t.isCollapsed},[t.isCollapsed?(n(),a("span",z,"\u25B2")):c("",!0),t.isCollapsed?c("",!0):(n(),a("span",O,"\u25BC"))],8,j)]),o("h6",null,h(t.category)+" - "+h(t.subcategory),1),f(o("div",{innerHTML:i.marked.parse(t.description)},null,8,U),[[_,t.isCollapsed]]),G]))),128))])):c("",!0)])]),_:1}),b(u,{title:"Index"},{default:$(()=>[(n(!0),a(g,null,y(i.rulesByCategory,t=>(n(),a("div",{key:t.title},[o("h2",null,[o("button",{type:"button",class:"btn btn-primary",style:{float:"left"},onClick:r=>t.isCollapsed=!t.isCollapsed},[t.isCollapsed?(n(),a("span",K,"\u25B2")):c("",!0),t.isCollapsed?c("",!0):(n(),a("span",Q,"\u25BC"))],8,J),v("\xA0\xA0"+h(t.title),1)]),f(o("div",null,[(n(!0),a(g,null,y(t.subcategories,r=>(n(),a("div",{key:r.title,style:{"margin-left":"40px"}},[o("h3",null,[o("button",{type:"button",class:"btn btn-primary btn-sm",style:{float:"left"},onClick:l=>r.isCollapsed=!r.isCollapsed},[r.isCollapsed?(n(),a("span",Y,"\u25B2")):c("",!0),r.isCollapsed?c("",!0):(n(),a("span",Z,"\u25BC"))],8,X),v("\xA0\xA0"+h(r.title),1)]),(n(!0),a(g,null,y(r.rules,l=>f((n(),a("div",{key:l.title,style:{"margin-left":"40px"}},[ee,o("h4",null,[o("button",{type:"button",class:"btn btn-primary btn-sm",style:{float:"left"},onClick:w=>l.isCollapsed=!l.isCollapsed},[l.isCollapsed?(n(),a("span",se,"\u25B2")):c("",!0),l.isCollapsed?c("",!0):(n(),a("span",oe,"\u25BC"))],8,te),v("\xA0\xA0"+h(l.title),1)]),f(o("div",{innerHTML:i.marked.parse(l.description)},null,8,ie),[[_,l.isCollapsed]])])),[[_,r.isCollapsed]])),128)),re]))),128))],512),[[_,t.isCollapsed]]),ne]))),128))]),_:1})]),_:1})])}const ue=q(D,[["render",ae]]);export{ue as default};
