{"version":3,"file":"quick.js","sources":["../../src/views/ref/js/quick.js?vue&type=script&src=534bbf72&lang.js"],"sourcesContent":["import { marked } from '@/../node_modules/marked/lib/marked.esm.js';\nimport { useStaticsStore, useUserStore } from '@/stores/index';\nimport modal from '@/components/global/modal.vue';\n\nexport default {\n  setup () {\n    const statics = useStaticsStore();\n    const userinfo = useUserStore();\n    const { spells, equipment, armor, weapons } = statics;\n    return {\n      userinfo, spells, equipment, armor, weapons, marked\n    };\n  },\n  components: {\n    modal\n  },\n  computed: {\n    filteredSpells () {\n      var textfilters = this.spelltable.filterValue.split(' ');\n      let spells = this.spells.filter((a) => {\n        let passes = true;\n        textfilters.forEach((item) => {\n          if (!(a.description.toLowerCase().includes(item.toLowerCase()) ||\n                a.title.toLowerCase().includes(item.toLowerCase()) ||\n                a.level.toLowerCase().includes(item.toLowerCase()) ||\n                a.school.toLowerCase().includes(item.toLowerCase()) ||\n                a.castingTime.toLowerCase().includes(item.toLowerCase()) ||\n                a.tagsText.toLowerCase().includes(item.toLowerCase()) ||\n                a.components.toLowerCase().includes(item.toLowerCase()))) {\n            passes = false;\n          }\n        });\n        return passes;\n      });\n      spells = spells.filter((a) => {\n        return a.title.toLowerCase().includes(this.spelltable.titleFilter.toLowerCase()) || this.spelltable.titleFilter === \"\";\n      });\n      spells = spells.filter((a) => {\n        return a.tags.indexOf(this.spelltable.classFilter) !== -1 || this.spelltable.classFilter === \"all\";\n      });\n      spells = spells.filter((a) => {\n        return a.level === this.spelltable.levelFilter || this.spelltable.levelFilter === \"all\";\n      });\n      spells = spells.filter((a) => {\n        return a.school.toLowerCase() === this.spelltable.schoolFilter || this.spelltable.schoolFilter === \"all\";\n      });\n      spells = spells.filter((a) => {\n        return a.castingTime.toLowerCase().includes(this.spelltable.timeFilter) || this.spelltable.timeFilter === \"all\";\n      });\n      spells = spells.filter((a) => {\n        let lengthtest = a.duration.toLowerCase().includes(this.spelltable.durationFilter) || this.spelltable.durationFilter === \"all\";\n        let conctest = !a.duration.toLowerCase().includes(\"concentration\") || !this.spelltable.concFilter;\n        return lengthtest && conctest;\n      });\n      spells = spells.filter((a) => {\n        let tags = this.spelltable.tagsFilter.split(\" \");\n        let passes = true;\n        tags.forEach((b) => {\n          if (!a.tagsText.includes(b)) {\n            passes = false;\n          }\n        });\n        return passes;\n      });\n      return spells;\n    }\n  },\n  data: function() {\n    return {\n      spelltable: {\n        fields: [\n          { key: 'title', label: 'Title', sortable: true },\n          { key: 'level', label: 'Level', sortable: true },\n          { key: 'school', label: 'School', sortable: true },\n          { key: 'castingTime', label: 'Casting Time', sortable: true },\n          { key: 'duration', label: 'Duration', sortable: true },\n          { key: 'tagsText', label: 'Tags', sortable: true }\n        ],\n        classFilter: \"all\",\n        levelFilter: \"all\",\n        titleFilter: \"\",\n        schoolFilter: \"all\",\n        timeFilter: \"all\",\n        durationFilter: \"all\",\n        concFilter: false,\n        tagsFilter: \"\",\n        filterValue: \"\",\n        sortBy: null,\n        sortDesc: false,\n        modalInfo: { title: '', description: '', content: { title: '', level: '', school: '', duration: '', description: '', castingTime: '', tags: [], tagsText: '' } }\n      },\n      gearModalProps: { isActive: false, title: \"\" },\n      spellModalProps: { isActive: false, title: \"\" },\n      equipmenttable: {\n        fields: [\n          { key: \"Item\", label: \"Item\", sortable: true },\n          { key: \"Cost\", label: \"Cost (gp)\", sortable: true },\n          { key: \"Weight\", label: \"Weight\", sortable: true }\n        ],\n        filter: null,\n        sortBy: null,\n        sortDesc: false\n      },\n      armortable: {\n        fields: [\n          { key: \"Armor\", label: \"Armor\", sortable: true },\n          { key: \"Type\", label: \"Type\", sortable: true },\n          { key: \"Material\", label: \"Material\", sortable: true },\n          { key: \"AC\", label: \"AC\", sortable: true },\n          { key: \"Strength\", label: \"Strength\", sortable: true },\n          { key: \"Stealth\", label: \"Stealth\", sortable: true },\n          { key: \"Weight\", label: \"Weight\", sortable: true },\n          { key: \"Resistance\", label: \"Resistance\", sortable: true },\n          { key: \"Price\", label: \"Price (gp)\", sortable: true },\n          { key: \"Time to Craft\", label: \"Time to Craft\", sortable: true }\n        ],\n        filter: null,\n        sortBy: null,\n        sortDesc: false\n      },\n      weapontable: {\n        fields: [\n          { key: \"Name\", label: \"Weapon\", sortable: true },\n          { key: \"Type\", label: \"Type\", sortable: true },\n          { key: \"Properties\", label: \"Properties\", sortable: true },\n          { key: \"Damage\", label: \"Damage\", sortable: true },\n          { key: \"Cost\", label: \"Cost (gp)\", sortable: true },\n          { key: \"Weight\", label: \"Weight\", sortable: true }\n        ],\n        filter: null,\n        sortBy: null,\n        sortDesc: false,\n        printMode: false\n      },\n      gearModal: { Item: '', Cost: '', Weight: '', Description: '' }\n    };\n  },\n  methods: {\n    info (item, index, button) {\n      this.spelltable.modalInfo.title = item.title;\n      this.spelltable.modalInfo.content = item;\n      this.spelltable.modalInfo.description = marked.parse(this.spelltable.modalInfo.content.description);\n      this.spellModalProps.isActive = true;\n      this.spellModalProps.title = item.title;\n    },\n    selectForPrint (item) {\n      item.print = !item.print;\n      if (item.print) {\n        item._rowVariant = 'success';\n      } else {\n        item._rowVariant = undefined;\n      }\n    },\n    printSelected () {\n      this.toPrint = this.magicitems.reduce((a, b) => {\n        console.log(b.print);\n        if (b.print) {\n          console.log(b);\n          a.push(b);\n        }\n        return a;\n      }, []);\n      this.printMode = true;\n    },\n    adventuringGearInfo (item, index, button) {\n      this.gearModal = item;\n      this.gearModalProps.isActive = true;\n      this.gearModalProps.title = item.Item;\n    },\n    resetSpellModal () {\n      this.spelltable.modalInfo.title = \"\";\n      this.spelltable.modalInfo.content = { title: '', level: '', school: '', duration: '', description: '', castingTime: '', tags: [], tagsText: '' };\n    },\n    resetGearModal () {\n      this.gearModal = { Item: '', Cost: '', Weight: '', Description: '' };\n    }\n  }\n};\n"],"names":[],"mappings":"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"}