import{B as v,L as b,s as p,m as y,_ as k,o as n,c as i,F as h,r as m,a as e,l,v as a,t as d,e as _,d as r}from"./index.js";const C={setup(){v({title:"NPCs of Elthelas"});const o=b();o.getAllNPCs();const{npcs:c}=p(o);return{npcs:c,marked:y,npcStore:o}},methods:{npc(){return{name:"",born:"",died:"",lastlocation:"",history:"",motivations:"",charid:"",player:"",campaigns:[],home:"",dmonly:!1,job:"",knownassociates:"",edit:!0}},addNPC(){this.npcs.push(this.npc())},addCampaign(o){o.campaigns.push({id:Math.random(),name:""})},removeCampaign(o,c){o.campaigns.splice(o.campaigns.indexOf(c),1)},save(o){o.edit=!1,o._id?this.npcStore.saveUpdate(o):this.npcStore.saveNew(o)},deleteNPC(o){window.confirm("Are you sure you want to delete this NPC? It cannot be recovered.")&&(o._id?this.npcStore.deleteNPC(o):this.npcs.splice(this.npcs.indexOf(o),1))}}},V=e("h2",null,"NPCs in Elthelas",-1),U={key:0},x={class:"row"},w={class:"col-4"},f=e("label",null,"Name",-1),g=["onUpdate:modelValue"],N={class:"col-4"},P=e("label",null,"Character Link",-1),L=["onUpdate:modelValue"],$={class:"col-4"},M=e("label",null,"Player",-1),H=["onUpdate:modelValue"],S={class:"row"},T={class:"col-6"},B=e("label",null,"Born",-1),D=["onUpdate:modelValue"],j={class:"col-6"},A=e("label",null,"Died",-1),E=["onUpdate:modelValue"],K={class:"row"},F={class:"col-4"},J=e("label",null,"Last Known Location",-1),O=["onUpdate:modelValue"],I={class:"col-4"},R=e("label",null,"Home",-1),X=["onUpdate:modelValue"],q={class:"col-4"},z=e("label",null,"Job",-1),G=["onUpdate:modelValue"],Q={class:"row"},W={class:"col-6"},Y=e("label",null,"History",-1),Z=["onUpdate:modelValue"],ee={class:"col-6"},te=e("label",null,"Motivations",-1),se=["onUpdate:modelValue"],oe={class:"row"},le={class:"col-6"},ae=e("label",null,"Known Associates",-1),ne=["onUpdate:modelValue"],ie={class:"col-6"},de=e("label",null,"Met in Campaigns",-1),ce={class:"col-10"},_e=["onUpdate:modelValue"],re={class:"col-2"},he=["onClick"],ue=["onClick"],me={class:"btn-group"},ve=["onClick"],be=["onClick"],pe={key:1},ye=["href"],ke=["onClick"],Ce={class:"row"},Ve={class:"col-4"},Ue=e("br",null,null,-1),xe=e("br",null,null,-1),we={class:"col-4"},fe=e("br",null,null,-1),ge={key:0},Ne=e("br",null,null,-1),Pe={key:0},Le=["innerHTML"],$e={key:1},Me=["innerHTML"],He={key:2},Se={class:"btn-group"};function Te(o,c,Be,De,je,Ae){return n(),i(h,null,[V,(n(!0),i(h,null,m(o.npcs,t=>(n(),i("div",{key:t._id},[t.edit?(n(),i("div",U,[e("div",x,[e("div",w,[f,l(e("input",{type:"text","onUpdate:modelValue":s=>t.name=s,class:"charsheet-text"},null,8,g),[[a,t.name]])]),e("div",N,[P,l(e("input",{type:"text","onUpdate:modelValue":s=>t.charid=s,class:"charsheet-text"},null,8,L),[[a,t.charid]])]),e("div",$,[M,l(e("input",{type:"text","onUpdate:modelValue":s=>t.player=s,class:"charsheet-text"},null,8,H),[[a,t.player]])])]),e("div",S,[e("div",T,[B,l(e("input",{type:"text","onUpdate:modelValue":s=>t.born=s,class:"charsheet-text"},null,8,D),[[a,t.born]])]),e("div",j,[A,l(e("input",{type:"text","onUpdate:modelValue":s=>t.died=s,class:"charsheet-text"},null,8,E),[[a,t.died]])])]),e("div",K,[e("div",F,[J,l(e("input",{type:"text","onUpdate:modelValue":s=>t.lastlocation=s,class:"charsheet-text"},null,8,O),[[a,t.lastlocation]])]),e("div",I,[R,l(e("input",{type:"text","onUpdate:modelValue":s=>t.lastlocation=s,class:"charsheet-text"},null,8,X),[[a,t.lastlocation]])]),e("div",q,[z,l(e("input",{type:"text","onUpdate:modelValue":s=>t.job=s,class:"charsheet-text"},null,8,G),[[a,t.job]])])]),e("div",Q,[e("div",W,[Y,l(e("textarea",{"onUpdate:modelValue":s=>t.history=s,class:"charsheet-textarea"},null,8,Z),[[a,t.history]])]),e("div",ee,[te,l(e("textarea",{"onUpdate:modelValue":s=>t.motivations=s,class:"charsheet-textarea"},null,8,se),[[a,t.motivations]])])]),e("div",oe,[e("div",le,[ae,l(e("textarea",{"onUpdate:modelValue":s=>t.knownassociates=s,class:"charsheet-textarea"},null,8,ne),[[a,t.knownassociates]])]),e("div",ie,[de,(n(!0),i(h,null,m(t.campaigns,s=>(n(),i("div",{key:s.id,class:"row"},[e("div",ce,[l(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":u=>s.name=u},null,8,_e),[[a,s.name]])]),e("div",re,[e("button",{class:"btn btn-sm btn-danger",onClick:u=>o.removeCampaign(t,s)},"X",8,he)])]))),128)),e("button",{onClick:s=>o.addCampaign(t),class:"btn btn-sm btn-primary"},"+",8,ue)])]),e("div",me,[e("button",{class:"btn btn-primary",onClick:s=>o.save(t)},"Save",8,ve),e("button",{class:"btn btn-danger",onClick:s=>o.deleteNPC(t)},"Delete",8,be)])])):(n(),i("div",pe,[e("h4",null,[e("a",{href:t.charid},d(t.name),9,ye),_(),e("button",{class:"btn btn-warning",onClick:s=>t.edit=!0},"Edit",8,ke)]),e("h6",null,"Player: "+d(t.player),1),e("div",Ce,[e("div",Ve,[_(" Last Known Location: "+d(t.lastlocation),1),Ue,_(" Home: "+d(t.home),1),xe,_(" Job: "+d(t.job),1)]),e("div",we,[_(" Born: "+d(t.born),1),fe,t.died?(n(),i("span",ge,[_("Died: "+d(t.died),1),Ne])):r("",!0)])]),t.history?(n(),i("h5",Pe,"History")):r("",!0),e("div",{innerHTML:o.marked.parse(t.history)},null,8,Le),t.motivations?(n(),i("h5",$e,"Motivations")):r("",!0),e("div",{innerHTML:o.marked.parse(t.motivations)},null,8,Me),t.knownassociates?(n(),i("h5",He,"Known Associates")):r("",!0)]))]))),128)),e("div",Se,[e("button",{class:"btn btn-primary",onClick:c[0]||(c[0]=t=>o.addNPC())},"+")])],64)}const Ke=k(C,[["render",Te]]);export{Ke as default};
