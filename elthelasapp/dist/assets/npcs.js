import{B as v,L as b,s as y,m as p,_ as k,o as n,c as i,F as h,r as m,a as e,l,v as a,t as d,e as c,d as r}from"./index.js";const V={setup(){v({title:"NPCs of Elthelas"});const o=b();o.getAllNPCs();const{npcs:_}=y(o);return{npcs:_,marked:p,npcStore:o}},methods:{npc(){return{name:"",born:"",died:"",lastlocation:"",history:"",motivations:"",charid:"",player:"",campaigns:[],home:"",dmonly:!1,job:"",knownassociates:"",ancestry:"",edit:!0}},addNPC(){this.npcs.push(this.npc())},addCampaign(o){o.campaigns.push({id:Math.random(),name:""})},removeCampaign(o,_){o.campaigns.splice(o.campaigns.indexOf(_),1)},save(o){o.edit=!1,o._id?this.npcStore.saveUpdate(o):this.npcStore.saveNew(o)},deleteNPC(o){window.confirm("Are you sure you want to delete this NPC? It cannot be recovered.")&&(o._id?this.npcStore.deleteNPC(o):this.npcs.splice(this.npcs.indexOf(o),1))}}},C=e("h2",null,"NPCs in Elthelas",-1),U={key:0},x={class:"row"},w={class:"col-4"},f=e("label",null,"Name",-1),g=["onUpdate:modelValue"],N={class:"col-4"},P=e("label",null,"Character Link",-1),L=["onUpdate:modelValue"],$={class:"col-4"},M=e("label",null,"Player",-1),H=["onUpdate:modelValue"],S={class:"row"},T={class:"col-4"},A=e("label",null,"Born",-1),B=["onUpdate:modelValue"],D={class:"col-4"},j=e("label",null,"Died",-1),E=["onUpdate:modelValue"],K={class:"col-4"},F=e("label",null,"Ancestry",-1),J=["onUpdate:modelValue"],O={class:"row"},I={class:"col-4"},R=e("label",null,"Last Known Location",-1),X=["onUpdate:modelValue"],q={class:"col-4"},z=e("label",null,"Home",-1),G=["onUpdate:modelValue"],Q={class:"col-4"},W=e("label",null,"Job",-1),Y=["onUpdate:modelValue"],Z={class:"row"},ee={class:"col-6"},te=e("label",null,"History",-1),se=["onUpdate:modelValue"],oe={class:"col-6"},le=e("label",null,"Motivations",-1),ae=["onUpdate:modelValue"],ne={class:"row"},ie={class:"col-6"},de=e("label",null,"Known Associates",-1),ce=["onUpdate:modelValue"],_e={class:"col-6"},re=e("label",null,"Met in Campaigns",-1),he={class:"col-10"},ue=["onUpdate:modelValue"],me={class:"col-2"},ve=["onClick"],be=["onClick"],ye={class:"btn-group"},pe=["onClick"],ke=["onClick"],Ve={key:1},Ce=["href"],Ue=["onClick"],xe={class:"row"},we={class:"col-4"},fe=e("br",null,null,-1),ge=e("br",null,null,-1),Ne={class:"col-4"},Pe=e("br",null,null,-1),Le=e("br",null,null,-1),$e={key:0},Me=e("br",null,null,-1),He={key:0},Se=["innerHTML"],Te={key:1},Ae=["innerHTML"],Be={key:2},De={class:"btn-group"};function je(o,_,Ee,Ke,Fe,Je){return n(),i(h,null,[C,(n(!0),i(h,null,m(o.npcs,t=>(n(),i("div",{key:t._id},[t.edit?(n(),i("div",U,[e("div",x,[e("div",w,[f,l(e("input",{type:"text","onUpdate:modelValue":s=>t.name=s,class:"charsheet-text"},null,8,g),[[a,t.name]])]),e("div",N,[P,l(e("input",{type:"text","onUpdate:modelValue":s=>t.charid=s,class:"charsheet-text"},null,8,L),[[a,t.charid]])]),e("div",$,[M,l(e("input",{type:"text","onUpdate:modelValue":s=>t.player=s,class:"charsheet-text"},null,8,H),[[a,t.player]])])]),e("div",S,[e("div",T,[A,l(e("input",{type:"text","onUpdate:modelValue":s=>t.born=s,class:"charsheet-text"},null,8,B),[[a,t.born]])]),e("div",D,[j,l(e("input",{type:"text","onUpdate:modelValue":s=>t.died=s,class:"charsheet-text"},null,8,E),[[a,t.died]])]),e("div",K,[F,l(e("input",{type:"text","onUpdate:modelValue":s=>t.ancestry=s,class:"charsheet-text"},null,8,J),[[a,t.ancestry]])])]),e("div",O,[e("div",I,[R,l(e("input",{type:"text","onUpdate:modelValue":s=>t.lastlocation=s,class:"charsheet-text"},null,8,X),[[a,t.lastlocation]])]),e("div",q,[z,l(e("input",{type:"text","onUpdate:modelValue":s=>t.home=s,class:"charsheet-text"},null,8,G),[[a,t.home]])]),e("div",Q,[W,l(e("input",{type:"text","onUpdate:modelValue":s=>t.job=s,class:"charsheet-text"},null,8,Y),[[a,t.job]])])]),e("div",Z,[e("div",ee,[te,l(e("textarea",{"onUpdate:modelValue":s=>t.history=s,class:"charsheet-textarea"},null,8,se),[[a,t.history]])]),e("div",oe,[le,l(e("textarea",{"onUpdate:modelValue":s=>t.motivations=s,class:"charsheet-textarea"},null,8,ae),[[a,t.motivations]])])]),e("div",ne,[e("div",ie,[de,l(e("textarea",{"onUpdate:modelValue":s=>t.knownassociates=s,class:"charsheet-textarea"},null,8,ce),[[a,t.knownassociates]])]),e("div",_e,[re,(n(!0),i(h,null,m(t.campaigns,s=>(n(),i("div",{key:s.id,class:"row"},[e("div",he,[l(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":u=>s.name=u},null,8,ue),[[a,s.name]])]),e("div",me,[e("button",{class:"btn btn-sm btn-danger",onClick:u=>o.removeCampaign(t,s)},"X",8,ve)])]))),128)),e("button",{onClick:s=>o.addCampaign(t),class:"btn btn-sm btn-primary"},"+",8,be)])]),e("div",ye,[e("button",{class:"btn btn-primary",onClick:s=>o.save(t)},"Save",8,pe),e("button",{class:"btn btn-danger",onClick:s=>o.deleteNPC(t)},"Delete",8,ke)])])):(n(),i("div",Ve,[e("h4",null,[e("a",{href:t.charid},d(t.name),9,Ce),c(),e("button",{class:"btn btn-warning",onClick:s=>t.edit=!0},"Edit",8,Ue)]),e("h6",null,"Player: "+d(t.player),1),e("div",xe,[e("div",we,[c(" Last Known Location: "+d(t.lastlocation),1),fe,c(" Home: "+d(t.home),1),ge,c(" Job: "+d(t.job),1)]),e("div",Ne,[c(" Ancestry: "+d(t.ancestry),1),Pe,c(" Born: "+d(t.born),1),Le,t.died?(n(),i("span",$e,[c("Died: "+d(t.died),1),Me])):r("",!0)])]),t.history?(n(),i("h5",He,"History")):r("",!0),e("div",{innerHTML:o.marked.parse(t.history)},null,8,Se),t.motivations?(n(),i("h5",Te,"Motivations")):r("",!0),e("div",{innerHTML:o.marked.parse(t.motivations)},null,8,Ae),t.knownassociates?(n(),i("h5",Be,"Known Associates")):r("",!0)]))]))),128)),e("div",De,[e("button",{class:"btn btn-primary",onClick:_[0]||(_[0]=t=>o.addNPC())},"+")])],64)}const Ie=k(V,[["render",je]]);export{Ie as default};
