{"version":3,"file":"races.js","sources":["../../src/views/character/js/races.js?vue&type=script&src=05415032&lang.js"],"sourcesContent":["import { useStaticsStore } from '@/stores/index';\nimport { marked } from '@/../node_modules/marked/lib/marked.esm.js';\n// import { bPagination, bTable } from 'bootstrap-vue-3';\n\nexport default {\n  setup () {\n    const statics = useStaticsStore();\n    const races = statics.races;\n    let ages = [];\n    let hw = [];\n    for (var x = 0; x < races.length; x++) {\n        races[x].agepoints.name = races[x].name;\n        ages.push(races[x].agepoints);\n        for (var y = 0; y < races[x].subraces.length; y++) {\n          var name = races[x].subraces[y].name;\n          if (name === \"default\" || name === \"\") {\n            name = races[x].name;\n          }\n          var hwi = { ...races[x].subraces[y] };\n          hwi.name = name;\n          hw.push(hwi);\n        }\n      }\n    return {\n      statics,\n      races,\n      ages,\n      hw,\n      marked\n    }\n  },\n  computed: {\n    filterhw () {\n      return this.hw.filter((a) => {\n        if (this.hwFilter !== \"\") {\n          return a.name.toLowerCase().includes(this.hwFilter.toLowerCase());\n        }\n        return true;\n      }).sort((a, b) => {\n        if (this.hwSortDesc) {\n          if (a[this.hwSortBy] < b[this.hwSortBy]) {\n            return 1;\n          } else {\n            return -1;\n          }\n        } else {\n          if (a[this.hwSortBy] > b[this.hwSortBy]) {\n            return 1;\n          } else {\n            return -1;\n          }\n        }\n      });\n      \n    },\n    filterage () {\n      return this.ages.filter((a) => {\n        if (this.ageFilter !== \"\") {\n          return a.name.toLowerCase().includes(this.ageFilter.toLowerCase());\n        }\n        return true;\n      }).sort((a, b) => {\n        if (this.ageSortDesc) {\n          if (a[this.ageSortBy] < b[this.ageSortBy]) {\n            return 1;\n          } else {\n            return -1;\n          }\n        } else {\n          if (a[this.ageSortBy] > b[this.ageSortBy]) {\n            return 1;\n          } else {\n            return -1;\n          }\n        }\n      });\n    }\n  },\n  data () {\n    return {\n      currentRace: {},\n      ageFields: [\n        { key: \"name\", sortable: true, name: \"Name\" },\n        { key: \"puberty\", sortable: true, name: \"Puberty\" },\n        { key: \"sexualmaturity\", sortable: true, name: \"Sexual Maturity\" },\n        { key: \"mentalmaturity\", sortable: true, name: \"Mental Maturity\" },\n        { key: \"middleage\", sortable: true, name: \"Middle Age\" },\n        { key: \"oldage\", sortable: true, name: \"Old Age\" },\n        { key: \"averagelifespan\", sortable: true, name: \"Average Lifespan\" },\n        { key: \"maxage\", sortable: true, name: \"Max Age\" }\n      ],\n      ageSortBy: \"name\",\n      ageSortDesc: false,\n      ageCurrentPage: 1,\n      agePerPage: 10,\n      ageFilter: \"\",\n      hwFields: [\n        { key: \"name\", sortable: true, name: \"Name\" },\n        { key: \"averageheight\", sortable: true, name: \"Average Height\" },\n        { key: \"baseheight\", sortable: true, name: \"Base Height\" },\n        { key: \"heightroll\", sortable: true, name: \"Height Roll\" },\n        { key: \"averageweight\", sortable: true, name: \"Average Weight\" },\n        { key: \"baseweight\", sortable: true, name: \"Base Weight\" },\n        { key: \"weightroll\", sortable: true, name: \"Weight Roll\" }\n      ],\n      hwSortBy: \"name\",\n      hwSortDesc: false,\n      hwCurrentPage: 1,\n      hwPerPage: 10,\n      hwFilter: \"\"\n    };\n  },\n  methods: {\n    loadRace(id) {\n      this.currentRace = this.races.filter((a) => {\n        return a.id === id;\n      })[0];\n    },\n    changeHWSort(field) {\n      if (this.hwSortBy === field.key) {\n        this.hwSortDesc = !this.hwSortDesc;\n      } else {\n        this.hwSortBy = field.key;\n      }\n    },\n    changeAgeSort(field) {\n      if (this.ageSortBy === field.key) {\n        this.ageSortDesc = !this.ageSortDesc;\n      } else {\n        this.ageSortBy = field.key;\n      }\n    }\n  }\n};\n"],"names":[],"mappings":"yeAIA,MAAe,CACb,OAAS,CACP,KAAM,GAAU,IACV,EAAQ,EAAQ,MACtB,GAAI,GAAO,GACP,EAAK,GACT,OAAS,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CACnC,EAAM,GAAG,UAAU,KAAO,EAAM,GAAG,KACnC,EAAK,KAAK,EAAM,GAAG,WACnB,OAAS,GAAI,EAAG,EAAI,EAAM,GAAG,SAAS,OAAQ,IAAK,CACjD,GAAI,GAAO,EAAM,GAAG,SAAS,GAAG,KAChC,AAAI,KAAS,WAAa,IAAS,KACjC,GAAO,EAAM,GAAG,MAElB,GAAI,GAAM,KAAK,EAAM,GAAG,SAAS,IACjC,EAAI,KAAO,EACX,EAAG,KAAK,IAGd,MAAO,CACL,UACA,QACA,OACA,KACA,WAGJ,SAAU,CACR,UAAY,CACV,MAAO,MAAK,GAAG,OAAO,AAAC,GACjB,KAAK,WAAa,GACb,EAAE,KAAK,cAAc,SAAS,KAAK,SAAS,eAE9C,IACN,KAAK,CAAC,EAAG,IACN,KAAK,WACH,EAAE,KAAK,UAAY,EAAE,KAAK,UACrB,EAEA,GAGL,EAAE,KAAK,UAAY,EAAE,KAAK,UACrB,EAEA,KAMf,WAAa,CACX,MAAO,MAAK,KAAK,OAAO,AAAC,GACnB,KAAK,YAAc,GACd,EAAE,KAAK,cAAc,SAAS,KAAK,UAAU,eAE/C,IACN,KAAK,CAAC,EAAG,IACN,KAAK,YACH,EAAE,KAAK,WAAa,EAAE,KAAK,WACtB,EAEA,GAGL,EAAE,KAAK,WAAa,EAAE,KAAK,WACtB,EAEA,MAMjB,MAAQ,CACN,MAAO,CACL,YAAa,GACb,UAAW,CACT,CAAE,IAAK,OAAQ,SAAU,GAAM,KAAM,QACrC,CAAE,IAAK,UAAW,SAAU,GAAM,KAAM,WACxC,CAAE,IAAK,iBAAkB,SAAU,GAAM,KAAM,mBAC/C,CAAE,IAAK,iBAAkB,SAAU,GAAM,KAAM,mBAC/C,CAAE,IAAK,YAAa,SAAU,GAAM,KAAM,cAC1C,CAAE,IAAK,SAAU,SAAU,GAAM,KAAM,WACvC,CAAE,IAAK,kBAAmB,SAAU,GAAM,KAAM,oBAChD,CAAE,IAAK,SAAU,SAAU,GAAM,KAAM,YAEzC,UAAW,OACX,YAAa,GACb,eAAgB,EAChB,WAAY,GACZ,UAAW,GACX,SAAU,CACR,CAAE,IAAK,OAAQ,SAAU,GAAM,KAAM,QACrC,CAAE,IAAK,gBAAiB,SAAU,GAAM,KAAM,kBAC9C,CAAE,IAAK,aAAc,SAAU,GAAM,KAAM,eAC3C,CAAE,IAAK,aAAc,SAAU,GAAM,KAAM,eAC3C,CAAE,IAAK,gBAAiB,SAAU,GAAM,KAAM,kBAC9C,CAAE,IAAK,aAAc,SAAU,GAAM,KAAM,eAC3C,CAAE,IAAK,aAAc,SAAU,GAAM,KAAM,gBAE7C,SAAU,OACV,WAAY,GACZ,cAAe,EACf,UAAW,GACX,SAAU,KAGd,QAAS,CACP,SAAS,EAAI,CACX,KAAK,YAAc,KAAK,MAAM,OAAO,AAAC,GAC7B,EAAE,KAAO,GACf,IAEL,aAAa,EAAO,CAClB,AAAI,KAAK,WAAa,EAAM,IAC1B,KAAK,WAAa,CAAC,KAAK,WAExB,KAAK,SAAW,EAAM,KAG1B,cAAc,EAAO,CACnB,AAAI,KAAK,YAAc,EAAM,IAC3B,KAAK,YAAc,CAAC,KAAK,YAEzB,KAAK,UAAY,EAAM"}