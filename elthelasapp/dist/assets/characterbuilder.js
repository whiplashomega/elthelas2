import{x as D,y as ae,s as S,z as I,_ as M,o as l,c as a,a as e,t as d,d as b,e as u,F as g,r as _,l as r,v as p,A,j as L,g as V,h as y,w as C,C as w,b as T,n as R,u as W,E as H,k as K,G as B,m as ie,H as ye,I as fe,J as ge,B as _e,K as ke}from"./index.js";import{P as se}from"./pet.js";const we={setup(){const t=D(),o=ae(),{character:c,getStatTotal:m,getStatMod:f,pointbuy:k,statRolls:n,getSaveMod:s}=S(t),{mobile:i}=S(o);return{characters:t,globals:o,character:c,getStatTotal:m,getStatMod:f,pointbuy:k,statRolls:n,getSaveMod:s,mobile:i,rollStats:t.rollStats}},methods:{rollCheck(t){let o=I.roll("1d20").total,c=I.roll("1d20").total;alert("Base Roll: "+(o+t)+" ("+o+" + "+t+`)
Adv/Dis Roll: `+(c+t)+" ("+c+" + "+t+")")}}},Ce={key:0},Ve={class:"abilitytable"},Ue=e("thead",null,[e("tr",null,[e("th",null,"Ability"),e("th",null,"Score"),e("th",null,"Mod"),e("th",null,"Save")])],-1),Se=e("th",null,"STR",-1),Ae={key:0},Me={key:0},De=e("th",null,"DEX",-1),Re={key:0},Te={key:0},Pe=e("th",null,"CON",-1),Ie={key:0},Le={key:0},Ne=e("th",null,"INT",-1),Be={key:0},Ee={key:0},qe=e("th",null,"WIS",-1),He={key:0},We={key:0},Fe=e("th",null,"CHA",-1),je={key:0},ze={key:0},Oe={key:1},Ge={class:"abilitytable"},Xe=e("thead",null,[e("tr",null,[e("th",null,"Stat"),e("th",null,"STR"),e("th",null,"DEX"),e("th",null,"CON"),e("th",null,"INT"),e("th",null,"WIS"),e("th",null,"CHA")])],-1),Ye=e("th",null,"Total",-1),Ke=e("th",null,"Mod",-1),Qe=["onClick"],Je=e("th",null,"Save",-1),Ze=["onClick"],xe=e("th",null,"Base",-1),et=["onUpdate:modelValue"],tt=e("th",null,"Racial",-1),ot=["onUpdate:modelValue"],st=e("th",null,"Bonus",-1),nt=["onUpdate:modelValue"],lt=e("th",null,"Save+",-1),at=["onUpdate:modelValue"],it=e("th",null,"Save Bonus",-1),rt=["onUpdate:modelValue"],dt=e("br",null,null,-1);function ut(t,o,c,m,f,k){return l(),a("div",null,[t.mobile?b("",!0):(l(),a("div",Ce,[e("table",Ve,[Ue,e("tbody",null,[e("tr",null,[Se,e("td",null,d(t.getStatTotal(0)),1),e("td",null,[e("button",{onClick:o[0]||(o[0]=n=>t.rollCheck(t.getStatMod(0)))},[t.getStatMod(0)>-1?(l(),a("span",Ae,"+")):b("",!0),u(d(t.getStatMod(0)),1)])]),e("td",null,[e("button",{onClick:o[1]||(o[1]=n=>t.rollCheck(t.getSaveMod(0)))},[t.getSaveMod(0)>-1?(l(),a("span",Me,"+")):b("",!0),u(d(t.getSaveMod(0)),1)])])]),e("tr",null,[De,e("td",null,d(t.getStatTotal(1)),1),e("td",null,[e("button",{onClick:o[2]||(o[2]=n=>t.rollCheck(t.getStatMod(1)))},[t.getStatMod(1)>-1?(l(),a("span",Re,"+")):b("",!0),u(d(t.getStatMod(1)),1)])]),e("td",null,[e("button",{onClick:o[3]||(o[3]=n=>t.rollCheck(t.getSaveMod(1)))},[t.getSaveMod(1)>-1?(l(),a("span",Te,"+")):b("",!0),u(d(t.getSaveMod(1)),1)])])]),e("tr",null,[Pe,e("td",null,d(t.getStatTotal(2)),1),e("td",null,[e("button",{onClick:o[4]||(o[4]=n=>t.rollCheck(t.getStatMod(2)))},[t.getStatMod(2)>-1?(l(),a("span",Ie,"+")):b("",!0),u(d(t.getStatMod(2)),1)])]),e("td",null,[e("button",{onClick:o[5]||(o[5]=n=>t.rollCheck(t.getSaveMod(2)))},[t.getSaveMod(2)>-1?(l(),a("span",Le,"+")):b("",!0),u(d(t.getSaveMod(2)),1)])])]),e("tr",null,[Ne,e("td",null,d(t.getStatTotal(3)),1),e("td",null,[e("button",{onClick:o[6]||(o[6]=n=>t.rollCheck(t.getStatMod(3)))},[t.getStatMod(3)>-1?(l(),a("span",Be,"+")):b("",!0),u(d(t.getStatMod(3)),1)])]),e("td",null,[e("button",{onClick:o[7]||(o[7]=n=>t.rollCheck(t.getSaveMod(3)))},[t.getSaveMod(3)>-1?(l(),a("span",Ee,"+")):b("",!0),u(d(t.getSaveMod(3)),1)])])]),e("tr",null,[qe,e("td",null,d(t.getStatTotal(4)),1),e("td",null,[e("button",{onClick:o[8]||(o[8]=n=>t.rollCheck(t.getStatMod(4)))},[t.getStatMod(4)>-1?(l(),a("span",He,"+")):b("",!0),u(d(t.getStatMod(4)),1)])]),e("td",null,[e("button",{onClick:o[9]||(o[9]=n=>t.rollCheck(t.getSaveMod(4)))},[t.getSaveMod(4)>-1?(l(),a("span",We,"+")):b("",!0),u(d(t.getSaveMod(4)),1)])])]),e("tr",null,[Fe,e("td",null,d(t.getStatTotal(5)),1),e("td",null,[e("button",{onClick:o[10]||(o[10]=n=>t.rollCheck(t.getStatMod(5)))},[t.getStatMod(5)>-1?(l(),a("span",je,"+")):b("",!0),u(d(t.getStatMod(5)),1)])]),e("td",null,[e("button",{onClick:o[11]||(o[11]=n=>t.rollCheck(t.getSaveMod(5)))},[t.getSaveMod(5)>-1?(l(),a("span",ze,"+")):b("",!0),u(d(t.getSaveMod(5)),1)])])])])])])),t.mobile?(l(),a("div",Oe,[e("table",Ge,[Xe,e("tbody",null,[e("tr",null,[Ye,e("td",null,d(t.getStatTotal(0)),1),e("td",null,d(t.getStatTotal(1)),1),e("td",null,d(t.getStatTotal(2)),1),e("td",null,d(t.getStatTotal(3)),1),e("td",null,d(t.getStatTotal(4)),1),e("td",null,d(t.getStatTotal(5)),1)]),e("tr",null,[Ke,(l(),a(g,null,_(6,n=>e("td",{key:n},[e("button",{onClick:s=>t.rollCheck(t.getStatMod(n-1))},d(t.getStatMod(n-1)),9,Qe)])),64))]),e("tr",null,[Je,(l(),a(g,null,_(6,n=>e("td",{key:n},[e("button",{onClick:s=>t.rollCheck(t.getSaveMod(n-1))},d(t.getSaveMod(n-1)),9,Ze)])),64))]),e("tr",null,[xe,(l(),a(g,null,_(6,n=>e("td",{key:n},[r(e("input",{type:"number","onUpdate:modelValue":s=>t.character.stats[n-1]=s,class:"charsheet-num"},null,8,et),[[p,t.character.stats[n-1]]])])),64))]),e("tr",null,[tt,(l(),a(g,null,_(6,n=>e("td",{key:n},[r(e("input",{type:"number","onUpdate:modelValue":s=>t.character.race.stats[n-1]=s,class:"charsheet-num"},null,8,ot),[[p,t.character.race.stats[n-1]]])])),64))]),e("tr",null,[st,(l(),a(g,null,_(6,n=>e("td",{key:n},[r(e("input",{type:"number","onUpdate:modelValue":s=>t.character.statbonus[n-1]=s,class:"charsheet-num"},null,8,nt),[[p,t.character.statbonus[n-1]]])])),64))]),e("tr",null,[lt,(l(),a(g,null,_(6,n=>e("td",{key:n},[r(e("input",{type:"checkbox","onUpdate:modelValue":s=>t.character.saves[n-1]=s},null,8,at),[[A,t.character.saves[n-1]]])])),64))]),e("tr",null,[it,(l(),a(g,null,_(6,n=>e("td",{key:n},[r(e("input",{type:"number","onUpdate:modelValue":s=>t.character.savebonus[n-1]=s,class:"charsheet-num"},null,8,rt),[[p,t.character.savebonus[n-1]]])])),64))])])]),u(" Point Buy Total: "+d(t.characters.pointbuy),1),dt,u(" Stat Rolls: "),(l(!0),a(g,null,_(t.statRolls,(n,s)=>(l(),a("span",{key:s},d(n),1))),128)),e("input",{type:"button",onClick:o[12]||(o[12]=n=>t.rollStats()),value:"Roll!"})])):b("",!0)])}const ct=M(we,[["render",ut]]),ht={setup(){const t=D(),o=L(),{character:c,warlockSlotLevel:m}=S(t),f=t.castSpell;return{characters:t,userinfo:o,character:c,warlockSlotLevel:m,castSpell:f}},computed:{actions(){let t=[...this.baseActions];return this.character.actions.forEach(o=>{o.actiontype==="action"&&(typeof o.show>"u"&&(o.show=!1),t.push(o))}),Object.keys(this.character.spells).forEach(o=>{this.character.spells[o].forEach(c=>{let m=!1;for(var f=Number(c.level);f<=9;f++)this.character.availableslots["level"+f]>0&&(m=!0);this.warlockSlotLevel>=Number(c.level)&&this.character.warlockslotsavailable>0&&(m=!0),c.castingTime==="1 action"&&(c.level==="cantrip"||c.prepared&&m)&&(typeof c.id>"u"&&(c.id=Date.now()+Math.random(),c.name="Cast "+c.title,c.show=!1),t.push(c))})}),t},bonus(){let t=[];return this.character.actions.forEach(o=>{o.actiontype==="bonus"&&(typeof o.show>"u"&&(o.show=!1),t.push(o))}),Object.keys(this.character.spells).forEach(o=>{this.character.spells[o].forEach(c=>{let m=!1;for(var f=Number(c.level);f<=9;f++)this.character.availableslots["level"+f]>0&&(m=!0);this.warlockSlotLevel>=Number(c.level)&&this.character.warlockslotsavailable>0&&(m=!0),c.castingTime==="1 bonus action"&&(c.level==="cantrip"||c.prepared&&m)&&(typeof c.id>"u"&&(c.id=Date.now()+Math.random(),c.name="Cast "+c.title,c.show=!1),t.push(c))})}),t},reactions(){let t=[...this.baseReactions];return this.character.actions.forEach(o=>{o.actiontype==="reaction"&&(typeof o.show>"u"&&(o.show=!1),t.push(o))}),Object.keys(this.character.spells).forEach(o=>{this.character.spells[o].forEach(c=>{let m=!1;for(var f=Number(c.level);f<=9;f++)this.character.availableslots["level"+f]>0&&(m=!0);this.warlockSlotLevel>=Number(c.level)&&this.character.warlockslotsavailable>0&&(m=!0),c.castingTime.includes("reaction")&&(c.level==="cantrip"||c.prepared&&m)&&(typeof c.id>"u"&&(c.id=Date.now()+Math.random(),c.name="Cast "+c.title,c.show=!1),t.push(c))})}),t}},data:function(){return{baseActions:[{id:8,name:"Attack",description:"Attack with a weapon, unarmed strike, grapple (opposed athletics), or shove",show:!1},{id:0,name:"Dash",description:"you gain extra movement for the current turn. The increase equals your speed, after applying any modifiers.",show:!1},{id:1,name:"Disenage",description:"your movement doesn\u2019t provoke opportunity attacks for the rest of the turn.",show:!1},{id:2,name:"Dodge",description:"Until the start of your next turn, any attack roll made against you has disadvantage if you can see the attacker, and you make Dexterity saving throws with advantage.",show:!1},{id:3,name:"Help",description:"the creature you aid gains advantage on the next ability check it makes to perform the task you are helping with, provided that it makes the check before the start of your next turn.",show:!1},{id:4,name:"Hide",description:"you make a Dexterity (Stealth) check in an attempt to hide, following the rules in chapter 7 for hiding. If you succeed, you gain certain benefits, as described in the \u201CUnseen Attackers and Targets\u201D section",show:!1},{id:5,name:"Ready",description:"decide what perceivable circumstance will trigger your reaction. Then, you choose the action you will take in response to that trigger, or you choose to move up to your speed in response to it. When the trigger occurs, you can either take your reaction right after the trigger finishes or ignore the trigger.",show:!1},{id:6,name:"Search",description:"you devote your attention to finding something.",show:!1},{id:7,name:"Use an Object",description:"When an object requires your action for its use, you take the Use an Object action.",show:!1}],baseReactions:[{id:9,name:"Opportunity Attack",description:"When an opponent moves out of your reach you can use a reaction to make 1 attack against them",show:!1}],showstandard:!1,addActionModal:!1,newaction:{name:"",description:"",actiontype:"action",id:Date.now(),useradd:!0,resourceused:!1,show:!1}}},methods:{forceUpdate(){this.$forceUpdate()},addAction(){this.character.actions.push(this.newaction),this.newaction={name:"",description:"",actiontype:"action",id:Date.now(),useradd:!0,resourceused:!1,show:!1}},doAction(t){let o=this.character.resources.filter(c=>c.name===t.resourceused.name)[0];o.current--,this.$forceUpdate()},resourceAvailable(t){return this.character.resources.filter(c=>c.name===t.resourceused.name)[0].current>0},deleteAction(t){confirm("Are you sure you want to delete this action?")&&this.character.actions.splice(this.character.actions.findIndex(o=>o.id===t.id),1)}}},pt={class:"charsheet-static smalltext",id:"attackdiv"},mt={class:"row"},vt={class:"col-sm"},bt=e("h4",null,"Actions",-1),$t=["title"],yt=["onClick"],ft=["onClick"],gt={key:0},_t={key:1},kt=["disabled","onClick"],wt=["onClick"],Ct=["onClick"],Vt=["onUpdate:modelValue"],Ut={key:0,value:"warlock"},St=["innerHTML"],At={class:"col-sm"},Mt=e("h4",null,"Bonus Actions",-1),Dt=["title"],Rt=["onClick"],Tt=["onClick"],Pt={key:0},It={key:1},Lt=["onClick","disabled"],Nt=["onClick"],Bt=["onClick"],Et=["onUpdate:modelValue"],qt={key:0,value:"warlock"},Ht=["innerHTML"],Wt={class:"col-sm"},Ft=e("h4",null,"Reactions",-1),jt=["title"],zt=["onClick"],Ot=["onClick"],Gt={key:0},Xt={key:1},Yt=["onClick","disabled"],Kt=["onClick"],Qt=["onClick"],Jt=["onUpdate:modelValue"],Zt={key:0,value:"warlock"},xt=["innerHTML"],eo=e("label",null,"Name:",-1),to=e("label",null,"Action Type:",-1),oo=e("option",{value:"action"},"Action",-1),so=e("option",{value:"bonus"},"Bonus Action",-1),no=e("option",{value:"reaction"},"Reaction",-1),lo=[oo,so,no],ao=e("label",null,"Resource Used",-1),io=e("option",{value:!1},"None",-1),ro=["value"],uo=e("label",null,"Description:",-1),co={class:"row"},ho={class:"btn-group col"};function po(t,o,c,m,f,k){const n=V("b-modal");return l(),a("div",pt,[e("div",mt,[e("div",vt,[bt,(l(!0),a(g,null,_(t.actions,s=>(l(),a("div",{key:s.id+s.show.toString(),title:s.description},[e("strong",{onClick:i=>{s.show=!s.show,t.forceUpdate()}},d(s.name),9,yt),e("button",{class:"btn btn-sm",onClick:i=>{s.show=!s.show,t.forceUpdate()}},[s.show?(l(),a("span",gt,"\u25B2")):b("",!0),s.show?b("",!0):(l(),a("span",_t,"\u25BC"))],8,ft),s.useradd&&s.resourceused?(l(),a("button",{key:0,disabled:!t.resourceAvailable(s),onClick:i=>t.doAction(s),class:"btn btn-sm btn-primary"},"Do",8,kt)):b("",!0),s.useradd?(l(),a("button",{key:1,onClick:i=>t.deleteAction(s),class:"btn btn-sm"},"X",8,wt)):b("",!0),s.title?(l(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary print-hide",onClick:i=>t.castSpell(s)},"Cast",8,Ct)):b("",!0),s.title&&s.level!=="cantrip"?r((l(),a("select",{key:3,"onUpdate:modelValue":i=>s.castLevel=i},[e("option",null,d(Number(s.level)),1),(l(!0),a(g,null,_(9-s.level,i=>(l(),a("option",{key:i},d(Number(i)+Number(s.level)),1))),128)),t.warlockSlotLevel>=s.level?(l(),a("option",Ut,"wlk")):b("",!0)],8,Vt)),[[w,s.castLevel]]):b("",!0),s.show?(l(),a("div",{innerHTML:t.$options.filters.marked(s.description),key:s.id},null,8,St)):b("",!0)],8,$t))),128))]),e("div",At,[Mt,(l(!0),a(g,null,_(t.bonus,s=>(l(),a("div",{key:s.id+s.show.toString(),title:s.description},[e("strong",{onClick:i=>{s.show=!s.show,t.forceUpdate()}},d(s.name),9,Rt),e("button",{class:"btn btn-sm",onClick:i=>{s.show=!s.show,t.forceUpdate()}},[s.show?(l(),a("span",Pt,"\u25B2")):b("",!0),s.show?b("",!0):(l(),a("span",It,"\u25BC"))],8,Tt),s.useradd&&s.resourceused?(l(),a("button",{key:0,onClick:i=>t.doAction(s),class:"btn btn-sm btn-primary",disabled:!t.resourceAvailable(s)},"Do",8,Lt)):b("",!0),s.useradd?(l(),a("button",{key:1,onClick:i=>t.deleteAction(s),class:"btn btn-sm"},"X",8,Nt)):b("",!0),s.title?(l(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary print-hide",onClick:i=>t.castSpell(s)},"Cast",8,Bt)):b("",!0),s.title&&s.level!=="cantrip"?r((l(),a("select",{key:3,"onUpdate:modelValue":i=>s.castLevel=i},[e("option",null,d(Number(s.level)),1),(l(!0),a(g,null,_(9-s.level,i=>(l(),a("option",{key:i},d(Number(i)+Number(s.level)),1))),128)),t.warlockSlotLevel>=s.level?(l(),a("option",qt,"wlk")):b("",!0)],8,Et)),[[w,s.castLevel]]):b("",!0),s.show?(l(),a("div",{key:4,innerHTML:t.$options.filters.marked(s.description)},null,8,Ht)):b("",!0)],8,Dt))),128))]),e("div",Wt,[Ft,(l(!0),a(g,null,_(t.reactions,s=>(l(),a("div",{key:s.id+s.show.toString(),title:s.description},[e("strong",{onClick:i=>{s.show=!s.show,t.forceUpdate()}},d(s.name),9,zt),e("button",{class:"btn btn-sm",onClick:i=>{s.show=!s.show,t.forceUpdate()}},[s.show?(l(),a("span",Gt,"\u25B2")):b("",!0),s.show?b("",!0):(l(),a("span",Xt,"\u25BC"))],8,Ot),s.useradd&&s.resourceused?(l(),a("button",{key:0,onClick:i=>t.doAction(s),class:"btn btn-sm btn-primary",disabled:!t.resourceAvailable(s)},"Do",8,Yt)):b("",!0),s.useradd?(l(),a("button",{key:1,onClick:i=>t.deleteAction(s),class:"btn btn-sm"},"X",8,Kt)):b("",!0),s.title?(l(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary print-hide",onClick:i=>t.castSpell(s)},"Cast",8,Qt)):b("",!0),s.title&&s.level!=="cantrip"?r((l(),a("select",{key:3,"onUpdate:modelValue":i=>s.castLevel=i},[e("option",null,d(Number(s.level)),1),(l(!0),a(g,null,_(9-s.level,i=>(l(),a("option",{key:i},d(Number(i)+Number(s.level)),1))),128)),t.warlockSlotLevel>=s.level?(l(),a("option",Zt,"wlk")):b("",!0)],8,Jt)),[[w,s.castLevel]]):b("",!0),s.show?(l(),a("div",{key:4,innerHTML:t.$options.filters.marked(s.description)},null,8,xt)):b("",!0)],8,jt))),128))]),y(n,{modelValue:t.addActionModal,"onUpdate:modelValue":o[4]||(o[4]=s=>t.addActionModal=s),onOk:o[5]||(o[5]=s=>t.addAction()),"modal-class":t.userinfo.themesetting},{default:C(()=>[eo,r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=s=>t.newaction.name=s)},null,512),[[p,t.newaction.name]]),to,r(e("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.newaction.actiontype=s),class:"form-control"},lo,512),[[w,t.newaction.actiontype]]),ao,r(e("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>t.newaction.resourceused=s),class:"form-control"},[io,(l(!0),a(g,null,_(t.character.resources,s=>(l(),a("option",{key:s.name,value:s},d(s.name),9,ro))),128))],512),[[w,t.newaction.resourceused]]),uo,r(e("textarea",{"onUpdate:modelValue":o[3]||(o[3]=s=>t.newaction.description=s),class:"form-control"},null,512),[[p,t.newaction.description]])]),_:1},8,["modelValue","modal-class"])]),e("div",co,[e("div",ho,[e("button",{onClick:o[6]||(o[6]=s=>t.addActionModal=!0),class:"btn btn-sm btn-primary"},"+")])])])}const re=M(ht,[["render",po]]),mo={setup(){const t=D(),{character:o}=S(t),c=t.loadImage;return{character:o,loadimage:c}},methods:{rollHeightWeight(){let t=I.roll(this.character.race.heightroll).total,o=this.character.race.baseheight+t,c=Math.floor(o/12),m=o%12;this.character.height=c+"' "+m+'"';let f=I.roll(this.character.race.weightroll).total;this.character.weight=this.character.race.baseweight+t*f+" lbs"}}},vo={class:"row"},bo={class:"col-sm"},$o={class:"col-sm"},yo={class:"col-sm"},fo=T('<option value="Lawful Good">Lawful Good</option><option value="Neutral Good">Neutral Good</option><option value="Chaotic Good">Chaotic Good</option><option value="Lawful Neutral">Lawful Neutral</option><option value="Neutral">Neutral</option><option value="Chaotic Neutral">Chaotic Neutral</option><option value="Lawful Evil">Lawful Evil</option><option value="Neutral Evil">Neutral Evil</option><option value="Chaotic Evil">Chaotic Evil</option>',9),go=[fo],_o={class:"row"},ko={class:"col-sm"},wo={class:"col-sm"},Co={class:"col-sm"},Vo={class:"col-sm"},Uo={class:"col-sm"},So={class:"col-sm"},Ao={class:"row print-hide"},Mo=e("input",{type:"file",id:"imageload",class:"col-sm"},null,-1),Do={class:"col-sm"},Ro={key:0,class:"row print-hide"},To={class:"col"},Po=["src","alt"];function Io(t,o,c,m,f,k){return l(),a("div",null,[e("div",vo,[e("div",bo,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[0]||(o[0]=n=>t.character.gender=n)},null,512),[[p,t.character.gender]]),u(" Gender ")]),e("div",$o,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[1]||(o[1]=n=>t.character.god=n)},null,512),[[p,t.character.god]]),u(" God Worshipped ")]),e("div",yo,[r(e("select",{"onUpdate:modelValue":o[2]||(o[2]=n=>t.character.alignment=n),class:"charsheet-text"},go,512),[[w,t.character.alignment]]),u(" Alignment ")])]),e("div",_o,[e("div",ko,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[3]||(o[3]=n=>t.character.age=n)},null,512),[[p,t.character.age]]),u(" Age ")]),e("div",wo,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[4]||(o[4]=n=>t.character.height=n)},null,512),[[p,t.character.height]]),u(" Height "),e("button",{class:"btn-sm btn-primary",onClick:o[5]||(o[5]=n=>t.rollHeightWeight())},"Roll")]),e("div",Co,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[6]||(o[6]=n=>t.character.weight=n)},null,512),[[p,t.character.weight]]),u(" Weight ")]),e("div",Vo,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[7]||(o[7]=n=>t.character.hair=n)},null,512),[[p,t.character.hair]]),u(" Hair ")]),e("div",Uo,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[8]||(o[8]=n=>t.character.eyes=n)},null,512),[[p,t.character.eyes]]),u(" Eyes ")]),e("div",So,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[9]||(o[9]=n=>t.character.skin=n)},null,512),[[p,t.character.skin]]),u(" Skin ")])]),e("div",Ao,[Mo,e("div",Do,[e("input",{type:"button",onClick:o[10]||(o[10]=n=>t.loadimage()),class:"btn btn-success",value:"upload image"})])]),t.character.image?(l(),a("div",Ro,[e("div",To,[e("img",{src:t.character.image,alt:t.character.name,style:{"max-width":"100%"}},null,8,Po)])])):b("",!0)])}const Lo=M(mo,[["render",Io]]),No={setup(){const t=D(),o=L(),{character:c,getAttBonus:m,getStatMod:f,getAttackBonus:k,getDamageBonus:n}=S(t),s=t.removeAttack;return{characters:t,userinfo:o,character:c,getAttBonus:m,getStatMod:f,getAttackBonus:k,getDamageBonus:n,removeAttack:s}},data(){return{newattack:{name:"",stat:0,bonus:0,damage:[{dice:"",dtype:"",damagebonus:0,addstat:!1}],range:"",type:"",edit:!1,prof:!0,advantage:!1,rolls:{},rolled:!1,roll:!1,critRange:20},attackmodal:!1}},methods:{addAttack(){this.character.attacks.push(this.newattack),this.newattack={name:"",stat:0,bonus:0,damage:[{dice:"",dtype:"",damagebonus:0,addstat:!1}],range:"",type:"",edit:!1,prof:!0,advantage:!1,rolls:{},rolled:!1,roll:!1,critRange:20},this.attackmodal=!1},addDamage(t){t.damage.push({dice:"",dtype:"",damagebonus:0,addstat:!1})},removeDamage(t,o){t.damage.splice(o,1)},rerollDie(t,o,c,m){o[c]=I.roll(t).total;let f=this;m.rolls.damage.forEach(k=>{k.total=k.dRoll.rolls.reduce((n,s)=>n+s,0)+Number(k.damagebonus)+(k.addstat?Number(f.getStatMod(m.stat)):0)+(m.rolls.crit?k.critRoll.total:0)}),m.rolls.totalDamage=m.rolls.damage.reduce((k,n)=>k+n.total,0),this.$forceUpdate()},parse(t){return I.parse(t)},rollAttack(t){t.rolls={},t.rolls.elvenAccuracy=this.character.feats.reduce((o,c)=>c.name==="Elven Accuracy"||o,!1)&&(t.stat===1||t.stat===3||t.stat===4||t.stat===5),t.rolls.rawRoll=Number(I.roll("1d20")),t.rolls.firstRoll=t.rolls.rawRoll,t.rolls.secondRoll=Number(I.roll("1d20")),t.rolls.thirdRoll=Number(I.roll("1d20")),(t.advantage==="advantage"&&t.rolls.secondRoll>t.rolls.rawRoll||t.advantage==="disadvantage"&&t.rolls.secondRoll<t.rolls.rawRoll)&&(t.rolls.rawRoll=t.rolls.secondRoll),t.rolls.advantage==="advantage"&&t.rolls.elvenAccuracy&&t.rolls.thirdRoll>t.rolls.rawRoll&&(t.rolls.rawRoll=t.rolls.thirdRoll),t.rolls.toHit=t.rolls.rawRoll+Number(this.getAttackBonus(t)),t.rolls.crit=!1,t.rolls.rawRoll>=Number(t.critRange)&&(t.rolls.crit=!0),t.rolls.damage=t.damage.map(o=>{let c={...o};return c.dRoll=I.roll(o.dice),c.critRoll=I.roll(o.dice),c.total=c.dRoll.total+this.getDamageBonus(o,t.stat)+(t.rolls.crit?c.critRoll.total:0),c}),t.rolls.totalDamage=t.rolls.damage.reduce((o,c)=>o+c.total,0),t.rolled=!0,this.$forceUpdate()}}},Bo={class:"charsheet-static",id:"attackdiv"},Eo=e("h4",null,"Attacks",-1),qo=["onUpdate:modelValue"],Ho=e("option",{value:!1},"None",-1),Wo=e("option",{value:"advantage"},"Advantage",-1),Fo=e("option",{value:"disadvantage"},"Disadvantage",-1),jo=[Ho,Wo,Fo],zo=["onClick"],Oo={key:0},Go={key:0},Xo=e("strong",null,"Attack Roll:",-1),Yo={key:0},Ko={key:0},Qo=e("strong",null,"Total Damage: ",-1),Jo=e("p",null,[e("strong",null,"Damage Rolls")],-1),Zo={class:"abilitytable"},xo=e("th",null,"Total",-1),es=e("th",null,"Bonus",-1),ts=e("td",null,"-",-1),os=["onClick"],ss=["onClick"],ns=e("td",null,"-",-1),ls=["onClick"],as={key:0},is={key:0},rs={key:1},ds=["onClick"],us=["onClick"],cs=["onUpdate:modelValue"],hs=["onUpdate:modelValue"],ps=["onUpdate:modelValue"],ms=e("option",{value:0},"Strength",-1),vs=e("option",{value:1},"Dexterity",-1),bs=e("option",{value:2},"Constitution",-1),$s=e("option",{value:3},"Intelligence",-1),ys=e("option",{value:4},"Wisdom",-1),fs=e("option",{value:5},"Charisma",-1),gs=[ms,vs,bs,$s,ys,fs],_s=["onUpdate:modelValue"],ks=["onUpdate:modelValue"],ws=["onUpdate:modelValue"],Cs=["onUpdate:modelValue"],Vs=e("option",null,"Melee Weapon Attack",-1),Us=e("option",null,"Ranged Weapon Attack",-1),Ss=e("option",null,"Melee Spell Attack",-1),As=e("option",null,"Ranged Spell Attack",-1),Ms=e("option",null,"Unarmed Strike",-1),Ds=[Vs,Us,Ss,As,Ms],Rs=["onUpdate:modelValue"],Ts=["onUpdate:modelValue"],Ps=["onUpdate:modelValue"],Is=e("br",null,null,-1),Ls=["onUpdate:modelValue"],Ns=e("option",null,"Bludgeoning",-1),Bs=e("option",null,"Piercing",-1),Es=e("option",null,"Slashing",-1),qs=e("option",null,"Acid",-1),Hs=e("option",null,"Cold",-1),Ws=e("option",null,"Fire",-1),Fs=e("option",null,"Force",-1),js=e("option",null,"Lightning",-1),zs=e("option",null,"Necrotic",-1),Os=e("option",null,"Poison",-1),Gs=e("option",null,"Psychic",-1),Xs=e("option",null,"Radiant",-1),Ys=e("option",null,"Thunder",-1),Ks=[Ns,Bs,Es,qs,Hs,Ws,Fs,js,zs,Os,Gs,Xs,Ys],Qs=["onClick"],Js=["onClick"],Zs=e("option",{value:0},"Strength",-1),xs=e("option",{value:1},"Dexterity",-1),en=e("option",{value:2},"Constitution",-1),tn=e("option",{value:3},"Intelligence",-1),on=e("option",{value:4},"Wisdom",-1),sn=e("option",{value:5},"Charisma",-1),nn=[Zs,xs,en,tn,on,sn],ln=e("option",null,"Melee Weapon Attack",-1),an=e("option",null,"Ranged Weapon Attack",-1),rn=e("option",null,"Melee Spell Attack",-1),dn=e("option",null,"Ranged Spell Attack",-1),un=e("option",null,"Unarmed Strike",-1),cn=[ln,an,rn,dn,un],hn=["onUpdate:modelValue"],pn=["onUpdate:modelValue"],mn=["onUpdate:modelValue"],vn=e("br",null,null,-1),bn=["onUpdate:modelValue"],$n=e("option",null,"Bludgeoning",-1),yn=e("option",null,"Piercing",-1),fn=e("option",null,"Slashing",-1),gn=e("option",null,"Acid",-1),_n=e("option",null,"Cold",-1),kn=e("option",null,"Fire",-1),wn=e("option",null,"Force",-1),Cn=e("option",null,"Lightning",-1),Vn=e("option",null,"Necrotic",-1),Un=e("option",null,"Poison",-1),Sn=e("option",null,"Psychic",-1),An=e("option",null,"Radiant",-1),Mn=e("option",null,"Thunder",-1),Dn=[$n,yn,fn,gn,_n,kn,wn,Cn,Vn,Un,Sn,An,Mn],Rn=["onClick"];function Tn(t,o,c,m,f,k){const n=V("b-modal");return l(),a("div",Bo,[Eo,(l(!0),a(g,null,_(t.character.attacks,(s,i)=>(l(),a("div",{key:i,class:"smalltext"},[y(n,{modelValue:s.roll,"onUpdate:modelValue":h=>s.roll=h,title:"Roll Attack",onOk:h=>{s.roll=!1,s.rolled=!1},class:R(t.userinfo.darkmode)},{default:C(()=>[e("h4",null,d(s.name),1),u(" Advantage "),r(e("select",{class:"form-control","onUpdate:modelValue":h=>s.advantage=h},jo,8,qo),[[w,s.advantage]]),e("button",{type:"button",class:"btn btn-primary",onClick:h=>t.rollAttack(s)},"Roll Now!",8,zo),s.rolled?(l(),a("div",Oo,[s.rolls.crit?(l(),a("h5",Go,"Critical Hit!")):b("",!0),e("p",null,[Xo,u(" "+d(s.rolls.toHit)+" ("+d(s.rolls.rawRoll)+" + "+d(t.getAttackBonus(s))+") (All dice results: "+d(s.rolls.firstRoll)+" ",1),s.advantage?(l(),a("span",Yo,[u(d(s.rolls.secondRoll)+" ",1),s.rolls.elvenAccuracy?(l(),a("span",Ko,d(s.rolls.thirdRoll),1)):b("",!0)])):b("",!0),u(") ")]),e("p",null,[Qo,u(" "+d(s.rolls.totalDamage),1)]),Jo,(l(!0),a(g,null,_(s.rolls.damage,(h,v)=>(l(),a("div",{key:v},[u(d(h.dtype)+" Damage: "+d(h.total)+" ",1),e("table",Zo,[e("thead",null,[e("tr",null,[xo,(l(!0),a(g,null,_(t.parse(h.dice).numDice,$=>(l(),a("th",{key:$},d($),1))),128)),s.rolls.crit?(l(!0),a(g,{key:0},_(t.parse(h.dice).numDice,$=>(l(),a("th",{key:$},d($+t.parse(h.dice).numDice),1))),128)):b("",!0),es])]),e("tbody",null,[e("tr",null,[e("td",null,d(h.total),1),(l(!0),a(g,null,_(t.parse(h.dice).numDice,$=>(l(),a("td",{key:$},d(h.dRoll.rolls[$-1]),1))),128)),s.rolls.crit?(l(!0),a(g,{key:0},_(t.parse(h.dice).numDice,$=>(l(),a("td",{key:$},d(h.critRoll.rolls[$-1]),1))),128)):b("",!0),e("td",null,d(t.getDamageBonus(h,s.stat)),1)]),e("tr",null,[ts,(l(!0),a(g,null,_(t.parse(h.dice).numDice,$=>(l(),a("td",{key:$},[e("button",{class:"btn btn-sm btn-primary",onClick:U=>t.rerollDie("1d"+t.parse(h.dice).numSides,h.dRoll.rolls,$-1,s)},"ReRoll",8,os)]))),128)),s.rolls.crit?(l(!0),a(g,{key:0},_(t.parse(h.dice).numDice,$=>(l(),a("td",{key:$},[e("button",{class:"btn btn-sm btn-primary",onClick:U=>t.rerollDie("1d"+t.parse(h.dice).numSides,h.critRoll.rolls,$-1,s)},"ReRoll",8,ss)]))),128)):b("",!0),ns])])])]))),128))])):b("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","onOk","class"]),e("button",{type:"button",class:"btn print-hide btn-sm btn-primary",onClick:h=>s.roll=!0},"roll",8,ls),e("strong",null,d(s.name)+":",1),u(" "+d(s.type)+", range "+d(s.range)+", ",1),t.getAttackBonus(s)>-1?(l(),a("span",as,"+")):b("",!0),u(d(t.getAttackBonus(s))+" to hit ( ",1),(l(!0),a(g,null,_(s.damage,(h,v)=>(l(),a("span",{key:v},[u(d(h.dice),1),t.getDamageBonus(h,s.stat)>0?(l(),a("span",is,"+ "+d(t.getDamageBonus(h,s.stat)),1)):b("",!0),t.getDamageBonus(h,s.stat)<0?(l(),a("span",rs,d(t.getDamageBonus(h,s.stat)),1)):b("",!0),u(" "+d(h.dtype)+" damage ",1)]))),128)),u(") Critical Hit on "+d(s.critRange)+". ",1),e("button",{type:"button",class:"print-hide btn-symbol",onClick:h=>s.edit=!0},"\u270E",8,ds),e("button",{type:"button",onClick:h=>t.removeAttack(i),class:"print-hide btn btn-sm btn-danger"},"X",8,us),y(n,{modelValue:s.edit,"onUpdate:modelValue":h=>s.edit=h,class:R(t.userinfo.darkmode)},{default:C(()=>[u(" Name: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.name=h},null,8,cs),[[p,s.name]]),r(e("input",{type:"checkbox","onUpdate:modelValue":h=>s.prof=h},null,8,hs),[[A,s.prof]]),u("Proficient? "),r(e("select",{class:"form-control","onUpdate:modelValue":h=>s.stat=h},gs,8,ps),[[w,s.stat]]),u(" Crit Roll: "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":h=>s.critRange=h},null,8,_s),[[p,s.critRange]]),u(" Additional Attack Bonus: "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":h=>s.bonus=h},null,8,ks),[[p,s.bonus]]),u(" Range: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.range=h},null,8,ws),[[p,s.range]]),u(" Type: "),r(e("select",{"onUpdate:modelValue":h=>s.type=h,class:"form-control"},Ds,8,Cs),[[w,s.type]]),(l(!0),a(g,null,_(s.damage,(h,v)=>(l(),a("div",{key:v},[u(" Damage Dice: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":$=>h.dice=$},null,8,Rs),[[p,h.dice]]),u(" Damage Bonus (not including ability mod): "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":$=>h.damagebonus=$},null,8,Ts),[[p,h.damagebonus]]),r(e("input",{type:"checkbox","onUpdate:modelValue":$=>h.addstat=$},null,8,Ps),[[A,h.addstat]]),u("Add Ability Mod to Damage?"),Is,u(" Damage Type: "),r(e("select",{"onUpdate:modelValue":$=>h.dtype=$,class:"form-control"},Ks,8,Ls),[[w,h.dtype]]),e("button",{onClick:$=>t.removeDamage(s,v),class:"btn btn-sm btn-danger"},"Remove",8,Qs)]))),128)),e("button",{onClick:h=>t.addDamage(s),class:"btn btn-primary btn-sm"},"Add Damage",8,Js)]),_:2},1032,["modelValue","onUpdate:modelValue","class"])]))),128)),e("button",{type:"button",onClick:o[0]||(o[0]=s=>t.attackmodal=!0),class:"print-hide btn btn-primary btn-sm"},"+"),y(n,{modelValue:t.attackmodal,"onUpdate:modelValue":o[9]||(o[9]=s=>t.attackmodal=s),title:"Add Attack",onOk:o[10]||(o[10]=s=>t.addAttack())},{default:C(()=>[u(" Name: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>t.newattack.name=s)},null,512),[[p,t.newattack.name]]),r(e("input",{type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=s=>t.newattack.prof=s)},null,512),[[A,t.newattack.prof]]),u("Proficient? "),r(e("select",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=s=>t.newattack.stat=s)},nn,512),[[w,t.newattack.stat]]),u(" Crit Roll: "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=s=>t.newattack.critRange=s)},null,512),[[p,t.newattack.critRange]]),u(" Additional Attack Bonus (do not include proficiency or ability mod): "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=s=>t.newattack.bonus=s)},null,512),[[p,t.newattack.bonus]]),u(" Range: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=s=>t.newattack.range=s)},null,512),[[p,t.newattack.range]]),u(" Type: "),r(e("select",{"onUpdate:modelValue":o[7]||(o[7]=s=>t.newattack.type=s),class:"form-control"},cn,512),[[w,t.newattack.type]]),(l(!0),a(g,null,_(t.newattack.damage,(s,i)=>(l(),a("div",{key:i},[u(" Damage Dice: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.dice=h},null,8,hn),[[p,s.dice]]),u(" Damage Bonus (not including ability mod): "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":h=>s.damagebonus=h},null,8,pn),[[p,s.damagebonus]]),r(e("input",{type:"checkbox","onUpdate:modelValue":h=>s.addstat=h},null,8,mn),[[A,s.addstat]]),u("Add Ability Mod to Damage?"),vn,u(" Damage Type: "),r(e("select",{"onUpdate:modelValue":h=>s.dtype=h,class:"form-control"},Dn,8,bn),[[w,s.dtype]]),e("button",{onClick:h=>t.removeDamage(t.newattack,i),class:"btn btn-sm btn-danger"},"Remove",8,Rn)]))),128)),e("button",{onClick:o[8]||(o[8]=s=>t.addDamage(t.newattack)),class:"btn btn-primary btn-sm"},"Add Damage")]),_:1},8,["modelValue"])])}const de=M(No,[["render",Tn]]),Pn={setup(){const t=D(),{character:o}=S(t);return{character:o}}},In={class:"row"},Ln=e("h4",{class:"col-12"},"Various Bonuses",-1),Nn={class:"col-3"},Bn={class:"col-3"},En={class:"col-3"},qn={class:"col-3"},Hn={class:"row"},Wn={class:"col-2"},Fn={class:"col-2"},jn={class:"col-2"},zn={class:"col-2"},On={class:"col-2"},Gn={class:"row"},Xn={class:"col-6"},Yn=T('<option value="tiny">Tiny</option><option value="small">Small</option><option value="medium">Medium</option><option value="large">Large</option><option value="huge">Huge</option>',5),Kn=[Yn],Qn={class:"col-6"},Jn=e("h5",null,"Bonus Spell Slots",-1),Zn={class:"row"},xn={class:"col-3"},el={class:"col-3"},tl={class:"col-3"},ol={class:"col-3"},sl={class:"col-3"},nl={class:"col-3"},ll={class:"col-3"},al={class:"col-3"},il={class:"col-3"},rl={class:"col-3"},dl={class:"col-3"},ul=e("h5",null,"Save DC Bonus",-1),cl={class:"table table-sm"},hl=e("tr",null,[e("th",null,"STR"),e("th",null,"DEX"),e("th",null,"CON"),e("th",null,"INT"),e("th",null,"WIS"),e("th",null,"CHA")],-1),pl=e("h5",null,"Spell Attack Bonus",-1),ml={class:"table table-sm"},vl=e("tr",null,[e("th",null,"STR"),e("th",null,"DEX"),e("th",null,"CON"),e("th",null,"INT"),e("th",null,"WIS"),e("th",null,"CHA")],-1),bl=e("h5",null,"Bonus Spells Known",-1),$l={class:"table table-sm"},yl=["onUpdate:modelValue"],fl=e("h5",null,"Damage Reduction",-1),gl={class:"table table-sm"},_l=e("th",null,"Piercing",-1),kl=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),wl=[kl],Cl=e("th",null,"Slashing",-1),Vl=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Ul=[Vl],Sl=e("th",null,"Bludgeoning",-1),Al=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Ml=[Al],Dl=e("th",null,"Acid",-1),Rl=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Tl=[Rl],Pl=e("th",null,"Cold",-1),Il=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Ll=[Il],Nl=e("th",null,"Fire",-1),Bl=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),El=[Bl],ql=e("th",null,"Force",-1),Hl=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Wl=[Hl],Fl=e("th",null,"Lightning",-1),jl=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),zl=[jl],Ol=e("th",null,"Necrotic",-1),Gl=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Xl=[Gl],Yl=e("th",null,"Poison",-1),Kl=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Ql=[Kl],Jl=e("th",null,"Psychic",-1),Zl=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),xl=[Zl],ea=e("th",null,"Radiant",-1),ta=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),oa=[ta],sa=e("th",null,"Thunder",-1),na=T('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistant</option><option value="immunity">Immune</option><option value="vulnerable">Vulnerable</option>',5),la=[na];function aa(t,o,c,m,f,k){return l(),a("div",null,[e("div",In,[Ln,e("div",Nn,[r(e("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[0]||(o[0]=n=>t.character.initmagic=n)},null,512),[[p,t.character.initmagic]]),u(" Initiative ")]),e("div",Bn,[r(e("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[1]||(o[1]=n=>t.character.hpmagic=n)},null,512),[[p,t.character.hpmagic]]),u(" Hit Points ")]),e("div",En,[r(e("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[2]||(o[2]=n=>t.character.acmagic=n)},null,512),[[p,t.character.acmagic]]),u(" AC ")]),e("div",qn,[r(e("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[3]||(o[3]=n=>t.character.bonusfeats=n)},null,512),[[p,t.character.bonusfeats]]),u(" Bonus Feats ")])]),e("div",Hn,[e("div",Wn,[r(e("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[4]||(o[4]=n=>t.character.speedmagic[0]=n)},null,512),[[p,t.character.speedmagic[0]]]),u(" Speed ")]),e("div",Fn,[r(e("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[5]||(o[5]=n=>t.character.speedmagic[1]=n)},null,512),[[p,t.character.speedmagic[1]]]),u(" Fly ")]),e("div",jn,[r(e("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[6]||(o[6]=n=>t.character.speedmagic[2]=n)},null,512),[[p,t.character.speedmagic[2]]]),u(" Climb ")]),e("div",zn,[r(e("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[7]||(o[7]=n=>t.character.speedmagic[3]=n)},null,512),[[p,t.character.speedmagic[3]]]),u(" Swim ")]),e("div",On,[r(e("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[8]||(o[8]=n=>t.character.speedmagic[4]=n)},null,512),[[p,t.character.speedmagic[4]]]),u(" Burrow ")])]),e("div",Gn,[e("div",Xn,[r(e("select",{"onUpdate:modelValue":o[9]||(o[9]=n=>t.character.size=n),class:"charsheet-text"},Kn,512),[[w,t.character.size]]),u("Effective Size for Carry Capacity ")]),e("div",Qn,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[10]||(o[10]=n=>t.character.capacitybonus=n)},null,512),[[p,t.character.capacitybonus]]),u(" Carry Capacity Bonus ")])]),Jn,e("div",Zn,[e("div",xn,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[11]||(o[11]=n=>t.character.bonusslots[0]=n)},null,512),[[p,t.character.bonusslots[0]]]),u(" level 1 ")]),e("div",el,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[12]||(o[12]=n=>t.character.bonusslots[1]=n)},null,512),[[p,t.character.bonusslots[1]]]),u(" level 2 ")]),e("div",tl,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[13]||(o[13]=n=>t.character.bonusslots[2]=n)},null,512),[[p,t.character.bonusslots[2]]]),u(" level 3 ")]),e("div",ol,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[14]||(o[14]=n=>t.character.bonusslots[3]=n)},null,512),[[p,t.character.bonusslots[3]]]),u(" level 4 ")]),e("div",sl,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[15]||(o[15]=n=>t.character.bonusslots[4]=n)},null,512),[[p,t.character.bonusslots[4]]]),u(" level 5 ")]),e("div",nl,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[16]||(o[16]=n=>t.character.bonusslots[5]=n)},null,512),[[p,t.character.bonusslots[5]]]),u(" level 6 ")]),e("div",ll,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[17]||(o[17]=n=>t.character.bonusslots[6]=n)},null,512),[[p,t.character.bonusslots[6]]]),u(" level 7 ")]),e("div",al,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[18]||(o[18]=n=>t.character.bonusslots[7]=n)},null,512),[[p,t.character.bonusslots[7]]]),u(" level 8 ")]),e("div",il,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[19]||(o[19]=n=>t.character.bonusslots[8]=n)},null,512),[[p,t.character.bonusslots[8]]]),u(" level 9 ")]),e("div",rl,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[20]||(o[20]=n=>t.character.warlockslotsmagic=n)},null,512),[[p,t.character.warlockslotsmagic]]),u(" Warlock ")]),e("div",dl,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[21]||(o[21]=n=>t.character.bonuscantrips=n)},null,512),[[p,t.character.bonuscantrips]]),u(" Bonus Cantrips ")])]),ul,e("table",cl,[hl,e("tr",null,[e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[22]||(o[22]=n=>t.character.saveDCBonus[0]=n)},null,512),[[p,t.character.saveDCBonus[0]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[23]||(o[23]=n=>t.character.saveDCBonus[1]=n)},null,512),[[p,t.character.saveDCBonus[1]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[24]||(o[24]=n=>t.character.saveDCBonus[2]=n)},null,512),[[p,t.character.saveDCBonus[2]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[25]||(o[25]=n=>t.character.saveDCBonus[3]=n)},null,512),[[p,t.character.saveDCBonus[3]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[26]||(o[26]=n=>t.character.saveDCBonus[4]=n)},null,512),[[p,t.character.saveDCBonus[4]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[27]||(o[27]=n=>t.character.saveDCBonus[5]=n)},null,512),[[p,t.character.saveDCBonus[5]]])])])]),pl,e("table",ml,[vl,e("tr",null,[e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[28]||(o[28]=n=>t.character.attBonus[0]=n)},null,512),[[p,t.character.attBonus[0]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[29]||(o[29]=n=>t.character.attBonus[1]=n)},null,512),[[p,t.character.attBonus[1]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[30]||(o[30]=n=>t.character.attBonus[2]=n)},null,512),[[p,t.character.attBonus[2]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[31]||(o[31]=n=>t.character.attBonus[3]=n)},null,512),[[p,t.character.attBonus[3]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[32]||(o[32]=n=>t.character.attBonus[4]=n)},null,512),[[p,t.character.attBonus[4]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[33]||(o[33]=n=>t.character.attBonus[5]=n)},null,512),[[p,t.character.attBonus[5]]])])])]),bl,e("table",$l,[(l(!0),a(g,null,_(t.character.charclasses,(n,s)=>(l(),a("tr",{key:s},[e("td",null,d(n.thisclass.name),1),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":i=>n.bonusknown=i,class:"charsheet-num"},null,8,yl),[[p,n.bonusknown]])])]))),128))]),fl,e("table",gl,[e("tr",null,[_l,e("td",null,[r(e("select",{"onUpdate:modelValue":o[34]||(o[34]=n=>t.character.dr.piercing=n)},wl,512),[[w,t.character.dr.piercing]])])]),e("tr",null,[Cl,e("td",null,[r(e("select",{"onUpdate:modelValue":o[35]||(o[35]=n=>t.character.dr.slashing=n)},Ul,512),[[w,t.character.dr.slashing]])])]),e("tr",null,[Sl,e("td",null,[r(e("select",{"onUpdate:modelValue":o[36]||(o[36]=n=>t.character.dr.bludgeoning=n)},Ml,512),[[w,t.character.dr.bludgeoning]])])]),e("tr",null,[Dl,e("td",null,[r(e("select",{"onUpdate:modelValue":o[37]||(o[37]=n=>t.character.dr.acid=n)},Tl,512),[[w,t.character.dr.acid]])])]),e("tr",null,[Pl,e("td",null,[r(e("select",{"onUpdate:modelValue":o[38]||(o[38]=n=>t.character.dr.cold=n)},Ll,512),[[w,t.character.dr.cold]])])]),e("tr",null,[Nl,e("td",null,[r(e("select",{"onUpdate:modelValue":o[39]||(o[39]=n=>t.character.dr.fire=n)},El,512),[[w,t.character.dr.fire]])])]),e("tr",null,[ql,e("td",null,[r(e("select",{"onUpdate:modelValue":o[40]||(o[40]=n=>t.character.dr.force=n)},Wl,512),[[w,t.character.dr.force]])])]),e("tr",null,[Fl,e("td",null,[r(e("select",{"onUpdate:modelValue":o[41]||(o[41]=n=>t.character.dr.lightning=n)},zl,512),[[w,t.character.dr.lightning]])])]),e("tr",null,[Ol,e("td",null,[r(e("select",{"onUpdate:modelValue":o[42]||(o[42]=n=>t.character.dr.necrotic=n)},Xl,512),[[w,t.character.dr.necrotic]])])]),e("tr",null,[Yl,e("td",null,[r(e("select",{"onUpdate:modelValue":o[43]||(o[43]=n=>t.character.dr.poison=n)},Ql,512),[[w,t.character.dr.poison]])])]),e("tr",null,[Jl,e("td",null,[r(e("select",{"onUpdate:modelValue":o[44]||(o[44]=n=>t.character.dr.psychic=n)},xl,512),[[w,t.character.dr.psychic]])])]),e("tr",null,[ea,e("td",null,[r(e("select",{"onUpdate:modelValue":o[45]||(o[45]=n=>t.character.dr.radiant=n)},oa,512),[[w,t.character.dr.radiant]])])]),e("tr",null,[sa,e("td",null,[r(e("select",{"onUpdate:modelValue":o[46]||(o[46]=n=>t.character.dr.thunder=n)},la,512),[[w,t.character.dr.thunder]])])])])])}const ia=M(Pn,[["render",aa]]),ra={setup(){const t=D(),o=W(),{character:c}=S(t),{classesv2:m}=S(o),f=t.addclass,k=t.removeclass;return{character:c,classes:m,addclass:f,removeclass:k}}},da={class:"col-sm-3"},ua=["onUpdate:modelValue"],ca=["value"],ha=["value"],pa={class:"col-sm-4"},ma=["onUpdate:modelValue"],va=["value"],ba=["value"],$a={class:"col-sm-2"},ya=["onUpdate:modelValue"],fa={class:"col-sm-2"},ga=["onUpdate:modelValue"],_a=T('<option value="0">STR</option><option value="1">DEX</option><option value="2">CON</option><option value="3">INT</option><option value="4">WIS</option><option value="5">CHA</option>',6),ka=[_a],wa={class:"col-sm-1"},Ca=["onClick"],Va={class:"row"},Ua={class:"col-12 btn-group"};function Sa(t,o,c,m,f,k){return l(),a("div",null,[(l(!0),a(g,null,_(t.character.charclasses,(n,s)=>(l(),a("div",{class:"row",key:s},[e("div",da,[r(e("select",{class:"charsheet-text","onUpdate:modelValue":i=>n.thisclass=i},[e("option",{value:n.thisclass},d(n.thisclass.name),9,ca),(l(!0),a(g,null,_(t.classes,i=>(l(),a("option",{value:i,key:i.name},d(i.name),9,ha))),128))],8,ua),[[w,n.thisclass]])]),e("div",pa,[r(e("select",{class:"charsheet-text","onUpdate:modelValue":i=>n.selsubclass=i},[e("option",{value:n.selsubclass},d(n.selsubclass.name),9,va),(l(!0),a(g,null,_(n.thisclass.subclass,i=>(l(),a("option",{value:i,key:i.name},d(i.name),9,ba))),128))],8,ma),[[w,n.selsubclass]])]),e("div",$a,[r(e("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":i=>n.level=i},null,8,ya),[[p,n.level]])]),e("div",fa,[r(e("select",{class:"charsheet-text","onUpdate:modelValue":i=>n.savedcstat=i},ka,8,ga),[[w,n.savedcstat]])]),e("div",wa,[e("button",{type:"button",class:"btn btn-sm btn-danger",onClick:i=>t.removeclass(s)},"X",8,Ca)])]))),128)),e("div",Va,[e("div",Ua,[e("button",{class:"btn btn-primary btn-sm",type:"button",onClick:o[0]||(o[0]=n=>t.addclass())},"+")]),u(" Class(es) ")])])}const Aa=M(ra,[["render",Sa]]),Ma={setup(){const t=D(),{character:o}=S(t);return{character:o}}},Da=e("h5",null,"Campaign Information",-1),Ra={title:"Give this value to your DM to invite you to the campaign"},Ta={key:0},Pa=e("br",null,null,-1),Ia=e("a",{href:"/static/zip/elthelasextension.zip"},"Download the Chrome/Firefox Extension",-1);function La(t,o,c,m,f,k){const n=V("router-link");return l(),a("div",null,[Da,e("span",Ra,"ID: "+d(t.character._id),1),t.character._id?(l(),a("p",Ta,[y(n,{to:"/tools/charbuilder/"+t.character._id},{default:C(()=>[u("Copy this link to share your character")]),_:1},8,["to"]),Pa,Ia,u(" (allows you to make rolls in roll20) ")])):b("",!0)])}const Na=M(Ma,[["render",La]]),Ba={setup(){const t=D(),o=ae(),c=W(),{character:m,classtext:f}=S(t),{builderAncestries:k,backgroundsv2:n}=S(c),{mobile:s}=S(o),i=t.setRaceDefaults;return{character:m,ancestries:k,classtext:f,backgrounds:n,mobile:s,setRaceDefaults:i}}},Ea={class:"row"},qa={class:"col-sm-9"},Ha={class:"row"},Wa={class:"col-sm-6"},Fa={class:"col-sm-6"},ja={class:"col-sm"},za=["value"],Oa=["value"],Ga={class:"row"},Xa={class:"col-sm-6"},Ya=["value"],Ka=["value"],Qa={class:"col-sm-6"},Ja={class:"charsheet-text"},Za={key:0,class:"col-sm-3"},xa={key:0,src:"https://elthelas-images.herokuapp.com/swordshieldlogo.png",class:"ddlogo desktop print-hide"},ei=["src","alt"];function ti(t,o,c,m,f,k){return l(),a("div",Ea,[e("div",qa,[e("div",Ha,[e("div",Wa,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[0]||(o[0]=n=>t.character.name=n)},null,512),[[p,t.character.name]]),u(" Character Name ")]),e("div",Fa,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[1]||(o[1]=n=>t.character.player=n)},null,512),[[p,t.character.player]]),u(" Player ")]),e("div",ja,[r(e("select",{"onUpdate:modelValue":o[2]||(o[2]=n=>t.character.background=n),class:"charsheet-text"},[e("option",{value:t.character.background},d(t.character.background.name),9,za),(l(!0),a(g,null,_(t.backgrounds,n=>(l(),a("option",{value:n,key:n.name},d(n.name),9,Oa))),128))],512),[[w,t.character.background]]),u(" Background ")])]),e("div",Ga,[e("div",Xa,[r(e("select",{onChange:o[3]||(o[3]=n=>t.setRaceDefaults()),"onUpdate:modelValue":o[4]||(o[4]=n=>t.character.race=n),class:"charsheet-text"},[e("option",{value:t.character.race},d(t.character.race.singular),9,Ya),(l(!0),a(g,null,_(t.ancestries,n=>(l(),a("option",{key:n.id,value:n},d(n.singular),9,Ka))),128))],544),[[w,t.character.race]]),e("div",null,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[5]||(o[5]=n=>t.character.race.singular=n)},null,512),[[p,t.character.race.singular]])]),u(" Ancestry ")]),e("div",Qa,[e("div",Ja,d(t.classtext),1),u(" Class(es) ")])])]),t.mobile?b("",!0):(l(),a("div",Za,[t.character.image?(l(),a("img",{key:1,src:t.character.image,alt:t.character.name,class:"ddlogo desktop"},null,8,ei)):(l(),a("img",xa))]))])}const oi=M(Ba,[["render",ti]]),si={setup(){const t=D(),o=L(),{character:c,accalc:m,pccalc:f,armorac:k,armorpc:n,profbonus:s,getSpeedStat:i,getStatMod:h}=S(t),v=t.removeArmor;return{userinfo:o,character:c,accalc:m,pccalc:f,armorac:k,armorpc:n,profbonus:s,getSpeedStat:i,removeArmor:v,getStatMod:h}},data(){return{newarmor:{name:"",type:"",ac:0,pc:0,maxdex:0,edit:!1},armormodal:!1}},methods:{addArmor(){this.character.armors.push(this.newarmor),this.newarmor={name:"",type:"",ac:0,pc:0,maxdex:0,edit:!1},this.armormodal=!1}}},ni={class:"row"},li={class:"col-4"},ai={class:"charsheet-static center"},ii=e("br",null,null,-1),ri={class:"col-4"},di={class:"charsheet-static center"},ui=e("br",null,null,-1),ci={class:"col-4"},hi={class:"charsheet-static center"},pi=e("br",null,null,-1),mi={key:0},vi={class:"row"},bi={class:"col"},$i={class:"charsheet-static"},yi={class:"row"},fi={class:"col-sm-6"},gi=e("br",null,null,-1),_i=e("br",null,null,-1),ki={class:"col-sm-6"},wi=e("br",null,null,-1),Ci={class:"row combat-hud-hide"},Vi={class:"col"},Ui={class:"charsheet-static",id:"armorbox"},Si=e("h4",null,"Armor",-1),Ai={key:0},Mi=["onUpdate:modelValue"],Di=["onClick"],Ri=["onClick"],Ti=["onUpdate:modelValue"],Pi=["onUpdate:modelValue"],Ii=e("option",null,"Unarmored Bonus",-1),Li=e("option",null,"Light",-1),Ni=e("option",null,"Medium",-1),Bi=e("option",null,"Heavy",-1),Ei=e("option",null,"Shield",-1),qi=[Ii,Li,Ni,Bi,Ei],Hi={key:0},Wi=["onUpdate:modelValue"],Fi=e("option",{value:0},"Strength",-1),ji=e("option",{value:1},"Dexterity",-1),zi=e("option",{value:2},"Constitution",-1),Oi=e("option",{value:3},"Intelligence",-1),Gi=e("option",{value:4},"Wisdom",-1),Xi=e("option",{value:5},"Charisma",-1),Yi=[Fi,ji,zi,Oi,Gi,Xi],Ki=["onUpdate:modelValue"],Qi=["onUpdate:modelValue"],Ji=["onUpdate:modelValue"],Zi=e("option",null,"Unarmored Bonus",-1),xi=e("option",null,"Light Armor",-1),er=e("option",null,"Medium Armor",-1),tr=e("option",null,"Heavy Armor",-1),or=e("option",null,"Shield",-1),sr=[Zi,xi,er,tr,or],nr={key:0},lr=e("option",{value:0},"Strength",-1),ar=e("option",{value:1},"Dexterity",-1),ir=e("option",{value:2},"Constitution",-1),rr=e("option",{value:3},"Intelligence",-1),dr=e("option",{value:4},"Wisdom",-1),ur=e("option",{value:5},"Charisma",-1),cr=[lr,ar,ir,rr,dr,ur];function hr(t,o,c,m,f,k){const n=V("b-modal");return l(),a("div",null,[e("div",ni,[e("div",li,[e("div",ai,[u(" AC"),ii,u(d(t.accalc),1)])]),e("div",ri,[e("div",di,[u(" PC"),ui,u(" "+d(t.pccalc),1)])]),e("div",ci,[e("div",hi,[u(" Prof"),pi,t.profbonus>-1?(l(),a("span",mi,"+")):b("",!0),u(d(t.profbonus),1)])])]),e("div",vi,[e("div",bi,[e("div",$i,[e("div",yi,[e("div",fi,[u(" Speed: "+d(t.getSpeedStat(0))+" ft",1),gi,u(" Climb: "+d(t.getSpeedStat(2))+" ft",1),_i,u(" Burrow: "+d(t.getSpeedStat(4))+" ft ",1)]),e("div",ki,[u(" Fly: "+d(t.getSpeedStat(1))+" ft",1),wi,u(" Swim: "+d(t.getSpeedStat(3))+" ft ",1)])])])])]),e("div",Ci,[e("div",Vi,[e("div",Ui,[Si,(l(!0),a(g,null,_(t.character.armors,(s,i)=>(l(),a("div",{class:"smalltext",key:i},[u(d(s.name)+", "+d(s.type)+", AC "+d(t.armorac(s))+" ",1),s.type!=="Shield"&&s.type!=="Unarmored Bonus"?(l(),a("span",Ai,"("+d(s.ac)+" + "+d(Math.max(0,Math.min(t.getStatMod(1),s.maxdex)))+")",1)):b("",!0),u(" , PC "+d(t.armorpc(s))+" ",1),r(e("input",{type:"checkbox","onUpdate:modelValue":h=>s.equipped=h},null,8,Mi),[[A,s.equipped]]),e("button",{type:"button",class:"print-hide btn-symbol",onClick:h=>s.edit=!0},"\u270E",8,Di),e("button",{type:"button",onClick:h=>t.removeArmor(i),class:"print-hide btn btn-sm btn-danger"},"X",8,Ri),y(n,{modelValue:s.edit,"onUpdate:modelValue":h=>s.edit=h,class:R(t.userinfo.darkmode)},{default:C(()=>[u(" Name: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.name=h},null,8,Ti),[[p,s.name]]),u(" Type: "),r(e("select",{"onUpdate:modelValue":h=>s.type=h,class:"form-control"},qi,8,Pi),[[w,s.type]]),s.type==="Unarmored Bonus"?(l(),a("div",Hi,[u(" Unarmored Bonus Stat "),r(e("select",{"onUpdate:modelValue":h=>s.unarmoredstat=h,class:"form-control"},Yi,8,Wi),[[w,s.unarmoredstat]])])):b("",!0),u(" AC: "),r(e("input",{type:"number","onUpdate:modelValue":h=>s.ac=h,class:"form-control"},null,8,Ki),[[p,s.ac]]),u(" PC: "),r(e("input",{type:"number","onUpdate:modelValue":h=>s.pc=h,class:"form-control"},null,8,Qi),[[p,s.pc]]),u(" Max Dex: "),r(e("input",{type:"number","onUpdate:modelValue":h=>s.maxdex=h,class:"form-control"},null,8,Ji),[[p,s.maxdex]])]),_:2},1032,["modelValue","onUpdate:modelValue","class"])]))),128)),e("button",{type:"button",onClick:o[0]||(o[0]=s=>t.armormodal=!0),class:"btn btn-sm btn-primary print-hide"},"+"),y(n,{modelValue:t.armormodal,"onUpdate:modelValue":o[7]||(o[7]=s=>t.armormodal=s),onOk:o[8]||(o[8]=s=>t.addArmor()),"modal-class":t.userinfo.themesetting},{default:C(()=>[u(" Name: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>t.newarmor.name=s)},null,512),[[p,t.newarmor.name]]),u(" Type: "),r(e("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>t.newarmor.type=s),class:"form-control"},sr,512),[[w,t.newarmor.type]]),t.newarmor.type==="Unarmored Bonus"?(l(),a("div",nr,[u(" Unarmored Bonus Stat "),r(e("select",{"onUpdate:modelValue":o[3]||(o[3]=s=>t.newarmor.unarmoredstat=s),class:"form-control"},cr,512),[[w,t.newarmor.unarmoredstat]])])):b("",!0),u(" AC: "),r(e("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=s=>t.newarmor.ac=s),class:"form-control"},null,512),[[p,t.newarmor.ac]]),u(" PC: "),r(e("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=s=>t.newarmor.pc=s),class:"form-control"},null,512),[[p,t.newarmor.pc]]),u(" Max Dex: "),r(e("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=s=>t.newarmor.maxdex=s),class:"form-control"},null,512),[[p,t.newarmor.maxdex]])]),_:1},8,["modelValue","modal-class"])])])])])}const ue=M(si,[["render",hr]]),pr={setup(){const t=D(),{character:o,getHPTotal:c,maxExhaustion:m,pccalc:f}=S(t),k=t.shortrest,n=t.longrest;return{character:o,getHPTotal:c,shortrest:k,pccalc:f,longrest:n,maxExhaustion:m}},data:function(){return{damagetaken:0,dtype:"piercing",dlog:[]}},methods:{applyDamage(){let t=this.damagetaken;this.dtype==="healing"?(t=-t,this.character.hpcurrent-=t,this.character.hpcurrent>this.getHPTotal&&(this.character.hpcurrent=this.getHPTotal)):((this.dtype==="bludgeoning"||this.dtype==="piercing"||this.dtype==="slashing")&&(t=Math.max(t-this.pccalc,0)),this.character.dr[this.dtype]==="3"?t=Math.max(t-3,0):this.character.dr[this.dtype]==="resistance"?t=Math.max(Math.floor(t/2),1):this.character.dr[this.dtype]==="immunity"?t=0:this.character.dr[this.dtype]==="vulnerable"&&(t*=2),this.character.temphp-=t,this.character.temphp<0&&(this.character.hpcurrent+=this.character.temphp,this.character.temphp=0,this.character.hpcurrent<0&&(this.character.hpcurrent=0)))}}},mr={class:"row"},vr={class:"col"},br={class:"charsheet-static"},$r=e("br",null,null,-1),yr=e("br",null,null,-1),fr={class:"row"},gr={class:"col"},_r={class:"charsheet-static"},kr={class:"row"},wr={class:"col-sm-6"},Cr={class:"col-sm-6"},Vr={class:"btn-group"},Ur={key:0,class:"alert alert-warning smalltext"},Sr=T('<option value="piercing">Piercing</option><option value="slashing">Slashing</option><option value="bludgeoning">Bludgeoning</option><option value="acid">Acid</option><option value="cold">Cold</option><option value="fire">Fire</option><option value="force">Force</option><option value="lightning">Lightning</option><option value="necrotic">Necrotic</option><option value="poison">Poison</option><option value="psychic">Psychic</option><option value="radiant">Radiant</option><option value="thunder">Thunder</option><option value="ignore">Ignores Resistance</option><option value="healing">Healing</option>',15),Ar=[Sr],Mr={class:"row combat-hud-hide"},Dr={class:"col"},Rr={class:"charsheet-static"},Tr=e("br",null,null,-1),Pr=["onUpdate:modelValue"],Ir={class:"row print-hide combat-hud-hide",style:{"margin-top":"10px"}},Lr={class:"btn-group col-12 print-hide"};function Nr(t,o,c,m,f,k){return l(),a("div",null,[e("div",mr,[e("div",vr,[e("div",br,[u(" HP: "),r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[0]||(o[0]=n=>t.character.hpcurrent=n),disabled:""},null,512),[[p,t.character.hpcurrent]]),u(" / "+d(t.getHPTotal)+" Max ",1),$r,u(" Temporary: "),r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[1]||(o[1]=n=>t.character.temphp=n)},null,512),[[p,t.character.temphp]]),u(),yr,u(" Exhaustion: "),r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[2]||(o[2]=n=>t.character.exhaustion=n),min:"0",max:"12",step:"1"},null,512),[[p,t.character.exhaustion]]),u(" / "+d(t.maxExhaustion),1)])])]),e("div",fr,[e("div",gr,[e("div",_r,[e("div",kr,[e("div",wr,[u(" Damage: "),r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[3]||(o[3]=n=>t.damagetaken=n),min:0},null,512),[[p,t.damagetaken]])]),e("div",Cr,[e("div",Vr,[e("input",{type:"button",class:"btn btn-sm btn-danger",value:"Take Damage",onClick:o[4]||(o[4]=n=>t.applyDamage())})])])]),t.character.dr[t.dtype]!="0"?(l(),a("div",Ur," Affected by Resistance ")):b("",!0),r(e("select",{class:"charsheet-text","onUpdate:modelValue":o[5]||(o[5]=n=>t.dtype=n)},Ar,512),[[w,t.dtype]])])])]),e("div",Mr,[e("div",Dr,[e("div",Rr,[u(" Hit Dice"),Tr,(l(!0),a(g,null,_(t.character.charclasses,n=>(l(),a("div",{key:n.thisclass.name},[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":s=>n.hitdice=s},null,8,Pr),[[p,n.hitdice]]),u(" / "+d(n.level)+"d"+d(n.thisclass.hitdie),1)]))),128))])])]),e("div",Ir,[e("div",Lr,[e("button",{class:"btn btn-primary",onClick:o[6]||(o[6]=n=>t.shortrest())},"Short Rest"),e("button",{class:"btn btn-success",onClick:o[7]||(o[7]=n=>t.longrest())},"Long Rest")])])])}const ce=M(pr,[["render",Nr]]),ne={addAbility(t,o,c,m,f,k){if(Number(k.level)>=f){let n={name:o,current:c,max:c,recharge:m},s=t.resources.findIndex(i=>i.name===o);s!==-1?t.resources.splice(s,1,n):t.resources.push(n)}},resourcePopulator:function(t,o,c){if(o.level>=c.minlevel){var m={name:c.name,recharge:c.recovery},f;c.counttype.substring(0,3)==="STR"?(f=Number(c.counttype.substring(3)),m.max=H.statMod(t,0)*f+c.count):c.counttype.substring(0,3)==="DEX"?(f=Number(c.counttype.substring(3)),m.max=H.statMod(t,1)*f+c.count):c.counttype.substring(0,3)==="CON"?(f=Number(c.counttype.substring(3)),m.max=H.statMod(t,2)*f+c.count):c.counttype.substring(0,3)==="INT"?(f=Number(c.counttype.substring(3)),m.max=H.statMod(t,3)*f+c.count):c.counttype.substring(0,3)==="WIS"?(f=Number(c.counttype.substring(3)),m.max=H.statMod(t,4)*f+c.count):c.counttype.substring(0,3)==="CHA"?(f=Number(c.counttype.substring(3)),m.max=H.statMod(t,5)*f+c.count):c.counttype==="table"?m.max=c.count.findLast(n=>n[0]<=o.level)[1]:c.counttype==="fixed"?m.max=c.count:c.counttype==="prof"?m.max=H.profbonus(t)+c.count:c.counttype.substring(0,5)==="level"&&(f=Number(c.counttype.substring(5)),m.max=o.level*f+c.count),m.name==="Bardic Inspiration"&&o.level>=5&&(m.recharge="shortrest"),m.current=m.max;let k=t.resources.findIndex(n=>n.name===c.name);k!==-1?t.resources.splice(k,1,m):t.resources.push(m)}}},Br={setup(){const t=D(),{character:o,getStatMod:c,totalslots:m,warlockSlots:f,warlockSlotLevel:k,shortrest:n,longrest:s}=S(t);return{character:o,getStatMod:c,totalslots:m,warlockSlots:f,warlockSlotLevel:k,shortrest:n,longrest:s}},methods:{addResource(){this.character.resources.push({id:Date.now()+Math.random(),name:"",current:0,max:0,recharge:"never"})},removeResource(t){if(window.confirm("are you sure you want to delete "+this.character.resources[t].name+"?")){let c=this.character.actions.filter(m=>m.resourceused.name===this.character.resources[t].name);c.length>0?c.forEach(m=>{alert("Cannot delete resource "+this.character.resources[t].name+". It is still used by the action "+m.name)}):this.character.resources.splice(t,1)}},useResource(t){this.character.resources[t].current>0?this.character.resources[t].current--:alert("Cannot use "+this.character.resources[t].name+", already expended.")},populateResources(){this.character.charclasses.forEach(t=>{t.thisclass.resources.forEach(o=>{ne.resourcePopulator(this.character,t,o)}),t.selsubclass.resources.forEach(o=>{ne.resourcePopulator(this.character,t,o)})})}}},Er={class:"charsheet-static smalltext"},qr=e("h4",null,"Various Resources",-1),Hr={class:"col-5"},Wr=["onUpdate:modelValue"],Fr=["onClick"],jr={class:"col-2"},zr=["onUpdate:modelValue"],Or=["onUpdate:modelValue"],Gr={class:"col-2"},Xr=["onUpdate:modelValue"],Yr=e("option",{value:"none"},"Never/Other",-1),Kr=e("option",{value:"shortrest"},"Short Rest",-1),Qr=e("option",{value:"longrest"},"Long Rest",-1),Jr=[Yr,Kr,Qr],Zr=["onClick"],xr={class:"row print-hide",style:{"margin-top":"10px"}},ed={class:"btn-group col-12"},td=e("h6",null,"Spell Slots",-1),od={class:"row print-hide"},sd={class:"col"};function nd(t,o,c,m,f,k){return l(),a("div",Er,[qr,(l(!0),a(g,null,_(t.character.resources,(n,s)=>(l(),a("div",{class:"row",key:s,style:{"margin-top":"2px"}},[e("div",Hr,[r(e("input",{type:"text","onUpdate:modelValue":i=>n.name=i,class:"charsheet-text"},null,8,Wr),[[p,n.name]])]),e("button",{class:"btn btn-sm btn-primary print-hide col-1",onClick:i=>t.useResource(s)},"Use",8,Fr),e("div",jr,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":i=>n.current=i},null,8,zr),[[p,n.current]]),u(" / "),r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":i=>n.max=i},null,8,Or),[[p,n.max]])]),e("div",Gr,[r(e("select",{"onUpdate:modelValue":i=>n.recharge=i,class:"charsheet-text"},Jr,8,Xr),[[w,n.recharge]])]),e("button",{class:"btn btn-sm btn-danger print-hide col-1",onClick:i=>t.removeResource(s)},"X",8,Zr)]))),128)),e("div",xr,[e("div",ed,[e("button",{type:"button",class:"btn btn-sm print-hide btn-primary",onClick:o[0]||(o[0]=n=>t.addResource())},"+"),e("button",{type:"button",class:"btn btn-sm btn-success print-hide",onClick:o[1]||(o[1]=n=>t.populateResources())},"Populate from Classes"),e("button",{class:"btn btn-primary btn-sm",onClick:o[2]||(o[2]=n=>t.shortrest())},"Short Rest"),e("button",{class:"btn btn-success btn-sm",onClick:o[3]||(o[3]=n=>t.longrest())},"Long Rest")])]),td,e("div",od,[(l(),a(g,null,_(9,n=>e("div",{class:"col",key:n}," Lvl "+d(n)+": "+d(t.character.availableslots["level"+n])+" / "+d(t.totalslots("level"+n)),1)),64)),e("div",sd," Wck: "+d(t.character.warlockslotsavailable)+" / "+d(t.warlockSlots)+" Lvl "+d(t.warlockSlotLevel),1)])])}const he=M(Br,[["render",nd]]),ld={setup(){const t=D(),{character:o,getSaveMod:c,getSkillMod:m,getSaveDC:f}=S(t);return{character:o,getSaveMod:c,getSkillMod:m,getSaveDC:f}},components:{hitpoints:ce,combat:ue,attacks:de,actions:re,resources:he},computed:{athletics(){return this.character.skills.filter(t=>t.name==="Athletics")[0]},acrobatics(){return this.character.skills.filter(t=>t.name==="Acrobatics")[0]},perception(){return this.character.skills.filter(t=>t.name==="Perception")[0]},stealth(){return this.character.skills.filter(t=>t.name==="Stealth")[0]},numConcentrating(){return this.character.activemodifiers.reduce((t,o)=>t+o.concentrating,0)}},props:{combatModal:Boolean},methods:{addActiveModifier(){this.character.activemodifiers.push({id:Date.now()+Math.random(),modifier:"",remaining:10,concentrating:!1})},removeActiveModifier(t){this.character.activemodifiers.splice(this.character.activemodifiers.findIndex(o=>o.id===t),1)},passTime(t){this.character.activemodifiers.forEach(o=>{o.remaining-=t}),this.character.activemodifiers=this.character.activemodifiers.filter(o=>(o.remaining<=0&&alert(o.modifier+" has ended"),o.remaining>0))},rollCheck(t){let o=I.roll("1d20").total,c=I.roll("1d20").total;alert("Base Roll: "+(o+t)+" ("+o+" + "+t+`)
Adv/Dis Roll: `+(c+t)+" ("+c+" + "+t+")")}}},ad={class:"combat-hud"},id={class:"row"},rd={class:"col-5"},dd={class:"charsheet-static"},ud=e("h6",null,"Select Skills",-1),cd={class:"row"},hd={class:"col"},pd=e("br",null,null,-1),md={key:0},vd={class:"col"},bd=e("br",null,null,-1),$d={key:0},yd={class:"col"},fd=e("br",null,null,-1),gd={key:0},_d={class:"col"},kd=e("br",null,null,-1),wd={key:0},Cd={class:"col-2"},Vd={class:"charsheet-static"},Ud={class:"col-5"},Sd={class:"charsheet-static"},Ad=e("h6",null,"Saves",-1),Md={class:"row"},Dd={class:"col"},Rd=e("br",null,null,-1),Td={key:0},Pd={class:"col"},Id=e("br",null,null,-1),Ld={key:0},Nd={class:"col"},Bd=e("br",null,null,-1),Ed={key:0},qd={class:"col"},Hd=e("br",null,null,-1),Wd={key:0},Fd={class:"col"},jd=e("br",null,null,-1),zd={key:0},Od={class:"col"},Gd=e("br",null,null,-1),Xd={key:0},Yd={class:"row"},Kd={class:"col-6"},Qd={class:"row"},Jd={class:"col-4"},Zd={class:"col-8"},xd={class:"col-6"},eu={class:"charsheet-static"},tu=e("h4",null,"Active Modifiers",-1),ou=e("div",{class:"row"},[e("div",{class:"col-7"},"Modifier"),e("div",{class:"col-2"},"Time"),e("div",{class:"col-2"},"Concentration?")],-1),su={class:"col-7"},nu=["onUpdate:modelValue"],lu={class:"col-2"},au=["onUpdate:modelValue"],iu={class:"col-2"},ru=["onUpdate:modelValue"],du=e("option",{value:!1},"No",-1),uu=e("option",{value:!0},"Yes",-1),cu=[du,uu],hu={class:"col-1"},pu=["onClick"],mu={class:"row"},vu={class:"btn-group col"},bu=e("h5",null,"Pass Time",-1),$u={class:"row"},yu={class:"btn-group col"};function fu(t,o,c,m,f,k){const n=V("hitpoints"),s=V("combat"),i=V("attacks"),h=V("resources"),v=V("actions");return l(),a("div",ad,[e("div",id,[e("div",rd,[e("div",dd,[ud,e("div",cd,[e("div",hd,[u(d(t.acrobatics.name),1),pd,e("button",{onClick:o[0]||(o[0]=$=>t.rollCheck(t.getSkillMod(t.acrobatics)))},[t.getSkillMod(t.acrobatics)>-1?(l(),a("span",md,"+")):b("",!0),u(d(t.getSkillMod(t.acrobatics)),1)])]),e("div",vd,[u(d(t.athletics.name),1),bd,e("button",{onClick:o[1]||(o[1]=$=>t.rollCheck(t.getSkillMod(t.athletics)))},[t.getSkillMod(t.athletics)>-1?(l(),a("span",$d,"+")):b("",!0),u(d(t.getSkillMod(t.athletics)),1)])]),e("div",yd,[u(d(t.perception.name),1),fd,e("button",{onClick:o[2]||(o[2]=$=>t.rollCheck(t.getSkillMod(t.perception)))},[t.getSkillMod(t.perception)>-1?(l(),a("span",gd,"+")):b("",!0),u(d(t.getSkillMod(t.perception)),1)])]),e("div",_d,[u(d(t.stealth.name),1),kd,e("button",{onClick:o[3]||(o[3]=$=>t.rollCheck(t.getSkillMod(t.stealth)))},[t.getSkillMod(t.stealth)>-1?(l(),a("span",wd,"+")):b("",!0),u(d(t.getSkillMod(t.stealth)),1)])])])])]),e("div",Cd,[e("div",Vd,[u(" Save DCs "),(l(!0),a(g,null,_(t.character.charclasses,$=>(l(),a("div",{key:$.thisclass.name},d($.thisclass.name)+" Save DC: "+d(t.getSaveDC($.savedcstat)),1))),128))])]),e("div",Ud,[e("div",Sd,[Ad,e("div",Md,[e("div",Dd,[u(" STR"),Rd,e("button",{onClick:o[4]||(o[4]=$=>t.rollCheck(t.getSaveMod(0)))},[t.getSaveMod(0)>-1?(l(),a("span",Td,"+")):b("",!0),u(d(t.getSaveMod(0)),1)])]),e("div",Pd,[u(" DEX"),Id,e("button",{onClick:o[5]||(o[5]=$=>t.rollCheck(t.getSaveMod(1)))},[t.getSaveMod(1)>-1?(l(),a("span",Ld,"+")):b("",!0),u(d(t.getSaveMod(1)),1)])]),e("div",Nd,[u(" CON"),Bd,e("button",{onClick:o[6]||(o[6]=$=>t.rollCheck(t.getSaveMod(2)))},[t.getSaveMod(2)>-1?(l(),a("span",Ed,"+")):b("",!0),u(d(t.getSaveMod(2)),1)])]),e("div",qd,[u(" INT"),Hd,e("button",{onClick:o[7]||(o[7]=$=>t.rollCheck(t.getSaveMod(3)))},[t.getSaveMod(3)>-1?(l(),a("span",Wd,"+")):b("",!0),u(d(t.getSaveMod(3)),1)])]),e("div",Fd,[u(" WIS"),jd,e("button",{onClick:o[8]||(o[8]=$=>t.rollCheck(t.getSaveMod(4)))},[t.getSaveMod(4)>-1?(l(),a("span",zd,"+")):b("",!0),u(d(t.getSaveMod(4)),1)])]),e("div",Od,[u(" CHA"),Gd,e("button",{onClick:o[9]||(o[9]=$=>t.rollCheck(t.getSaveMod(5)))},[t.getSaveMod(5)>-1?(l(),a("span",Xd,"+")):b("",!0),u(d(t.getSaveMod(5)),1)])])])])])]),e("div",Yd,[e("div",Kd,[e("div",Qd,[e("div",Jd,[y(n),y(s)]),e("div",Zd,[y(i)])]),y(h)]),e("div",xd,[y(v),e("div",eu,[tu,ou,(l(!0),a(g,null,_(t.character.activemodifiers,$=>(l(),a("div",{class:"row",key:$.id},[e("div",su,[r(e("input",{type:"text","onUpdate:modelValue":U=>$.modifier=U,class:"charsheet-text"},null,8,nu),[[p,$.modifier]])]),e("div",lu,[r(e("input",{type:"number","onUpdate:modelValue":U=>$.remaining=U,class:"charsheet-num"},null,8,au),[[p,$.remaining]])]),e("div",iu,[r(e("select",{"onUpdate:modelValue":U=>$.concentrating=U,class:"charsheet-text"},cu,8,ru),[[w,$.concentrating]])]),e("div",hu,[e("button",{onClick:U=>t.removeActiveModifier($.id),class:"btn btn-sm btn-danger"},"X",8,pu)])]))),128)),e("div",mu,[e("div",vu,[e("button",{onClick:o[10]||(o[10]=$=>t.addActiveModifier()),class:"btn btn-sm btn-primary"},"+")])]),e("p",null,"Active Concentration Effects: "+d(t.numConcentrating),1),bu,e("div",$u,[e("div",yu,[e("button",{onClick:o[11]||(o[11]=$=>t.passTime(1)),class:"btn btn-sm btn-primary"},"1 Round"),e("button",{onClick:o[12]||(o[12]=$=>t.passTime(10)),class:"btn btn-sm btn-primary"},"1 Minute"),e("button",{onClick:o[13]||(o[13]=$=>t.passTime(100)),class:"btn btn-sm btn-primary"},"10 Minutes"),e("button",{onClick:o[14]||(o[14]=$=>t.passTime(600)),class:"btn btn-sm btn-primary"},"1 hour"),e("button",{onClick:o[15]||(o[15]=$=>t.passTime(4800)),class:"btn btn-sm btn-primary"},"8 hours")])])])])])])}const gu=M(ld,[["render",fu]]),_u={setup(){const t=D(),o=L(),c=W(),{character:m,carryWeight:f,carryMax:k,totalGold:n,equipmentContainers:s}=S(t),{weaponsv2:i,armorv2:h}=S(c),{equipment:v,magicweaponsv2:$,magicarmorv2:U,magicotherv2:N,magicscrollsv2:F,magicwandsv2:j}=c,E=t.removeEquipment,q=t.removeContainer;return{userinfo:o,character:m,equipment:v,weapons:i,magicweapons:$,magicarmor:U,magicother:N,scrolls:F,wands:j,carryWeight:f,carryMax:k,totalGold:n,equipmentContainers:s,armor:h,removeEquipment:E,removeContainer:q}},computed:{allWeapons(){var t=[];return this.excludemagic?t=[...this.weapons]:t=[...this.weapons,...this.magicweapons],t.forEach(o=>{o.Weapon||(o.Weapon=o.Item),o["Cost (gp)"]&&(o.Cost=o["Cost (gp)"])}),t=t.filter(o=>this.searchEquip?o.Weapon.toLowerCase().includes(this.searchEquip.toLowerCase()):!0),t},allArmor(){var t=[];this.excludemagic?t=[...this.armor]:t=[...this.armor,...this.magicarmor];var o=[];return t.forEach(c=>{let m={...c};c.Item&&(m.Armor=c.Item),c.ArmorType&&(m.Type=c.ArmorType),c["Cost (gp)"]&&(m.Cost=c["Cost (gp)"]),o.push(m)}),t=o.filter(c=>this.searchEquip?c.Armor.toLowerCase().includes(this.searchEquip.toLowerCase()):!0),t.sort((c,m)=>c[this.armorSort]>m[this.armorSort]&&!this.armorSortDir||c[this.armorSort]<m[this.armorSort]&&this.armorSortDir?1:-1)},allGear(){var t=[];return this.excludemagic?t=[...this.equipment]:t=[...this.equipment,...this.scrolls,...this.wands,...this.magicother],t.forEach(o=>{typeof o.Weight>"u"&&(o.Weight=1)}),t.filter(o=>this.searchEquip?o.Item.toLowerCase().includes(this.searchEquip.toLowerCase()):!0)}},components:{modal:K},data(){return{excludemagic:!1,ctypes:[{name:"",capacity:0,weightCounts:!0,weight:0},{name:"Carried/Worn",capacity:9999,weightCounts:!0,weight:0},{name:"Chest",capacity:300,weightCounts:!0,weight:25},{name:"Backpack",capacity:30,weightCounts:!0,weight:5},{name:"Barrel",capacity:350,weightCounts:!0,weight:5},{name:"Basket",capacity:40,weightCounts:!0,weight:5},{name:"Case, crossbow bolt",capacity:1.5,weightCounts:!0,weight:5},{name:"Case, map or scroll",capacity:1,weightCounts:!0,weight:5},{name:"Flask",capacity:1,weightCounts:!0,weight:5},{name:"Pouch",capacity:6,weightCounts:!0,weight:1},{name:"Quiver",capacity:1,weightCounts:!0,weight:1},{name:"Sack",capacity:30,weightCounts:!0,weight:.5},{name:"Waterskin",capacity:4,weightCounts:!0,weight:5},{name:"Bag of Holding",capacity:500,weightCounts:!1,weight:15},{name:"Heward's Handy Haversack",capacity:120,weightCounts:!1,weight:5}],containModal:!1,newcontain:{name:"Backpack",capacity:0,weightCounts:!0,weight:0},newequip:{name:"",weight:0,quantity:1,cost:0,description:"",attunement:!1,edit:!1,container:0},ctypeselected:{},searchEquip:"",newEquipModal:{isActive:!1,title:"New Equipment"},armorSort:"Item",armorSortDir:!1}},methods:{newContainerType(t){this.newcontain={...t}},addEquipment(){if(this.newequip.container!==0){var t=Date.now();this.character.equipment.push({...this.newequip,id:t}),this.newequip={name:"",weight:0,quantity:1,attunement:!1,edit:!1,container:this.character.containers[0].id},this.newEquipModal.isActive=!1}else alert("Please select a container")},findAndAddItem(t,o,c,m){let f=this.equipment.filter(k=>k.Item===t)[0];return this.addExistingEquipment(f,o,c,m)},addExistingEquipment(t,o,c,m=!1){var f=Date.now();if(t.Container&&(m||confirm("Would you like to add "+t.Item+" as a container that can hold other items?")))return this.character.containers.push({id:f,name:t.Item,capacity:t.Capacity,weightCounts:t.weightCounts,weight:Number(t.Weight)}),this.newEquipModal.isActive=!1,f;if(t.Pack){let k=this.findAndAddItem(t.PackContainer.name,1,c,!0);t.Contents.forEach(n=>{this.findAndAddItem(n.Item,n.quantity,k)})}else c?(this.character.equipment.push({id:f,name:t.Item,weight:Number(t.Weight),quantity:o,cost:t["Cost (gp)"]?t["Cost (gp)"]:Number(t.Cost),description:t.Effect?t.Effect:t.Description,attunement:t.Attunement?t.Attunement.includes("Yes"):!1,edit:{isActive:!1,title:t.Item},container:c}),this.newEquipModal.isActive=!1):alert("Please select a container")},addExistingWeapon(t,o,c){if(c){var m=Date.now();this.character.equipment.push({id:m,name:t.Weapon,weight:typeof t.Weight=="string"?Number(t.Weight.substring(0,t.Weight.length-2)):t.Weight,quantity:o,cost:t["Cost (gp)"]?t["Cost (gp)"]:Number(t.Cost),description:t.Type+" weapon, "+t.Damage+" damage, "+t.Properties+". "+(t.Effect?t.Effect:""),attunement:t.Attunement?t.Attunement.includes("Yes"):!1,edit:{isActive:!1,title:t.Item},container:c}),this.newEquipModal.isActive=!1}else alert("Please select a container")},addExistingArmor(t,o,c){if(c){var m=Date.now();this.character.equipment.push({id:m,name:t.Armor,weight:Number(t.Weight),quantity:o,cost:t["Cost (gp)"]?t["Cost (gp)"]:Number(t.Cost),description:"AC: "+t.AC+" PC: "+t.PC,attunement:t.Attunement?t.Attunement.includes("Yes"):!1,edit:{isActive:!1,title:t.Item},container:c}),this.character.armors.push({name:t.Armor,ac:t.AC,pc:t.PC,maxdex:t.MaxDex,type:t.Type,edit:!1}),this.newEquipModal.isActive=!1}else alert("Please select a container")},addContainer(){var t=Date.now();this.character.containers.push({...this.newcontain,id:t}),this.newcontain={name:"",capacity:0,weightCounts:!0,weight:0},this.containModal=!1,this.ctypeselected=this.ctypes[0]}},mounted(){this.newequip.container=this.character.containers[0]}},ku={class:"row"},wu={class:"col"},Cu={class:"charsheet-static",id:"equipmentbox"},Vu=e("h4",null,"Equipment",-1),Uu={class:"smalltext"},Su={class:"smalltext"},Au=["onClick"],Mu=["onClick"],Du=["title"],Ru=["onUpdate:modelValue"],Tu=e("br",null,null,-1),Pu=["onUpdate:modelValue"],Iu=["onUpdate:modelValue"],Lu=["onUpdate:modelValue"],Nu=["onUpdate:modelValue"],Bu=e("br",null,null,-1),Eu=["onUpdate:modelValue"],qu=e("br",null,null,-1),Hu=["onUpdate:modelValue","onChange"],Wu=["value"],Fu=e("br",null,null,-1),ju=["onUpdate:modelValue"],zu=["onClick"],Ou={class:"btn-group",style:{clear:"both"}},Gu=["value"],Xu=e("br",null,null,-1),Yu={style:{"overflow-y":"scroll",height:"500px"}},Ku={class:"table table-striped table-sm"},Qu=e("thead",null,[e("tr",null,[e("th",null,"Item"),e("th",null,"Cost"),e("th",null,"Weight")])],-1),Ju=["onClick"],Zu={style:{"overflow-y":"scroll",height:"500px"}},xu={class:"table table-striped table-sm"},ec=e("thead",null,[e("tr",null,[e("th",null,"Item"),e("th",null,"Damage"),e("th",null,"Properties"),e("th",null,"Cost"),e("th",null,"Weight")])],-1),tc=["onClick"],oc={style:{"overflow-y":"scroll",height:"500px"}},sc={class:"table table-striped table-sm"},nc=["onClick"],lc=e("br",null,null,-1),ac=e("br",null,null,-1),ic=e("br",null,null,-1),rc=["value"],dc={class:"table table-sm smalltext"},uc=e("th",null,"CP",-1),cc=e("th",null,"GP",-1),hc=e("th",null,"SP",-1),pc=e("th",null,"PP",-1),mc=e("th",{colspan:"2"},"Gems (value)",-1),vc={colspan:"2"},bc=e("th",{colspan:"2"},"Art (value)",-1),$c={colspan:"2"},yc={class:"smalltext"},fc=e("br",null,null,-1),gc={class:"smalltext"};function _c(t,o,c,m,f,k){const n=V("modal"),s=V("b-tab"),i=V("b-tabs"),h=V("b-modal");return l(),a("div",ku,[e("div",wu,[e("div",Cu,[Vu,(l(!0),a(g,null,_(t.equipmentContainers,v=>(l(),a("div",{key:v.name,style:{clear:"both"}},[e("h4",Uu,[u(d(v.name)+" ",1),e("span",Su,[u(d(v.contains)+" / "+d(v.capacity)+" lbs ",1),e("input",{type:"button",class:"btn btn-danger btn-sm print-hide",value:"X",onClick:$=>t.removeContainer(v)},null,8,Au)])]),(l(!0),a(g,null,_(v.equipment,$=>(l(),a("div",{key:$.id,class:"smalltext",style:{clear:"both"}},[e("button",{type:"button",class:"print-hide btn-symbol float-left",onClick:U=>$.edit={isActive:!0,title:$.name}},"\u270E",8,Mu),e("span",{class:R($.attunement?"attuned":""),title:"Item Weight: "+$.weight+" lbs, Total Weight "+$.weight*$.quantity+" lbs"},d($.name),11,Du),r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":U=>$.quantity=U},null,8,Ru),[[p,$.quantity]]),Tu,y(n,{modalProps:$.edit},{default:C(()=>[u(" Name "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":U=>$.name=U},null,8,Pu),[[p,$.name]]),u(" Weight "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":U=>$.weight=U},null,8,Iu),[[p,$.weight]]),u(" Quantity "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":U=>$.quantity=U},null,8,Lu),[[p,$.quantity]]),u(" Value (gp) "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":U=>$.cost=U},null,8,Nu),[[p,$.cost]]),Bu,r(e("input",{type:"checkbox","onUpdate:modelValue":U=>$.attunement=U},null,8,Eu),[[A,$.attunement]]),u(" Attunement"),qu,u(" Container "),r(e("select",{class:"form-control","onUpdate:modelValue":U=>$.container=U,onChange:U=>{$.edit=!1}},[(l(!0),a(g,null,_(t.character.containers,U=>(l(),a("option",{key:U.id,value:U.id},d(U.name),9,Wu))),128))],40,Hu),[[w,$.container]]),Fu,u(" Description "),r(e("textarea",{"onUpdate:modelValue":U=>$.description=U,class:"form-control"},null,8,ju),[[p,$.description]]),e("button",{type:"button",class:"btn btn-danger print-hide",onClick:U=>t.removeEquipment($)},"Delete",8,zu)]),_:2},1032,["modalProps"])]))),128))]))),128)),e("div",Ou,[e("button",{type:"button",class:"btn btn-sm btn-primary print-hide",onClick:o[0]||(o[0]=v=>t.newEquipModal.isActive=!0)},"+Equipment"),e("button",{type:"button",class:"btn btn-sm btn-primary print-hide",onClick:o[1]||(o[1]=v=>t.containModal=!0)},"+Container")]),y(n,{modalProps:t.newEquipModal},{default:C(()=>[u(" Quantity "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=v=>t.newequip.quantity=v)},null,512),[[p,t.newequip.quantity]]),u(" Container "),r(e("select",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=v=>t.newequip.container=v)},[(l(!0),a(g,null,_(t.character.containers,v=>(l(),a("option",{key:v.id,value:v.id},d(v.name),9,Gu))),128))],512),[[w,t.newequip.container]]),u(" Exclude Magic Items: "),r(e("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=v=>t.excludemagic=v)},null,512),[[A,t.excludemagic]]),y(i,{id:"existingEquip"},{default:C(()=>[y(s,{title:"New"},{default:C(()=>[u(" Name "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=v=>t.newequip.name=v)},null,512),[[p,t.newequip.name]]),u(" Weight "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=v=>t.newequip.weight=v)},null,512),[[p,t.newequip.weight]]),u(" Value (gp) "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=v=>t.newequip.cost=v)},null,512),[[p,t.newequip.cost]]),r(e("input",{type:"checkbox","onUpdate:modelValue":o[8]||(o[8]=v=>t.newequip.attunement=v)},null,512),[[A,t.newequip.attunement]]),u(" Attunement"),Xu,u(" Description "),r(e("textarea",{"onUpdate:modelValue":o[9]||(o[9]=v=>t.newequip.description=v),class:"form-control"},null,512),[[p,t.newequip.description]]),e("button",{onClick:o[10]||(o[10]=v=>t.addEquipment()),class:"btn btn-sm btn-primary"},"Add Now")]),_:1}),y(s,{title:"Adventuring Gear"},{default:C(()=>[r(e("input",{placeholder:"search","onUpdate:modelValue":o[11]||(o[11]=v=>t.searchEquip=v),class:"form-control"},null,512),[[p,t.searchEquip]]),e("div",Yu,[e("table",Ku,[Qu,e("tbody",null,[(l(!0),a(g,null,_(t.allGear,v=>(l(),a("tr",{key:v},[e("td",null,[e("a",{href:"#",onClick:$=>t.addExistingEquipment(v,t.newequip.quantity,t.newequip.container,!1)},d(v.Item),9,Ju)]),e("td",null,d(v.Cost),1),e("td",null,d(v.Weight),1)]))),128))])])])]),_:1}),y(s,{title:"Weapons"},{default:C(()=>[r(e("input",{placeholder:"search","onUpdate:modelValue":o[12]||(o[12]=v=>t.searchEquip=v),class:"form-control"},null,512),[[p,t.searchEquip]]),e("div",Zu,[e("table",xu,[ec,e("tbody",null,[(l(!0),a(g,null,_(t.allWeapons,v=>(l(),a("tr",{key:v.Weapon},[e("td",null,[e("a",{href:"#",onClick:$=>t.addExistingWeapon(v,t.newequip.quantity,t.newequip.container)},d(v.Weapon),9,tc)]),e("td",null,d(v.Damage)+" "+d(v.Dtype),1),e("td",null,d(v.Properties),1),e("td",null,d(v.Cost),1),e("td",null,d(v.Weight),1)]))),128))])])])]),_:1}),y(s,{title:"Armor"},{default:C(()=>[r(e("input",{placeholder:"search","onUpdate:modelValue":o[13]||(o[13]=v=>t.searchEquip=v),class:"form-control"},null,512),[[p,t.searchEquip]]),e("div",oc,[e("table",sc,[e("thead",null,[e("tr",null,[e("th",null,[e("span",{onClick:o[14]||(o[14]=B(v=>{t.armorSort="Armor",t.armorSortDir=!t.armorSortDir},["stop"]))},"Item")]),e("th",null,[e("span",{onClick:o[15]||(o[15]=B(v=>{t.armorSort="Type",t.armorSortDir=!t.armorSortDir},["stop"]))},"Type")]),e("th",null,[e("a",{onClick:o[16]||(o[16]=B(v=>{t.armorSort="Cost",t.armorSortDir=!t.armorSortDir},["stop"]))},"Cost")]),e("th",null,[e("a",{onClick:o[17]||(o[17]=B(v=>{t.armorSort="AC",t.armorSortDir=!t.armorSortDir},["stop"]))},"AC")]),e("th",null,[e("a",{onClick:o[18]||(o[18]=B(v=>{t.armorSort="MaxDex",t.armorSortDir=!t.armorSortDir},["stop"]))},"MaxDex")]),e("th",null,[e("a",{onClick:o[19]||(o[19]=B(v=>{t.armorSort="PC",t.armorSortDir=!t.armorSortDir},["stop"]))},"PC")]),e("th",null,[e("a",{onClick:o[20]||(o[20]=B(v=>{t.armorSort="Weight",t.armorSortDir=!t.armorSortDir},["stop"]))},"Weight")])])]),e("tbody",null,[(l(!0),a(g,null,_(t.allArmor,v=>(l(),a("tr",{key:v.Armor},[e("td",null,[e("a",{href:"#",onClick:$=>t.addExistingArmor(v,t.newequip.quantity,t.newequip.container)},d(v.Armor),9,nc)]),e("td",null,d(v.Type),1),e("td",null,d(v.Cost),1),e("td",null,d(v.AC),1),e("td",null,d(v.MaxDex==99?"Unlimited":v.MaxDex),1),e("td",null,d(v.PC),1),e("td",null,d(v.Weight)+" lbs",1)]))),128))])])])]),_:1})]),_:1})]),_:1},8,["modalProps"]),y(h,{modelValue:t.containModal,"onUpdate:modelValue":o[27]||(o[27]=v=>t.containModal=v),title:"Add Container",onOk:o[28]||(o[28]=v=>t.addContainer()),"modal-class":t.userinfo.themesetting},{default:C(()=>[u(" Name "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[21]||(o[21]=v=>t.newcontain.name=v)},null,512),[[p,t.newcontain.name]]),u(" Capacity "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[22]||(o[22]=v=>t.newcontain.capacity=v)},null,512),[[p,t.newcontain.capacity]]),lc,u(" Weight Counts "),r(e("input",{type:"checkbox","onUpdate:modelValue":o[23]||(o[23]=v=>t.newcontain.weightCounts=v)},null,512),[[A,t.newcontain.weightCounts]]),ac,u(" Container Weight "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[24]||(o[24]=v=>t.newcontain.weight=v)},null,512),[[p,t.newcontain.weight]]),ic,u(" Select Predefined Type "),r(e("select",{"onUpdate:modelValue":o[25]||(o[25]=v=>t.ctypeselected=v),class:"form-control",onChange:o[26]||(o[26]=v=>t.newContainerType(t.ctypeselected))},[(l(!0),a(g,null,_(t.ctypes,v=>(l(),a("option",{value:v,key:v.name},d(v.name),9,rc))),128))],544),[[w,t.ctypeselected]])]),_:1},8,["modelValue","modal-class"]),e("table",dc,[e("tbody",null,[e("tr",null,[uc,e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[29]||(o[29]=v=>t.character.cp=v)},null,512),[[p,t.character.cp]])]),cc,e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[30]||(o[30]=v=>t.character.gp=v)},null,512),[[p,t.character.gp]])])]),e("tr",null,[hc,e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[31]||(o[31]=v=>t.character.sp=v)},null,512),[[p,t.character.sp]])]),pc,e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[32]||(o[32]=v=>t.character.pp=v)},null,512),[[p,t.character.pp]])])]),e("tr",null,[mc,e("td",vc,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[33]||(o[33]=v=>t.character.gems=v)},null,512),[[p,t.character.gems]])])]),e("tr",null,[bc,e("td",$c,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[34]||(o[34]=v=>t.character.art=v)},null,512),[[p,t.character.art]])])])])]),e("span",yc,"Carry Weight: "+d(t.carryWeight)+" / "+d(t.carryMax),1),fc,e("span",gc,"Total Gold: "+d(t.totalGold),1)])])])}const kc=M(_u,[["render",_c]]),wc={setup(){const t=D(),o=L(),c=W(),{character:m,level:f}=S(t),{featsv2:k,featv2sort:n}=S(c),s=t.addInjury,i=t.removeInjury;return{userinfo:o,character:m,feats:k,level:f,featsort:n,addInjury:s,removeInjury:i,marked:ie}},computed:{lvl1feats(){return this.feats.filter(t=>!t.prereq.includes("4th level"))},numASI(){var t=1;for(this.character.charclasses.forEach(o=>{o.level>=4&&t++,o.level>=6&&(o.thisclass.name==="Fighter"||o.thisclass.name==="Factotum")&&t++,o.level>=8&&t++,o.level>=10&&o.thisclass.name==="Rogue"&&t++,o.level>=12&&t++,o.level>=14&&o.thisclass.name==="Fighter"&&t++,o.level>=16&&t++,o.level>=19&&t++}),t+=Number(this.character.bonusfeats);this.character.feats.length<t;)this.character.feats.push({name:"",prereq:"",description:""});return this.character.feats.length>t&&(this.character.feats.length=t),t}},data(){return{newfeature:{name:"",description:"",show:!1},newFeatureModal:!1}},methods:{addFeature(){this.character.features.push(this.newfeature),this.newfeature={name:"",description:"",show:!1},this.newFeatureModal=!1},setval(t,o,c){t[o]=c,this.$forceUpdate()},removeFeature(t){this.character.features.splice(t,1)}}},Cc={class:"charsheet-static"},Vc={class:"col-10"},Uc=["onUpdate:modelValue"],Sc={class:"col-2"},Ac=["onClick"],Mc={class:"charsheet-static"},Dc=e("br",null,null,-1),Rc={key:0,class:"col-10"},Tc=["onUpdate:modelValue"],Pc=["value"],Ic=["value","title"],Lc={key:1,class:"col-10"},Nc=["onUpdate:modelValue"],Bc=["value"],Ec=["value","title"],qc={class:"col-1"},Hc=["onClick"],Wc=["onClick"],Fc=["innerHTML"],jc={class:"charsheet-static",id:"featurebox"},zc={key:0,class:"smalltext"},Oc={title:"You should select this feat as the first feat in the feat list above. If you want a different first level feat you can select that instead."},Gc=["title"],Xc=["onClick"],Yc=["onClick"],Kc=["innerHTML"],Qc={key:0},Jc=["title"],Zc=["onClick"],xc=["onClick"],eh=["innerHTML"],th={key:0},oh=["title"],sh=["onClick"],nh=["onClick"],lh=["innerHTML"],ah={key:0},ih=["title"],rh=["onClick"],dh=["onClick"],uh=["innerHTML"],ch=["title"],hh=["onClick"],ph=["onClick"],mh=["onClick"],vh=["innerHTML"],bh=e("p",null,"\xA0",-1);function $h(t,o,c,m,f,k){const n=V("b-modal");return l(),a("div",null,[e("div",Cc,[u(" Injuries/Madnesses "),(l(!0),a(g,null,_(t.character.injuries,(s,i)=>(l(),a("div",{key:i,class:"row"},[e("div",Vc,[r(e("input",{type:"text","onUpdate:modelValue":h=>s.name=h,class:"charsheet-text"},null,8,Uc),[[p,s.name]])]),e("div",Sc,[e("button",{class:"btn btn-sm btn-danger print-hide",type:"button",onClick:h=>t.removeInjury(i)},"X",8,Ac)])]))),128)),e("button",{class:"btn btn-sm btn-primary print-hide",type:"button",onClick:o[0]||(o[0]=(...s)=>t.addInjury&&t.addInjury(...s))},"+")]),e("div",Mc,[u(" Feats/ASIs "+d(t.numASI),1),Dc,(l(!0),a(g,null,_(t.character.feats,(s,i)=>(l(),a("div",{key:i,style:{clear:"both"},class:"row"},[i==0?(l(),a("div",Rc,[r(e("select",{class:"charsheet-text","onUpdate:modelValue":h=>t.character.feats[i]=h},[e("option",{value:t.character.feats[i]},d(t.character.feats[i].name),9,Pc),(l(!0),a(g,null,_(t.lvl1feats,h=>(l(),a("option",{key:h.name,value:h,title:h.description},d(h.name),9,Ic))),128))],8,Tc),[[w,t.character.feats[i]]])])):(l(),a("div",Lc,[r(e("select",{class:"charsheet-text","onUpdate:modelValue":h=>t.character.feats[i]=h},[e("option",{value:t.character.feats[i]},d(t.character.feats[i].name),9,Bc),(l(!0),a(g,null,_(t.featsort,h=>(l(),a("option",{key:h.name,value:h,title:h.description},d(h.name),9,Ec))),128))],8,Nc),[[w,t.character.feats[i]]])])),e("div",qc,[s.show?b("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>t.setval(s,"show",!0)}," \u25BC ",8,Hc)),s.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>t.setval(s,"show",!1)}," \u25B2 ",8,Wc)):b("",!0)]),s.show?(l(),a("p",{key:2,innerHTML:t.marked.parse(s.description)},null,8,Fc)):b("",!0)]))),128))]),e("div",jc,[u(" Features "),t.character.background.feature.length>0?(l(),a("p",zc,[e("span",Oc,"Background Feat: "+d(t.character.background.feature),1)])):b("",!0),(l(!0),a(g,null,_(t.character.race.traits,s=>(l(),a("div",{class:"smalltext",key:s.name},[e("p",null,[e("span",{title:s.description},d(s.name),9,Gc),s.show?b("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>t.setval(s,"show",!0)}," \u25BC ",8,Xc)),s.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>t.setval(s,"show",!1)}," \u25B2 ",8,Yc)):b("",!0),s.show?(l(),a("span",{key:2,innerHTML:t.marked.parse(s.description)},null,8,Kc)):b("",!0)])]))),128)),(l(!0),a(g,null,_(t.character.charclasses,s=>(l(),a("div",{class:"smalltext",key:s.thisclass.name},[(l(!0),a(g,null,_(s.thisclass.features,i=>(l(),a("div",{key:i.name},[i.level<=s.level?(l(),a("p",Qc,[e("span",{title:i.description},d(i.name),9,Jc),i.show?b("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>t.setval(i,"show",!0)}," \u25BC ",8,Zc)),i.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>t.setval(i,"show",!1)}," \u25B2 ",8,xc)):b("",!0),i.show?(l(),a("span",{key:2,innerHTML:t.marked.parse(i.description)},null,8,eh)):b("",!0)])):b("",!0)]))),128)),(l(!0),a(g,null,_(s.selsubclass.features,i=>(l(),a("div",{key:i.name},[i.level<=s.level?(l(),a("p",th,[e("span",{title:i.description},d(i.name),9,oh),i.show?b("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>t.setval(i,"show",!0)}," \u25BC ",8,sh)),i.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>t.setval(i,"show",!1)}," \u25B2 ",8,nh)):b("",!0),i.show?(l(),a("span",{key:2,innerHTML:t.marked.parse(i.description)},null,8,lh)):b("",!0)])):b("",!0)]))),128))]))),128)),(l(!0),a(g,null,_(t.character.faction,s=>(l(),a("div",{key:s.faction.id},[(l(!0),a(g,null,_(s.faction.features,i=>(l(),a("p",{key:i.name,class:"smalltext"},[s.rank.index>=i.minrank?(l(),a("div",ah,[e("span",{title:i.description},d(i.name),9,ih),i.show?b("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>t.setval(i,"show",!0)},"\u25BC",8,rh)),i.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>t.setval(i,"show",!1)},"\u25B2",8,dh)):b("",!0),i.show?(l(),a("span",{key:2,innerHTML:t.marked.parse(i.description)},null,8,uh)):b("",!0)])):b("",!0)]))),128))]))),128)),(l(!0),a(g,null,_(t.character.features,(s,i)=>(l(),a("div",{class:"smalltext",key:i},[e("p",null,[e("span",{title:s.description},d(s.name),9,ch),e("button",{class:"btn btn-sm print-hide float-right btn-danger",type:"button",onClick:h=>t.removeFeature(i)},"X",8,hh),s.show?b("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>t.setval(s,"show",!0)}," \u25BC ",8,ph)),s.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>t.setval(s,"show",!1)}," \u25B2 ",8,mh)):b("",!0),s.show?(l(),a("span",{key:2,innerHTML:t.marked.parse(s.description)},null,8,vh)):b("",!0)])]))),128)),e("button",{class:"btn btn-sm print-hide btn-primary",type:"button",onClick:o[1]||(o[1]=s=>t.newFeatureModal=!0)},"+"),y(n,{title:"Add Feature",modelValue:t.newFeatureModal,"onUpdate:modelValue":o[4]||(o[4]=s=>t.newFeatureModal=s),onOk:o[5]||(o[5]=s=>t.addFeature()),"modal-class":t.userinfo.themesetting},{default:C(()=>[u(" Name "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=s=>t.newfeature.name=s)},null,512),[[p,t.newfeature.name]]),u(" Description "),r(e("textarea",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=s=>t.newfeature.description=s)},null,512),[[p,t.newfeature.description]])]),_:1},8,["modelValue","modal-class"]),bh])])}const yh=M(wc,[["render",$h]]),fh={setup(){const t=D(),o=W(),{character:c}=S(t),{allNationNames:m,allCityNames:f,organizationsv2:k}=S(o);return{character:c,nations:m,cities:f,factions:k}},methods:{textareaResize(){this.$refs.allies.style.minHeight=Math.max(this.$refs.allies.scrollHeight,150)+"px",this.$refs.family.style.minHeight=Math.max(this.$refs.family.scrollHeight,150)+"px",this.$refs.backstory.style.minHeight=Math.max(this.$refs.backstory.scrollHeight,150)+"px",this.$refs.bond.style.minHeight=Math.max(this.$refs.bond.scrollHeight,150)+"px",this.$refs.personality.style.minHeight=Math.max(this.$refs.personality.scrollHeight,150)+"px",this.$refs.notes.style.minHeight=Math.max(this.$refs.notes.scrollHeight,150)+"px"},addFaction(){this.character.faction.push({id:Math.random(),faction:{},rank:{name:"Unaffiliated"},disposition:0})},removeFaction(t){this.character.faction.splice(t,1)}},updated(){this.textareaResize()},mounted(){this.textareaResize()}},gh={class:"row"},_h={class:"col"},kh={class:"charsheet-static"},wh=e("h5",null,"Notes",-1),Ch={class:"row"},Vh={class:"col"},Uh={class:"charsheet-static"},Sh=e("h5",null,"Allies",-1),Ah={class:"col"},Mh=e("h5",null,"Organizations",-1),Dh=e("div",{class:"row"},[e("div",{class:"col-sm-5"},"Faction"),e("div",{class:"col-sm-2"},"Disposition"),e("div",{class:"col-sm-4"},"Rank")],-1),Rh={class:"col-sm-5"},Th=["onUpdate:modelValue"],Ph=["value"],Ih=["value"],Lh={class:"col-sm-2"},Nh=["onUpdate:modelValue"],Bh={class:"col-sm-4"},Eh=["onUpdate:modelValue"],qh=["value"],Hh=["title","value"],Wh={class:"col-sm-1"},Fh=["onClick"],jh={class:"row"},zh={class:"col"},Oh={class:"charsheet-static"},Gh=e("h5",null,"Family",-1),Xh={class:"row"},Yh={class:"col"},Kh={class:"charsheet-static"},Qh=e("h5",null,"Backstory",-1),Jh={class:"row"},Zh={class:"col-sm-6"},xh={id:"countrylist"},ep=["value"],tp={class:"col-sm-6"},op={id:"citylist"},sp=["value"],np={class:"row"},lp={class:"col"},ap={class:"charsheet-static"},ip=e("h5",null,"Bond",-1),rp={class:"row"},dp={class:"col"},up={class:"charsheet-static"},cp=e("h5",null,"Personality",-1);function hp(t,o,c,m,f,k){return l(),a("div",null,[e("div",gh,[e("div",_h,[e("div",kh,[wh,r(e("textarea",{"onUpdate:modelValue":o[0]||(o[0]=n=>t.character.notes=n),class:"charsheet-textarea smalltext",ref:"notes",onInput:o[1]||(o[1]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.character.notes]])])])]),e("div",Ch,[e("div",Vh,[e("div",Uh,[Sh,r(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=n=>t.character.allies=n),class:"charsheet-textarea smalltext",ref:"allies",onInput:o[3]||(o[3]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.character.allies]])])]),e("div",Ah,[Mh,Dh,(l(!0),a(g,null,_(t.character.faction,(n,s)=>(l(),a("div",{key:n.id,class:"row"},[e("div",Rh,[r(e("select",{class:"charsheet-text","onUpdate:modelValue":i=>n.faction=i},[e("option",{value:n.faction},d(n.faction.title),9,Ph),(l(!0),a(g,null,_(t.factions,i=>(l(),a("option",{value:i,key:i.id},d(i.title),9,Ih))),128))],8,Th),[[w,n.faction]])]),e("div",Lh,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":i=>n.disposition=i},null,8,Nh),[[p,n.disposition]])]),e("div",Bh,[r(e("select",{class:"charsheet-text","onUpdate:modelValue":i=>n.rank=i},[e("option",{value:n.rank},d(n.rank.name),9,qh),(l(!0),a(g,null,_(n.faction.ranks,i=>(l(),a("option",{key:i.name,title:i.description,value:i},d(i.name),9,Hh))),128))],8,Eh),[[w,n.rank]]),u(" Minimum Disposition: "+d(n.rank.minDisposition),1)]),e("div",Wh,[e("button",{class:"btn btn-danger btn-sm",onClick:i=>t.removeFaction(s)},"-",8,Fh)])]))),128)),e("button",{onClick:o[4]||(o[4]=n=>t.addFaction()),class:"btn btn-primary btn-sm"},"+")])]),e("div",jh,[e("div",zh,[e("div",Oh,[Gh,r(e("textarea",{"onUpdate:modelValue":o[5]||(o[5]=n=>t.character.family=n),class:"charsheet-textarea smalltext",ref:"family",onInput:o[6]||(o[6]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.character.family]])])])]),e("div",Xh,[e("div",Yh,[e("div",Kh,[Qh,r(e("textarea",{"onUpdate:modelValue":o[7]||(o[7]=n=>t.character.backstory=n),class:"charsheet-textarea smalltext",ref:"backstory",onInput:o[8]||(o[8]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.character.backstory]])])])]),e("div",Jh,[e("div",Zh,[r(e("input",{list:"countrylist",type:"text",class:"charsheet-text","onUpdate:modelValue":o[9]||(o[9]=n=>t.character.homecountry=n)},null,512),[[p,t.character.homecountry]]),u(" Home Country ")]),e("datalist",xh,[(l(!0),a(g,null,_(t.nations,n=>(l(),a("option",{value:n,key:n},d(n),9,ep))),128))]),e("div",tp,[r(e("input",{list:"citylist",type:"text",class:"charsheet-text","onUpdate:modelValue":o[10]||(o[10]=n=>t.character.hometown=n)},null,512),[[p,t.character.hometown]]),u(" Home Town ")]),e("datalist",op,[(l(!0),a(g,null,_(t.cities,n=>(l(),a("option",{value:n,key:n},d(n),9,sp))),128))])]),e("div",np,[e("div",lp,[e("div",ap,[ip,r(e("textarea",{"onUpdate:modelValue":o[11]||(o[11]=n=>t.character.bond=n),class:"charsheet-textarea smalltext",ref:"bond",onInput:o[12]||(o[12]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.character.bond]])])])]),e("div",rp,[e("div",dp,[e("div",up,[cp,r(e("textarea",{"onUpdate:modelValue":o[13]||(o[13]=n=>t.character.personality=n),class:"charsheet-textarea smalltext",ref:"personality",onInput:o[14]||(o[14]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.character.personality]])])])])])}const pp=M(fh,[["render",hp]]),mp={setup(){const t=D(),{character:o}=S(t);return{character:o}},computed:{sortedSessions(){return this.character.sessions.sort((t,o)=>t.id>o.id?1:-1)}},data(){return{currentSession:{id:"",date:"",ingamedate:{start:"",end:""},npcs:"",locations:"",goals:"",encounters:"",loot:""}}},methods:{Session(t){return{id:Date.now(),date:t.toLocaleDateString(),ingamedate:{start:"",end:""},npcs:"",locations:"",goals:"",encounters:"",loot:""}},addSession(){let t=this.Session(new Date);this.character.sessions.push(t),this.currentSession=t},removeSession(t){confirm("Are you sure you want to delete this session?")&&(this.character.sessions.splice(this.character.sessions.findIndex(t),1),this.character.sessions.length>0?this.currentSession=this.character.sessions[0]:this.currentSession={id:"",date:"",ingamedate:{start:"",end:""},npcs:"",locations:"",goals:"",encounters:"",loot:""})}}},vp={class:"row"},bp=["value"],$p=["value"],yp={class:"btn-group"},fp={key:0},gp={class:"row"},_p={class:"col-3"},kp={class:"charsheet-static"},wp=e("label",null,"Today's Date",-1),Cp={class:"col-3"},Vp={class:"charsheet-static"},Up=e("label",null,"Session Start Date",-1),Sp={class:"col-3"},Ap={class:"charsheet-static"},Mp=e("label",null,"Session End Date",-1),Dp={class:"col-3 btn-group"},Rp={class:"row"},Tp={class:"col-12"},Pp={class:"charsheet-static"},Ip=e("h4",null,"Where Are We?",-1),Lp={class:"row"},Np={class:"col-12"},Bp={class:"charsheet-static"},Ep=e("h4",null,"Who Did We Meet?",-1),qp={class:"row"},Hp={class:"col-12"},Wp={class:"charsheet-static"},Fp=e("h4",null,"What are we doing?",-1),jp={class:"row"},zp={class:"col-6"},Op={class:"charsheet-static"},Gp=e("h4",null,"Encounters",-1),Xp={class:"col-6"},Yp={class:"charsheet-static"},Kp=e("h4",null,"Loot",-1);function Qp(t,o,c,m,f,k){return l(),a("div",null,[e("div",vp,[r(e("select",{"onUpdate:modelValue":o[0]||(o[0]=n=>t.currentSession=n),class:"charsheet-text"},[e("option",{value:t.currentSession},d(t.currentSession.date),9,bp),(l(!0),a(g,null,_(t.sortedSessions,n=>(l(),a("option",{value:n,key:n.id},d(n.date),9,$p))),128))],512),[[w,t.currentSession]]),e("div",yp,[e("button",{onClick:o[1]||(o[1]=n=>t.addSession()),class:"btn btn-primary btn-sm"},"Add Session")])]),t.currentSession.id!==""?(l(),a("div",fp,[e("div",gp,[e("div",_p,[e("div",kp,[wp,r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[2]||(o[2]=n=>t.currentSession.date=n)},null,512),[[p,t.currentSession.date]])])]),e("div",Cp,[e("div",Vp,[Up,r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[3]||(o[3]=n=>t.currentSession.ingamedate.start=n)},null,512),[[p,t.currentSession.ingamedate.start]])])]),e("div",Sp,[e("div",Ap,[Mp,r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[4]||(o[4]=n=>t.currentSession.ingamedate.end=n)},null,512),[[p,t.currentSession.ingamedate.end]])])]),e("div",Dp,[e("button",{onClick:o[5]||(o[5]=n=>t.removeSession(t.currentSession)),class:"btn btn-danger"},"Delete")])]),e("div",Rp,[e("div",Tp,[e("div",Pp,[Ip,r(e("textarea",{"onUpdate:modelValue":o[6]||(o[6]=n=>t.currentSession.locations=n),class:"charsheet-textarea smalltext",onInput:o[7]||(o[7]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.currentSession.locations]])])])]),e("div",Lp,[e("div",Np,[e("div",Bp,[Ep,r(e("textarea",{"onUpdate:modelValue":o[8]||(o[8]=n=>t.currentSession.npcs=n),class:"charsheet-textarea smalltext",onInput:o[9]||(o[9]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.currentSession.npcs]])])])]),e("div",qp,[e("div",Hp,[e("div",Wp,[Fp,r(e("textarea",{"onUpdate:modelValue":o[10]||(o[10]=n=>t.currentSession.goals=n),class:"charsheet-textarea smalltext",onInput:o[11]||(o[11]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.currentSession.goals]])])])]),e("div",jp,[e("div",zp,[e("div",Op,[Gp,r(e("textarea",{"onUpdate:modelValue":o[12]||(o[12]=n=>t.currentSession.encounters=n),class:"charsheet-textarea smalltext",onInput:o[13]||(o[13]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.currentSession.encounters]])])]),e("div",Xp,[e("div",Yp,[Kp,r(e("textarea",{"onUpdate:modelValue":o[14]||(o[14]=n=>t.currentSession.loot=n),class:"charsheet-textarea smalltext",onInput:o[15]||(o[15]=(...n)=>t.textareaResize&&t.textareaResize(...n))},null,544),[[p,t.currentSession.loot]])])])])])):b("",!0)])}const Jp=M(mp,[["render",Qp]]),Zp={setup(){const t=D(),{character:o,getInitMod:c}=S(t);return{characters:t,character:o,getInitMod:c}}},xp={class:"row"},em={class:"col"},tm={class:"charsheet-static center"},om={key:0};function sm(t,o,c,m,f,k){return l(),a("div",xp,[e("div",em,[e("div",tm,[u(" Initiative: "),t.characters.getInitMod>-1?(l(),a("span",om,"+")):b("",!0),u(d(t.getInitMod),1)])])])}const nm=M(Zp,[["render",sm]]),lm={setup(){const t=D(),o=L(),{googletoken:c,loggedin:m,token:f}=S(o),{charlevel:k,charGroups:n}=S(t),{character:s}=S(t),i=S(s._id),h=t.getDriveFiles,v=t.saveToDrive,$=t.getFromServer,U=t.getOneFromServer,N=t.getFromServerSilent,F=t.updateToServer,j=t.updateToServerSilent,E=t.newToServer,q=t.deleteFromServer,z=t.saveCharacter,X=t.loadCharacter,O=t.resetCharacter;return{googletoken:c,loggedin:m,token:f,character:s,charlevel:k,groups:n,getDriveFiles:h,saveToDrive:v,getFromServer:$,getOneFromServer:U,getFromServerSilent:N,updateToServer:F,updateToServerSilent:j,newToServer:E,saveCharacter:z,loadCharacter:X,resetCharacter:O,deleteFromServer:q,id:i}},computed:{charsorted(){return this.characters.sort((t,o)=>t.name>o.name?1:o.name>t.name?-1:this.charlevel(t)>this.charlevel(o)?1:-1).filter(t=>this.groupfilter==="all"?!0:this.groupfilter===t.group)}},components:{modal:K},props:{minimal:Boolean},data(){return{characters:[],newgroup:"",groupfilter:"all",serverModalProps:{isActive:!1,title:"Load Character"},loadingModalProps:{isActive:!1,title:"Load Character"}}},methods:{getChars(){this.loadingModalProps.isActive=!0,this.getFromServer().then(t=>{t&&(this.characters=t,this.loadingModalProps.isActive=!1,this.serverModalProps.isActive=!0)})},loadChar(t){this.getOneFromServer(t),this.serverModalProps.isActive=!1},addGroup(){this.character.group=this.newgroup}},watch:{character:{handler(){this.character.autosave&&this.loggedin&&this.updateToServerSilent(this)},deep:!0}},mounted(){this.loggedin&&this.getFromServerSilent()}},am={class:"row"},im={class:"col-sm"},rm={class:"row",style:{"margin-bottom":"5px"}},dm=e("div",{class:"col-sm-6"},[e("input",{type:"file",id:"fileload"})],-1),um={class:"col-sm-6"},cm={class:"btn-group"},hm={class:"col-sm"},pm={key:0,class:"row"},mm={class:"btn-group col-12"},vm={key:1,class:"row"},bm=e("p",{class:"col"}," Login from the menu to load/save on the web server. ",-1),$m=[bm],ym={key:2},fm={class:"col-sm"},gm=e("h5",null,"Add to Group",-1),_m=["value"],km=e("option",{value:""},"None",-1),wm=e("h6",null,"Create New Group",-1),Cm=["value"],Vm=e("option",{value:"all"},"All",-1),Um={class:"table table-striped"},Sm=e("tr",null,[e("th",null,"Character Name"),e("th",null,"Level"),e("th",null,"-")],-1),Am=["onClick"],Mm=["onClick"],Dm=e("img",{src:"https://elthelas-images.herokuapp.com/giphy.gif",alt:"Loading"},null,-1);function Rm(t,o,c,m,f,k){const n=V("modal");return l(),a("div",null,[e("div",am,[e("div",im,[e("div",rm,[dm,e("div",um,[e("div",cm,[e("input",{type:"button",disabled:"",value:"File",class:R(["btn",t.minimal?"btm-sm":""])},null,2),e("input",{type:"button",value:"Save",onClick:o[0]||(o[0]=s=>t.saveCharacter()),class:R(["btn btn-primary",t.minimal?"btm-sm":""])},null,2),e("input",{type:"button",value:"Load",onClick:o[1]||(o[1]=s=>t.loadCharacter()),class:R(["btn btn-success",t.minimal?"btm-sm":""])},null,2),e("input",{type:"button",value:"Reset",onClick:o[2]||(o[2]=s=>t.resetCharacter()),class:R(["btn btn-warning",t.minimal?"btm-sm":""])},null,2)])])])]),e("div",hm,[t.loggedin?(l(),a("div",pm,[e("div",mm,[e("input",{type:"button",disabled:"",value:"Server",class:R(["btn",t.minimal?"btm-sm":""])},null,2),t.character._id&&t.character._id.length>0?(l(),a("input",{key:0,type:"button",value:"Save",onClick:o[3]||(o[3]=s=>t.updateToServer(t.comp)),class:R(["btn btn-primary",t.minimal?"btm-sm":""])},null,2)):b("",!0),e("input",{type:"button",value:"Save New",onClick:o[4]||(o[4]=s=>t.newToServer(t.comp)),class:R(["btn btn-primary",t.minimal?"btm-sm":""])},null,2),e("input",{type:"button",value:"Load",onClick:o[5]||(o[5]=s=>t.getChars()),class:R(["btn btn-success",t.minimal?"btm-sm":""])},null,2)])])):(l(),a("div",vm,$m)),t.character._id&&t.loggedin?(l(),a("div",ym,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[6]||(o[6]=s=>t.character.autosave=s)},null,512),[[A,t.character.autosave]]),u(" Autosave Character Changes ")])):b("",!0)]),e("div",fm,[gm,r(e("select",{"onUpdate:modelValue":o[7]||(o[7]=s=>t.character.group=s)},[(l(!0),a(g,null,_(t.groups,s=>(l(),a("option",{value:s.name,key:s.id},d(s.name),9,_m))),128)),km],512),[[w,t.character.group]]),wm,r(e("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=s=>t.newgroup=s),class:"charsheet-text"},null,512),[[p,t.newgroup]]),e("button",{class:"btn btn-sm btn-primary",onClick:o[9]||(o[9]=s=>t.addGroup())},"Create")])]),e("div",null,[y(n,{id:"servermodal",modalProps:t.serverModalProps},{default:C(()=>[u(" Group: "),r(e("select",{"onUpdate:modelValue":o[10]||(o[10]=s=>t.groupfilter=s)},[(l(!0),a(g,null,_(t.groups,s=>(l(),a("option",{key:s.id,value:s.name},d(s.name),9,Cm))),128)),Vm],512),[[w,t.groupfilter]]),e("table",Um,[Sm,(l(!0),a(g,null,_(t.charsorted,s=>(l(),a("tr",{key:s._id},[e("td",null,[e("span",{class:"clickable",onClick:i=>t.loadChar(s._id)},d(s.name),9,Am)]),e("td",null,d(t.charlevel(s)),1),e("td",null,[e("input",{type:"button",onClick:i=>t.deleteFromServer({character:s,comp:t.comp}),class:"btn btn-danger btn-sm",value:"X"},null,8,Mm)])]))),128))])]),_:1},8,["modalProps"]),y(n,{id:"loading",modalProps:t.loadingModalProps},{default:C(()=>[Dm]),_:1},8,["modalProps"])])])}const Tm=M(lm,[["render",Rm]]),Pm={setup(){const t=D(),o=L(),{token:c}=S(o),{character:m,charlevel:f,serverCharacters:k,driveCharacters:n,charGroups:s}=S(t),{getOneFromServer:i,loadFromDrive:h,deleteFromServer:v}=t;return{userinfo:o,token:c,character:m,charlevel:f,characters:k,filelist:n,groups:s,getOneFromServer:i,loadFromDrive:h,deleteFromServer:v}},components:{modal:K},computed:{charsorted(){return this.forceupdatevalue,this.characters.sort((t,o)=>t.name>o.name?1:o.name>t.name?-1:this.charlevel(t)>this.charlevel(o)?1:-1).filter(t=>this.groupfilter==="all"?!0:this.groupfilter===t.group.name)}},data(){return{comp:this,forceupdatevalue:0,groupfilter:{id:"all",name:"all"},serverModalProps:{isActive:!1,title:"Load Character"},loadingModalProps:{isActive:!1,title:"Load Character"}}},methods:{loadChar(t){this.getOneFromServer(t),this.serverModalProps.isActive=!0},forceupdate(){this.forceupdatevalue++}}},Im=["value"],Lm={class:"table table-striped"},Nm=e("tr",null,[e("th",null,"Character Name"),e("th",null,"Level"),e("th",null,"-")],-1),Bm=["onClick"],Em=["onClick"],qm=e("img",{src:"https://elthelas-images.herokuapp.com/giphy.gif",alt:"Loading"},null,-1);function Hm(t,o,c,m,f,k){const n=V("modal");return l(),a("div",null,[y(n,{id:"servermodal",modalProps:t.serverModalProps},{default:C(()=>[u(" Group: "),r(e("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.groupfilter=s)},[(l(!0),a(g,null,_(t.groups,s=>(l(),a("option",{key:s.id,value:s,onChanged:o[0]||(o[0]=i=>t.forceupdate())},d(s.name),41,Im))),128))],512),[[w,t.groupfilter]]),e("table",Lm,[Nm,(l(!0),a(g,null,_(t.charsorted,s=>(l(),a("tr",{key:s._id},[e("td",null,[e("span",{class:"clickable",onClick:i=>t.loadChar(s._id)},d(s.name),9,Bm)]),e("td",null,d(t.charlevel(s)),1),e("td",null,[e("input",{type:"button",onClick:i=>t.deleteFromServer({character:s,comp:t.comp}),class:"btn btn-danger",value:"X"},null,8,Em)])]))),128))])]),_:1},8,["modalProps"]),y(n,{id:"loading",modalProps:t.loadingModalProps},{default:C(()=>[qm]),_:1},8,["modalProps"])])}const Wm=M(Pm,[["render",Hm]]),Fm={setup(){const t=D(),o=L(),{character:c,getSaveDC:m,getDamageBonus:f}=S(t);return{character:c,getSaveDC:m,getDamageBonus:f,userinfo:o}},data(){return{newroll:{name:"",stat:0,damage:[{dice:"",label:"",damagebonus:0,addstat:!1,prof:!1,higherlevels:""}],range:"",edit:!1,savestat:"",savefor:"",description:""},rollmodal:!1}},methods:{addRoll(){this.character.rolls.push(this.newroll),this.newroll={name:"",stat:0,damage:[{dice:"",label:"",damagebonus:0,addstat:!1,prof:!1,higherlevels:""}],range:"",edit:!1,savestat:"",savefor:"",description:""},this.rollmodal=!1},removeRoll(t){this.character.rolls.splice(t,1)},addDamage(t){t.damage.push({dice:"",label:"",damagebonus:0,addstat:!1,prof:!1,higherlevels:""})},removeDamage(t,o){t.damage.splice(o,1)}}},jm={class:"charsheet-static",id:"attackdiv"},zm=e("h4",null,"Other Rolls",-1),Om={key:0},Gm={key:1},Xm={key:0},Ym=["onClick"],Km=["onClick"],Qm=["onUpdate:modelValue"],Jm=["onUpdate:modelValue"],Zm=e("option",{value:0},"Strength",-1),xm=e("option",{value:1},"Dexterity",-1),e1=e("option",{value:2},"Constitution",-1),t1=e("option",{value:3},"Intelligence",-1),o1=e("option",{value:4},"Wisdom",-1),s1=e("option",{value:5},"Charisma",-1),n1=[Zm,xm,e1,t1,o1,s1],l1=["onUpdate:modelValue"],a1=e("option",{value:""},"No Save",-1),i1=e("option",{value:"Strength"},"Strength",-1),r1=e("option",{value:"Dexterity"},"Dexterity",-1),d1=e("option",{value:"Constitution"},"Constitution",-1),u1=e("option",{value:"Intelligence"},"Intelligence",-1),c1=e("option",{value:"Wisdom"},"Wisdom",-1),h1=e("option",{value:"Charisma"},"Charisma",-1),p1=e("option",{value:"Varies (see description)"},"Varies (see description)",-1),m1=[a1,i1,r1,d1,u1,c1,h1,p1],v1=["onUpdate:modelValue"],b1=["onUpdate:modelValue"],$1=["onUpdate:modelValue"],y1=["onUpdate:modelValue"],f1=["onUpdate:modelValue"],g1=["onUpdate:modelValue"],_1=["onUpdate:modelValue"],k1=e("br",null,null,-1),w1=["onUpdate:modelValue"],C1=e("br",null,null,-1),V1=["onUpdate:modelValue"],U1=["onClick"],S1=["onClick"],A1=e("option",{value:0},"Strength",-1),M1=e("option",{value:1},"Dexterity",-1),D1=e("option",{value:2},"Constitution",-1),R1=e("option",{value:3},"Intelligence",-1),T1=e("option",{value:4},"Wisdom",-1),P1=e("option",{value:5},"Charisma",-1),I1=[A1,M1,D1,R1,T1,P1],L1=e("option",{value:""},"No Save",-1),N1=e("option",{value:"Strength"},"Strength",-1),B1=e("option",{value:"Dexterity"},"Dexterity",-1),E1=e("option",{value:"Constitution"},"Constitution",-1),q1=e("option",{value:"Intelligence"},"Intelligence",-1),H1=e("option",{value:"Wisdom"},"Wisdom",-1),W1=e("option",{value:"Charisma"},"Charisma",-1),F1=[L1,N1,B1,E1,q1,H1,W1],j1=["onUpdate:modelValue"],z1=["onUpdate:modelValue"],O1=["onUpdate:modelValue"],G1=["onUpdate:modelValue"],X1=e("br",null,null,-1),Y1=["onUpdate:modelValue"],K1=e("br",null,null,-1),Q1=["onUpdate:modelValue"],J1=["onClick"];function Z1(t,o,c,m,f,k){const n=V("b-modal");return l(),a("div",jm,[zm,(l(!0),a(g,null,_(t.character.rolls,(s,i)=>(l(),a("div",{key:i,class:"smalltext"},[e("strong",null,d(s.name)+":",1),u(", range "+d(s.range)+", ",1),(l(!0),a(g,null,_(s.damage,(h,v)=>(l(),a("span",{key:v},[u(d(h.dice),1),t.getDamageBonus(h,s.stat)>0?(l(),a("span",Om,"+ "+d(t.getDamageBonus(h,s.stat)),1)):b("",!0),t.getDamageBonus(h,s.stat)<0?(l(),a("span",Gm,d(t.getDamageBonus(h,s.stat)),1)):b("",!0),u(" "+d(h.label),1)]))),128)),u(),s.savestat?(l(),a("span",Xm,"DC "+d(t.getSaveDC(s.stat))+" "+d(s.savestat)+" "+d(s.savefor),1)):b("",!0),u(" "+d(s.description)+". ",1),e("button",{type:"button",class:"print-hide btn-symbol",onClick:h=>s.edit=!0},"\u270E",8,Ym),e("button",{type:"button",onClick:h=>t.removeRoll(i),class:"print-hide btn btn-sm btn-danger"},"X",8,Km),y(n,{modelValue:s.edit,"onUpdate:modelValue":h=>s.edit=h},{default:C(()=>[u(" Name: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.name=h},null,8,Qm),[[p,s.name]]),u(" Ability "),r(e("select",{class:"form-control","onUpdate:modelValue":h=>s.stat=h},n1,8,Jm),[[w,s.stat]]),u(" Save? "),r(e("select",{class:"form-control","onUpdate:modelValue":h=>s.savestat=h},m1,8,l1),[[w,s.savestat]]),u(" Save Effect "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.savefor=h},null,8,v1),[[p,s.savefor]]),u(" Range "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.range=h},null,8,b1),[[p,s.range]]),u(" Description "),r(e("textarea",{class:"form-control","onUpdate:modelValue":h=>s.description=h},null,8,$1),[[p,s.description]]),(l(!0),a(g,null,_(s.damage,(h,v)=>(l(),a("div",{key:v},[u(" Dice: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":$=>h.dice=$},null,8,y1),[[p,h.dice]]),u(" Higher Levels Dice: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":$=>h.higherlevels=$},null,8,f1),[[p,h.higherlevels]]),u(" Bonus (not including ability mod or proficiency): "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":$=>h.damagebonus=$},null,8,g1),[[p,h.damagebonus]]),r(e("input",{type:"checkbox","onUpdate:modelValue":$=>h.addstat=$},null,8,_1),[[A,h.addstat]]),u("Add Ability Mod?"),k1,r(e("input",{type:"checkbox","onUpdate:modelValue":$=>h.prof=$},null,8,w1),[[A,h.prof]]),u("Add Proficiency?"),C1,u(" Type: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":$=>h.label=$},null,8,V1),[[p,h.label]]),e("button",{onClick:$=>t.removeDamage(s,v),class:"btn btn-sm btn-danger"},"Remove",8,U1)]))),128)),e("button",{onClick:h=>t.addDamage(s),class:"btn btn-primary btn-sm"},"Add Damage",8,S1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128)),e("button",{type:"button",onClick:o[0]||(o[0]=s=>t.rollmodal=!0),class:"print-hide btn btn-primary btn-sm"},"+"),y(n,{modelValue:t.rollmodal,"onUpdate:modelValue":o[8]||(o[8]=s=>t.rollmodal=s),title:"Add Roll",onOk:o[9]||(o[9]=s=>t.addRoll())},{default:C(()=>[u(" Name: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>t.newroll.name=s)},null,512),[[p,t.newroll.name]]),u(" Ability "),r(e("select",{class:"form-control","onUpdate:modelValue":o[2]||(o[2]=s=>t.newroll.stat=s)},I1,512),[[w,t.newroll.stat]]),u(" Save? "),r(e("select",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=s=>t.newroll.savestat=s)},F1,512),[[w,t.newroll.savestat]]),u(" Save Effect "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=s=>t.newroll.savefor=s)},null,512),[[p,t.newroll.savefor]]),u(" Range: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=s=>t.newroll.range=s)},null,512),[[p,t.newroll.range]]),u(" Description "),r(e("textarea",{class:"form-control","onUpdate:modelValue":o[6]||(o[6]=s=>t.newroll.description=s)},null,512),[[p,t.newroll.description]]),(l(!0),a(g,null,_(t.newroll.damage,(s,i)=>(l(),a("div",{key:i},[u(" Dice: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.dice=h},null,8,j1),[[p,s.dice]]),u(" Higher Levels Dice: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.higherlevels=h},null,8,z1),[[p,s.higherlevels]]),u(" Bonus (not including ability mod or proficiency): "),r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":h=>s.damagebonus=h},null,8,O1),[[p,s.damagebonus]]),r(e("input",{type:"checkbox","onUpdate:modelValue":h=>s.addstat=h},null,8,G1),[[A,s.addstat]]),u("Add Ability Mod?"),X1,r(e("input",{type:"checkbox","onUpdate:modelValue":h=>s.prof=h},null,8,Y1),[[A,s.prof]]),u("Add Proficiency?"),K1,u(" Type: "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.label=h},null,8,Q1),[[p,s.label]]),e("button",{onClick:h=>t.removeDamage(t.newroll,i),class:"btn btn-sm btn-danger"},"Remove",8,J1)]))),128)),e("button",{onClick:o[7]||(o[7]=s=>t.addDamage(t.newroll)),class:"btn btn-primary btn-sm"},"Add Damage")]),_:1},8,["modelValue"])])}const x1=M(Fm,[["render",Z1]]),ev={setup(){const t=D(),o=L(),c=ye(),{creatures:m}=S(c),{character:f}=S(t),{getCreature:k,getAllCreatures:n}=c;return{creatures:m,character:f,userinfo:o,getCreature:k,getAllCreatures:n}},computed:{filteredcreatures(){let t=this;return this.creatures.filter(o=>{var c=t.creaturefilter.split(" ");let m=!0;return c.forEach(f=>{let k=t.creaturestable.filterBy.some(function(n){for(var s in o)if(n===s&&o[s].toString().toLowerCase().includes(f.toLowerCase()))return!0});t.creaturefilter&&!k&&(m=!1)}),!!m})}},data(){return{importPetModal:!1,creaturestable:{fields:[{key:"name",label:"Name",sortable:!0},{key:"size",label:"Size",sortable:!0},{key:"cr",label:"CR",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"subtype",label:"Subtype",sortable:!0}],filterValue:"",sortBy:null,sortDesc:!1,filterBy:["name","size","cr","subtype"]},creaturefilter:""}},methods:{addPet(){this.character.pets.push(se())},deletePet(t){confirm("Are you sure you want to delete "+t.name+"? They are openly weeping at your cowardly betrayal.")&&this.character.pets.splice(this.character.pets.findIndex(o=>o.id===t.id),1)},async importPet(t){let o=se();var c=await this.getCreature(t._id);o.name=c.name,o.species=c.name,o.size=c.size,o.ac=c.ac,o.speed=c.speed,o.hpmax=c.hp,o.hp=c.hp,o.abilityscores=[c.str,c.dex,c.con,c.int,c.wis,c.cha],o.features=c.description,this.character.pets.push(o),this.importPetModal=!1},calcScoreMod(t){return Math.floor(t/2)-5}},mounted(){this.getAllCreatures()}},tv={class:"charsheet-static"},ov=e("h3",null,"Pets",-1),sv={class:"col-sm-4"},nv={class:"col-sm"},lv={class:"col-sm"},av=["onUpdate:modelValue"],iv={class:"col-sm"},rv={class:"btn-group"},dv=["onClick"],uv=["onClick"],cv={class:"row"},hv={class:"col-sm"},pv=["onUpdate:modelValue"],mv={class:"col-sm"},vv=["onUpdate:modelValue"],bv={class:"col-sm"},$v=["onUpdate:modelValue"],yv=e("option",{value:"tiny"},"Tiny",-1),fv=e("option",{value:"small"},"Small",-1),gv=e("option",{value:"medium"},"Medium",-1),_v=e("option",{value:"large"},"Large",-1),kv=e("option",{value:"huge"},"Huge",-1),wv=e("option",{value:"gargantuan"},"Gargantuan",-1),Cv=[yv,fv,gv,_v,kv,wv],Vv={class:"col-sm"},Uv=["onUpdate:modelValue"],Sv={class:"row"},Av={class:"col-sm"},Mv=["onUpdate:modelValue"],Dv=e("br",null,null,-1),Rv={class:"col-sm"},Tv=["onUpdate:modelValue"],Pv=e("br",null,null,-1),Iv={class:"col-sm-8"},Lv={class:"abilitytable"},Nv=e("tr",null,[e("th",null,"STR"),e("th",null,"DEX"),e("th",null,"CON"),e("th",null,"INT"),e("th",null,"WIS"),e("th",null,"CHA")],-1),Bv=["onUpdate:modelValue"],Ev=["onUpdate:modelValue"],qv=["onUpdate:modelValue"],Hv=["onUpdate:modelValue"],Wv=["onUpdate:modelValue"],Fv=["onUpdate:modelValue"],jv={key:0},zv={key:0},Ov={key:0},Gv={key:0},Xv={key:0},Yv={key:0},Kv={class:"row"},Qv={class:"col-sm-12"},Jv=["onUpdate:modelValue"],Zv={style:{"overflow-y":"scroll",height:"500px"}},xv=["onClick"];function eb(t,o,c,m,f,k){const n=V("b-modal"),s=V("b-table");return l(),a("div",tv,[ov,(l(!0),a(g,null,_(t.character.pets,i=>(l(),a("div",{key:i.id,class:"row"},[e("div",sv,d(i.name),1),e("div",nv," AC: "+d(i.ac),1),e("div",lv,[u(" HP: "),r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.hp=h},null,8,av),[[p,i.hp]]),u(" / "+d(i.hpmax),1)]),e("div",iv,[e("div",rv,[e("button",{class:"btn btn-primary btn-sm",onClick:h=>i.showPetDetails=!0},"Details",8,dv),e("button",{class:"btn btn-danger btn-sm",onClick:h=>t.deletePet(i)},"Delete",8,uv)])]),y(n,{modelValue:i.showPetDetails,"onUpdate:modelValue":h=>i.showPetDetails=h,title:i.name,size:"lg","modal-class":t.userinfo.themesetting,"hide-footer":""},{default:C(()=>[e("div",cv,[e("div",hv,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":h=>i.name=h},null,8,pv),[[p,i.name]]),u(" Name ")]),e("div",mv,[r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":h=>i.species=h},null,8,vv),[[p,i.species]]),u(" Species ")]),e("div",bv,[r(e("select",{"onUpdate:modelValue":h=>i.size=h,class:"charsheet-text"},Cv,8,$v),[[w,i.size]]),u(" Size ")]),e("div",Vv,[r(e("input",{type:"text","onUpdate:modelValue":h=>i.speed=h,class:"charsheet-text"},null,8,Uv),[[p,i.speed]]),u(" Speed ")])]),e("div",Sv,[e("div",Av,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.ac=h},null,8,Mv),[[p,i.ac]]),Dv,u(" AC ")]),e("div",Rv,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.hpmax=h},null,8,Tv),[[p,i.hpmax]]),Pv,u(" HP Max ")]),e("div",Iv,[e("table",Lv,[Nv,e("tr",null,[e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[0]=h},null,8,Bv),[[p,i.abilityscores[0]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[1]=h},null,8,Ev),[[p,i.abilityscores[1]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[2]=h},null,8,qv),[[p,i.abilityscores[2]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[3]=h},null,8,Hv),[[p,i.abilityscores[3]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[4]=h},null,8,Wv),[[p,i.abilityscores[4]]])]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[5]=h},null,8,Fv),[[p,i.abilityscores[5]]])])]),e("tr",null,[e("td",null,[t.calcScoreMod(i.abilityscores[0])>0?(l(),a("span",jv,"+")):b("",!0),u(d(t.calcScoreMod(i.abilityscores[0])),1)]),e("td",null,[t.calcScoreMod(i.abilityscores[1])>0?(l(),a("span",zv,"+")):b("",!0),u(d(t.calcScoreMod(i.abilityscores[1])),1)]),e("td",null,[t.calcScoreMod(i.abilityscores[2])>0?(l(),a("span",Ov,"+")):b("",!0),u(d(t.calcScoreMod(i.abilityscores[2])),1)]),e("td",null,[t.calcScoreMod(i.abilityscores[3])>0?(l(),a("span",Gv,"+")):b("",!0),u(d(t.calcScoreMod(i.abilityscores[3])),1)]),e("td",null,[t.calcScoreMod(i.abilityscores[4])>0?(l(),a("span",Xv,"+")):b("",!0),u(d(t.calcScoreMod(i.abilityscores[4])),1)]),e("td",null,[t.calcScoreMod(i.abilityscores[5])>0?(l(),a("span",Yv,"+")):b("",!0),u(d(t.calcScoreMod(i.abilityscores[5])),1)])])])])]),e("div",Kv,[e("div",Qv,[u(" Features "),r(e("textarea",{"onUpdate:modelValue":h=>i.features=h,class:"charsheet-text",style:{"min-height":"200px"}},null,8,Jv),[[p,i.features]])])])]),_:2},1032,["modelValue","onUpdate:modelValue","title","modal-class"])]))),128)),e("button",{class:"btn btn-primary btn-sm",onClick:o[0]||(o[0]=i=>t.addPet())},"Add New"),e("button",{class:"btn btn-primary btn-sm",onClick:o[1]||(o[1]=i=>t.importPetModal=!0)},"Import Creature"),y(n,{modelValue:t.importPetModal,"onUpdate:modelValue":o[3]||(o[3]=i=>t.importPetModal=i),title:"Import Creature as Pet","modal-class":t.userinfo.themesetting,"hide-footer":"",size:"lg"},{default:C(()=>[r(e("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=i=>t.creaturefilter=i),class:"charsheet-text"},null,512),[[p,t.creaturefilter]]),u(" Search "),e("div",Zv,[y(s,{"show-empty":"",id:"creaturetable",striped:!0,bordered:!1,responsive:!0,stacked:"sm",items:t.filteredcreatures,fields:t.creaturestable.fields,"sort-by":t.creaturestable.sortBy,"sort-desc":t.creaturestable.sortDesc},{"cell(name)":C(i=>[e("span",null,[e("a",{href:"#",onClick:B(h=>t.importPet(i.item,i.index,h.target),["stop"])},d(i.value),9,xv)])]),_:1},8,["items","fields","sort-by","sort-desc"])])]),_:1},8,["modelValue","modal-class"])])}const tb=M(ev,[["render",eb]]);function le(){this.custom=!0,this.name="",this.stat=0,this.prof=0,this.magic=0}const ob={setup(){const t=D(),o=L(),{character:c,getSkillMod:m}=S(t),{addProficiency:f,removeProficiency:k}=t;return{userinfo:o,character:c,getSkillMod:m,addProficiency:f,removeProficiency:k}},data:function(){return{newProfModal:!1,newProf:new le}},methods:{addProf(t){this.addProficiency(t),this.newProf=new le},notRawCheck(t){return!(t.name==="Strength"||t.name==="Dexterity"||t.name==="Constitution"||t.name==="Intelligence"||t.name==="Wisdom"||t.name==="Charisma")},highlightProf(t){if(t==.5)return"half";if(t==1)return"prof";if(t==2)return"expert"},rollCheck(t){let o=I.roll("1d20").total,c=I.roll("1d20").total;alert("Base Roll: "+(o+t)+" ("+o+" + "+t+`)
Adv/Dis Roll: `+(c+t)+" ("+c+" + "+t+")")}}},sb={class:"abilitytable"},nb=e("thead",null,[e("tr",null,[e("th",null,"Skill"),e("th",null,"Prof?"),e("th",null,"Mod"),e("th",null,"Magic")])],-1),lb=["onClick"],ab=["onUpdate:modelValue"],ib=e("option",{value:0},"No",-1),rb=["value"],db={key:0,value:1},ub={key:1,value:2},cb=["onClick"],hb={key:0},pb=["onUpdate:modelValue"],mb={class:"print-hide"},vb={colspan:"4"},bb={class:"charsheet-static"},$b=e("h5",null,"Proficiencies and Languages",-1),yb={style:{"font-size":"9px","margin-bottom":"2px"}},fb=e("strong",null,"Background Proficiencies: ",-1),gb={key:0},_b={style:{"font-size":"9px","margin-bottom":"2px"}},kb=e("strong",null,"Class Skills: ",-1),wb={style:{"font-size":"9px","margin-bottom":"2px"}},Cb=e("strong",null,"Armor: ",-1),Vb={style:{"font-size":"9px","margin-bottom":"2px"}},Ub=e("strong",null,"Weapons: ",-1),Sb={style:{"font-size":"9px","margin-bottom":"2px"}},Ab=e("strong",null,"Tools: ",-1),Mb={style:{"font-size":"9px","margin-bottom":"2px"}},Db=e("strong",null,"Saves: ",-1),Rb=e("label",null,"Name",-1),Tb=e("label",null,"Ability",-1),Pb=e("option",{value:0},"Strength",-1),Ib=e("option",{value:1},"Dexterity",-1),Lb=e("option",{value:2},"Constitution",-1),Nb=e("option",{value:3},"Intelligence",-1),Bb=e("option",{value:4},"Wisdom",-1),Eb=e("option",{value:5},"Charisma",-1),qb=[Pb,Ib,Lb,Nb,Bb,Eb];function Hb(t,o,c,m,f,k){const n=V("b-modal");return l(),a("div",null,[e("table",sb,[nb,e("tbody",null,[(l(!0),a(g,null,_(t.character.skills,s=>(l(),a("tr",{key:s.name,class:R(t.highlightProf(s.prof))},[e("th",null,[u(d(s.name),1),s.custom?(l(),a("button",{key:0,class:"btn btn-danger print-hide btn-sm",onClick:i=>t.removeProficiency(s)},"-",8,lb)):b("",!0)]),e("td",null,[r(e("select",{"onUpdate:modelValue":i=>s.prof=i,class:"charsheet-num"},[ib,e("option",{value:.5},"Half",8,rb),t.notRawCheck(s)?(l(),a("option",db,"Yes")):b("",!0),t.notRawCheck(s)?(l(),a("option",ub,"Exp")):b("",!0)],8,ab),[[w,s.prof]])]),e("td",null,[e("button",{onClick:i=>t.rollCheck(t.getSkillMod(s))},[t.getSkillMod(s)>-1?(l(),a("span",hb,"+")):b("",!0),u(d(t.getSkillMod(s)),1)],8,cb)]),e("td",null,[r(e("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":i=>s.magic=i},null,8,pb),[[p,s.magic]])])],2))),128)),e("tr",mb,[e("th",vb,[e("button",{class:"btn btn-primary btn-sm",onClick:o[0]||(o[0]=s=>t.newProfModal=!0)},"+")])])])]),e("div",bb,[$b,e("p",yb,[fb,u(" "+d([t.character.background.skills.join(", "),t.character.background.tools.join(", ")].join(", "))+" and "+d(t.character.background.languages)+" bonus language",1),t.character.background.languages!==1?(l(),a("span",gb,"s")):b("",!0)]),e("p",_b,[kb,u(" pick "+d(t.character.charclasses[0].thisclass.proficiencies.numskills)+" skills of your choice",1)]),e("p",wb,[Cb,u(d(t.character.charclasses[0].thisclass.proficiencies.armor.join(", ")),1)]),e("p",Vb,[Ub,u(d(t.character.charclasses[0].thisclass.proficiencies.weapons.join(", ")),1)]),e("p",Sb,[Ab,u(d(t.character.charclasses[0].thisclass.proficiencies.tools.join(", ")),1)]),e("p",Mb,[Db,u(d(t.character.charclasses[0].thisclass.proficiencies["saving throws"].join(", ")),1)]),r(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.character.proficiencies=s),class:"charsheet-textarea smalltext",id:"profbox"},null,512),[[p,t.character.proficiencies]])]),y(n,{modelValue:t.newProfModal,"onUpdate:modelValue":o[4]||(o[4]=s=>t.newProfModal=s),"modal-class":t.userinfo.themesetting,onOk:o[5]||(o[5]=s=>t.addProf(t.newProf)),title:"Add Custom Skill"},{default:C(()=>[Rb,r(e("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[2]||(o[2]=s=>t.newProf.name=s)},null,512),[[p,t.newProf.name]]),Tb,r(e("select",{"onUpdate:modelValue":o[3]||(o[3]=s=>t.newProf.stat=s),class:"charsheet-text"},qb,512),[[w,t.newProf.stat]])]),_:1},8,["modelValue","modal-class"])])}const Wb=M(ob,[["render",Hb]]),Fb={setup(){const t=D(),o=W(),c=L(),{character:m,getAttBonus:f,getSaveDC:k,getSlots:n,warlockSlots:s,warlockSlotLevel:i,totalslots:h,getTotalPrepared:v,cantripsKnown:$}=S(t),{spellsv2:U}=S(o),{castSpell:N}=t;return{marked:ie,character:m,getAttBonus:f,getSaveDC:k,slots:n,warlockSlots:s,warlockSlotLevel:i,totalslots:h,numprepared:v,cantrips:$,spells:U,castSpell:N,userinfo:c}},computed:{cantripspicked:function(){return this.character.spells.cantrip.length},filteredspells(){var t=this.spellfilter.split(" ");return this.spellfilter===""?this.spells.filter(o=>{var c=o.tags.some(m=>this.classfilter==="all"?!0:this.classfilter===m);return!!(c&&this.levelfilter==="all"||c&&o.level===this.levelfilter)}):this.levelfilter==="nonsense"?this.levelfilter:this.spells.filter(o=>{var c=!1,m=[];return t.forEach(f=>{for(var k in o)if(typeof o[k]=="string"&&o[k].toLowerCase().includes(f)){m.push(!0);break}if(m.length>=t.length){var n=o.tags.some(s=>this.classfilter==="all"?!0:this.classfilter===s);(n&&this.levelfilter==="all"||n&&o.level===this.levelfilter)&&(c=!0)}}),c})}},data(){return{preparedonly:!1,classfilter:"all",levelfilter:"all",spellfilter:"",selspell:{},selspellclass:"",spellModal:!1,spellDetailModal:!1,detailspell:{level:"cantrip",description:"",tags:[]},displayLevel:"cantrip"}},methods:{spellDetail(t){this.detailspell=t,this.spellDetailModal=!0},addSpell(t){let o="";if(t){t.class=this.selspellclass,t.level!=="cantrip"?o="level"+t.level:o=t.level;var c=this.character.spells[o].includes(t);c||(t.castLevel=t.level,this.character.spells[o].push(t)),this.spellModal=!1}},removeSpell(t){confirm("Are you sure you want to delete "+t.title+" from your spellbook?")&&this.character.spells[this.displayLevel].splice(this.character.spells[this.displayLevel].indexOf(t),1)},sortSpells(t){var o=t.slice(0);return o.sort((c,m)=>c.title>m.title?1:m.title>c.title?-1:0),o.filter(c=>!!(c.prepared&&this.preparedonly||!this.preparedonly||this.displayLevel==="cantrip"))}}},jb={class:"charsheet-static"},zb=e("h5",null,"Spells",-1),Ob={class:"btn-group print-hide smalltext"},Gb={class:"smalltext print-hide"},Xb=e("br",null,null,-1),Yb={class:"table table-sm smalltext"},Kb=e("th",null,"Class",-1),Qb=e("th",null,"Save DC",-1),Jb=e("th",null,"Attack Bonus",-1),Zb={class:"print-hide"},xb=e("br",null,null,-1),e$={key:0},t$={class:"smalltext print-hide"},o$={class:"table table-sm"},s$=e("thead",null,[e("tr",null,[e("th",null,"Spell"),e("th",null,"Casting Time"),e("th",null,"Duration"),e("th",null,"Class"),e("th",{colspan:"2"},"-")])],-1),n$=["onUpdate:modelValue"],l$=["onClick"],a$={key:0},i$=["onClick"],r$=["onUpdate:modelValue"],d$={key:0,value:"warlock"},u$=["onClick"],c$={class:"smalltext screen-hide"},h$={class:"table table-sm"},p$=e("thead",null,[e("tr",null,[e("th",null,"Spell"),e("th",null,"Casting Time"),e("th",null,"Duration")])],-1),m$=e("tr",null,[e("td",{colspan:"2"},"Cantrips"),e("td")],-1),v$=["onUpdate:modelValue"],b$=["onClick"],$$=e("td",{colspan:"2"},"Level 1",-1),y$=["onUpdate:modelValue"],f$=["onClick"],g$=e("td",{colspan:"2"},"Level 2",-1),_$=["onUpdate:modelValue"],k$=["onClick"],w$=e("td",{colspan:"2"},"Level 3",-1),C$=["onUpdate:modelValue"],V$=["onClick"],U$=e("td",{colspan:"2"},"Level 4",-1),S$={colspan:"2"},A$=["onUpdate:modelValue"],M$=["onClick"],D$=e("td",{colspan:"2"},"Level 5",-1),R$=["onUpdate:modelValue"],T$=["onClick"],P$=e("td",{colspan:"2"},"Level 6",-1),I$=["onUpdate:modelValue"],L$=["onClick"],N$=e("td",{colspan:"2"},"Level 7",-1),B$=["onUpdate:modelValue"],E$=["onClick"],q$=e("td",{colspan:"2"},"Level 8",-1),H$=["onUpdate:modelValue"],W$=["onClick"],F$=e("td",{colspan:"2"},"Level 9",-1),j$=["onUpdate:modelValue"],z$=["onClick"],O$=e("h4",null,"Cast Log",-1),G$=e("option",{value:"all",selected:""},"All",-1),X$=e("option",{value:"cantrip"},"Cantrips",-1),Y$=e("option",{value:"1"},"1",-1),K$=e("option",{value:"2"},"2",-1),Q$=e("option",{value:"3"},"3",-1),J$=e("option",{value:"4"},"4",-1),Z$=e("option",{value:"5"},"5",-1),x$=e("option",{value:"6"},"6",-1),ey=e("option",{value:"7"},"7",-1),ty=e("option",{value:"8"},"8",-1),oy=e("option",{value:"9"},"9",-1),sy=[G$,X$,Y$,K$,Q$,J$,Z$,x$,ey,ty,oy],ny=e("option",{value:"all"},"All",-1),ly=e("option",{value:"archivist"},"Archivist",-1),ay=e("option",{value:"artificer"},"Artificer",-1),iy=e("option",{value:"bard"},"Bard",-1),ry=e("option",{value:"cleric"},"Cleric",-1),dy=e("option",{value:"druid"},"Druid",-1),uy=e("option",{value:"eldritchknight"},"Fighter (Eldritch Knight)",-1),cy=e("option",{value:"paladin"},"Paladin",-1),hy=e("option",{value:"ranger"},"Ranger",-1),py=e("option",{value:"sorcerer"},"Sorcerer",-1),my=e("option",{value:"warlock"},"Warlock",-1),vy=e("option",{value:"wizard"},"Wizard",-1),by=[ny,ly,ay,iy,ry,dy,uy,cy,hy,py,my,vy],$y=e("option",{value:"race"},"Race",-1),yy=["value"],fy={class:"table table-sm",id:"spellList"},gy=e("thead",{style:{float:"left",width:"100%",display:"table"}},[e("tr",null,[e("th",null,"-"),e("th",null,"Spell"),e("th",null,"Level")])],-1),_y={style:{"overflow-y":"scroll","max-height":"300px",float:"left",width:"100%"}},ky=["value"],wy=["onClick"],Cy={key:0},Vy={key:0},Uy=e("strong",null,"Casting Time: ",-1),Sy=e("strong",null,"Range: ",-1),Ay=e("strong",null,"Components: ",-1),My=e("strong",null,"Duration: ",-1),Dy=e("strong",null,"Tags: ",-1),Ry=["innerHTML"];function Ty(t,o,c,m,f,k){const n=V("b-modal");return l(),a("div",jb,[zb,e("div",Ob,[e("button",{class:"btn btn-sm btn-primary",onClick:o[0]||(o[0]=s=>t.displayLevel="cantrip")},"cantrip"),e("button",{class:"btn btn-sm btn-primary",onClick:o[1]||(o[1]=s=>t.displayLevel="level1")},"1"),e("button",{class:"btn btn-sm btn-primary",onClick:o[2]||(o[2]=s=>t.displayLevel="level2")},"2"),e("button",{class:"btn btn-sm btn-primary",onClick:o[3]||(o[3]=s=>t.displayLevel="level3")},"3"),e("button",{class:"btn btn-sm btn-primary",onClick:o[4]||(o[4]=s=>t.displayLevel="level4")},"4"),e("button",{class:"btn btn-sm btn-primary",onClick:o[5]||(o[5]=s=>t.displayLevel="level5")},"5"),e("button",{class:"btn btn-sm btn-primary",onClick:o[6]||(o[6]=s=>t.displayLevel="level6")},"6"),e("button",{class:"btn btn-sm btn-primary",onClick:o[7]||(o[7]=s=>t.displayLevel="level7")},"7"),e("button",{class:"btn btn-sm btn-primary",onClick:o[8]||(o[8]=s=>t.displayLevel="level8")},"8"),e("button",{class:"btn btn-sm btn-primary",onClick:o[9]||(o[9]=s=>t.displayLevel="level9")},"9")]),e("span",Gb,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[10]||(o[10]=s=>t.preparedonly=s)},null,512),[[A,t.preparedonly]]),u("Prepared Only")]),Xb,e("table",Yb,[e("tr",null,[Kb,(l(!0),a(g,null,_(t.character.charclasses,s=>(l(),a("th",{key:s.thisclass.name},d(s.thisclass.name),1))),128))]),e("tr",null,[Qb,(l(!0),a(g,null,_(t.character.charclasses,s=>(l(),a("td",{key:s.thisclass.name},d(t.getSaveDC(s.savedcstat)),1))),128))]),e("tr",null,[Jb,(l(!0),a(g,null,_(t.character.charclasses,s=>(l(),a("td",{key:s.thisclass.name},"+"+d(t.getAttBonus(s.savedcstat)),1))),128))])]),e("span",Zb,[u(d(t.displayLevel)+" slots: ",1),r(e("input",{type:"number","onUpdate:modelValue":o[11]||(o[11]=s=>t.character.availableslots[t.displayLevel]=s),class:"charsheet-num"},null,512),[[p,t.character.availableslots[t.displayLevel]]]),u(" / "+d(t.totalslots(t.displayLevel)),1)]),xb,t.warlockSlots>0?(l(),a("span",e$,[u("Warlock Slots: "),r(e("input",{type:"number","onUpdate:modelValue":o[12]||(o[12]=s=>t.character.warlockslotsavailable=s),class:"charsheet-num"},null,512),[[p,t.character.warlockslotsavailable]]),u(" / "+d(t.warlockSlots)+" level "+d(t.warlockSlotLevel)+" slots",1)])):b("",!0),e("div",null,[u(" Number Prepared: "),(l(!0),a(g,null,_(t.numprepared,s=>(l(),a("div",{key:s.classname},d(s.classname)+": "+d(s.numprepped)+" / "+d(s.maxprepped),1))),128)),u(" Cantrips Known: "+d(t.cantripspicked)+" / "+d(t.cantrips),1)]),e("div",t$,[e("table",o$,[s$,e("tbody",null,[(l(!0),a(g,null,_(t.sortSpells(t.character.spells[t.displayLevel]),s=>(l(),a("tr",{key:s.title},[e("td",null,[t.displayLevel!=="cantrip"?r((l(),a("input",{key:0,type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,n$)),[[A,s.prepared]]):b("",!0),e("span",{class:"clickable",onClick:i=>t.spellDetail(s)},[u(d(s.title),1),s.ritual?(l(),a("span",a$," (ritual)")):b("",!0)],8,l$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1),e("td",null,d(s.class),1),e("td",null,[e("button",{type:"button",class:"btn btn-sm btn-primary print-hide",onClick:i=>t.castSpell(s)},"Cast",8,i$),s.level!=="cantrip"?r((l(),a("select",{key:0,"onUpdate:modelValue":i=>s.castLevel=i},[e("option",null,d(Number(s.level)),1),(l(!0),a(g,null,_(9-s.level,i=>(l(),a("option",{key:i},d(Number(i)+Number(s.level)),1))),128)),t.warlockSlotLevel>=s.level?(l(),a("option",d$,"warlock")):b("",!0)],8,r$)),[[w,s.castLevel]]):b("",!0)]),e("td",null,[e("button",{type:"button",class:"btn btn-sm btn-danger print-hide",onClick:i=>t.removeSpell(s)},"X",8,u$)])]))),128))])])]),e("div",c$,[e("table",h$,[p$,e("tbody",null,[m$,(l(!0),a(g,null,_(t.character.spells.cantrip,s=>(l(),a("tr",{key:s.title},[e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,v$),[[A,s.prepared]]),e("a",{href:"#",onClick:i=>t.spellDetail(s)},d(s.title),9,b$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1)]))),128)),e("tr",null,[$$,e("td",null,d(t.totalslots("level1"))+" Slots",1)]),(l(!0),a(g,null,_(t.character.spells.level1,s=>(l(),a("tr",{key:s.title},[e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,y$),[[A,s.prepared]]),e("a",{href:"#",onClick:i=>t.spellDetail(s)},d(s.title),9,f$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1)]))),128)),e("tr",null,[g$,e("td",null,d(t.totalslots("level2"))+" Slots",1)]),(l(!0),a(g,null,_(t.character.spells.level2,s=>(l(),a("tr",{key:s.title},[e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,_$),[[A,s.prepared]]),e("a",{href:"#",onClick:i=>t.spellDetail(s)},d(s.title),9,k$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1)]))),128)),e("tr",null,[w$,e("td",null,d(t.totalslots("level3"))+" Slots",1)]),(l(!0),a(g,null,_(t.character.spells.level3,s=>(l(),a("tr",{key:s.title},[e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,C$),[[A,s.prepared]]),e("a",{href:"#",onClick:i=>t.spellDetail(s)},d(s.title),9,V$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1),e("td",null,[e("button",{type:"button",class:"btn btn-sm btn-danger print-hide",onClick:o[13]||(o[13]=i=>t.removeSpell(t.index))},"X")])]))),128)),e("tr",null,[U$,e("td",S$,d(t.totalslots("level4"))+" Slots",1)]),(l(!0),a(g,null,_(t.character.spells.level4,s=>(l(),a("tr",{key:s.title},[e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,A$),[[A,s.prepared]]),e("a",{href:"#",onClick:i=>t.spellDetail(s)},d(s.title),9,M$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1)]))),128)),e("tr",null,[D$,e("td",null,d(t.totalslots("level5"))+" Slots",1)]),(l(!0),a(g,null,_(t.character.spells.level5,s=>(l(),a("tr",{key:s.title},[e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,R$),[[A,s.prepared]]),e("a",{href:"#",onClick:i=>t.spellDetail(s)},d(s.title),9,T$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1)]))),128)),e("tr",null,[P$,e("td",null,d(t.totalslots("level6"))+" Slots",1)]),(l(!0),a(g,null,_(t.character.spells.level6,s=>(l(),a("tr",{key:s.title},[e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,I$),[[A,s.prepared]]),e("a",{href:"#",onClick:i=>t.spellDetail(s)},d(s.title),9,L$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1)]))),128)),e("tr",null,[N$,e("td",null,d(t.totalslots("level7"))+" Slots",1)]),(l(!0),a(g,null,_(t.character.spells.level7,s=>(l(),a("tr",{key:s.title},[e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,B$),[[A,s.prepared]]),e("a",{href:"#",onClick:i=>t.spellDetail(s)},d(s.title),9,E$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1)]))),128)),e("tr",null,[q$,e("td",null,d(t.totalslots("level8"))+" Slots",1)]),(l(!0),a(g,null,_(t.character.spells.level8,s=>(l(),a("tr",{key:s.title},[e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,H$),[[A,s.prepared]]),e("a",{href:"#",onClick:i=>t.spellDetail(s)},d(s.title),9,W$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1)]))),128)),e("tr",null,[F$,e("td",null,d(t.totalslots("level9"))+" Slots",1)]),(l(!0),a(g,null,_(t.character.spells.level9,s=>(l(),a("tr",{key:s.title},[e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,j$),[[A,s.prepared]]),e("a",{href:"#",onClick:i=>t.spellDetail(s)},d(s.title),9,z$)]),e("td",null,d(s.castingTime),1),e("td",null,d(s.duration),1)]))),128))])])]),e("button",{type:"button",onClick:o[14]||(o[14]=s=>t.spellModal=!0),class:"btn btn-sm btn-primary print-hide"},"+"),O$,(l(!0),a(g,null,_(t.character.castlog,(s,i)=>(l(),a("div",{class:"smalltext",key:i},d(s.title)+" "+d(s.level),1))),128)),y(n,{modelValue:t.spellModal,"onUpdate:modelValue":o[20]||(o[20]=s=>t.spellModal=s),title:"Add Spell",class:R(["modal-lg",t.userinfo.darkmode]),onOk:o[21]||(o[21]=s=>t.addSpell(t.selspell))},{default:C(()=>[u(" Filter by Text "),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=s=>t.spellfilter=s)},null,512),[[p,t.spellfilter]]),u(" Filter by Level "),r(e("select",{"onUpdate:modelValue":o[16]||(o[16]=s=>t.levelfilter=s),class:"form-control"},sy,512),[[w,t.levelfilter]]),u(" Filter by Class "),r(e("select",{"onUpdate:modelValue":o[17]||(o[17]=s=>t.classfilter=s),class:"form-control"},by,512),[[w,t.classfilter]]),u(" Spell Added By Class: "),r(e("select",{"onUpdate:modelValue":o[18]||(o[18]=s=>t.selspellclass=s),class:"form-control",required:""},[$y,(l(!0),a(g,null,_(t.character.charclasses,s=>(l(),a("option",{value:s.thisclass.name,key:s.thisclass.name},d(s.thisclass.name),9,yy))),128))],512),[[w,t.selspellclass]]),e("table",fy,[gy,e("tbody",_y,[(l(!0),a(g,null,_(t.filteredspells,s=>(l(),a("tr",{key:s.title,style:{float:"left",width:"100%",display:"table"}},[e("td",null,[r(e("input",{type:"radio",name:"selspell",value:s,"onUpdate:modelValue":o[19]||(o[19]=i=>t.selspell=i),required:""},null,8,ky),[[fe,t.selspell]])]),e("td",null,[e("span",{class:"clickable",onClick:i=>t.spellDetail(s)},d(s.title),9,wy)]),e("td",null,d(s.level),1)]))),128))])])]),_:1},8,["modelValue","class"]),y(n,{modelValue:t.spellDetailModal,"onUpdate:modelValue":o[22]||(o[22]=s=>t.spellDetailModal=s),onOk:o[23]||(o[23]=s=>t.spellDetailModal=!1),id:"spellmodal",size:"lg",title:t.detailspell.title,class:R(t.userinfo.darkmode)},{default:C(()=>[e("h4",null,[e("strong",null,[u(d(t.detailspell.school)+" ",1),t.detailspell.level!=="cantrip"?(l(),a("span",Cy,"level ")):b("",!0),u(d(t.detailspell.level.toString()),1)]),t.detailspell.ritual?(l(),a("span",Vy," Ritual")):b("",!0),u(" ("+d(t.detailspell.source)+") ",1)]),e("p",null,[Uy,u(d(t.detailspell.castingTime),1)]),e("p",null,[Sy,u(d(t.detailspell.range),1)]),e("p",null,[Ay,u(d(t.detailspell.components),1)]),e("p",null,[My,u(d(t.detailspell.duration),1)]),e("p",null,[Dy,u(" "+d(t.detailspell.tags.join(", ")),1)]),e("div",{innerHTML:t.marked.parse(t.detailspell.description)},null,8,Ry)]),_:1},8,["modelValue","title","class"])])}const Py=M(Fb,[["render",Ty]]),Iy={setup(){const t=D(),{character:o,pointbuy:c}=S(t),m=t.rollStats;return{characters:t,character:o,rollStats:m,pointbuy:c}}},Ly={class:"row"},Ny={class:"col"},By={class:"abilitytable"},Ey=e("thead",null,[e("tr",null,[e("th",null,"Stat"),e("th",null,"STR"),e("th",null,"DEX"),e("th",null,"CON"),e("th",null,"INT"),e("th",null,"WIS"),e("th",null,"CHA")])],-1),qy=e("th",null,"Base",-1),Hy=e("th",null,"Adjustment",-1),Wy=e("th",null,"Bonus",-1),Fy=e("th",null,"Save",-1),jy=e("th",null,"Save Bonus",-1),zy=e("br",null,null,-1);function Oy(t,o,c,m,f,k){return l(),a("div",Ly,[e("div",Ny,[e("table",By,[Ey,e("tbody",null,[e("tr",null,[qy,e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[0]||(o[0]=n=>t.character.stats[0]=n),class:"charsheet-num"},null,512),[[p,t.character.stats[0]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=n=>t.character.stats[1]=n),class:"charsheet-num"},null,512),[[p,t.character.stats[1]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[2]||(o[2]=n=>t.character.stats[2]=n),class:"charsheet-num"},null,512),[[p,t.character.stats[2]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=n=>t.character.stats[3]=n),class:"charsheet-num"},null,512),[[p,t.character.stats[3]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=n=>t.character.stats[4]=n),class:"charsheet-num"},null,512),[[p,t.character.stats[4]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=n=>t.character.stats[5]=n),class:"charsheet-num"},null,512),[[p,t.character.stats[5]]])])]),e("tr",null,[Hy,e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=n=>t.character.statadjust[0]=n),class:"charsheet-num"},null,512),[[p,t.character.statadjust[0]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=n=>t.character.statadjust[1]=n),class:"charsheet-num"},null,512),[[p,t.character.statadjust[1]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=n=>t.character.statadjust[2]=n),class:"charsheet-num"},null,512),[[p,t.character.statadjust[2]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[9]||(o[9]=n=>t.character.statadjust[3]=n),class:"charsheet-num"},null,512),[[p,t.character.statadjust[3]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[10]||(o[10]=n=>t.character.statadjust[4]=n),class:"charsheet-num"},null,512),[[p,t.character.statadjust[4]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[11]||(o[11]=n=>t.character.statadjust[5]=n),class:"charsheet-num"},null,512),[[p,t.character.statadjust[5]]])])]),e("tr",null,[Wy,e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[12]||(o[12]=n=>t.character.statbonus[0]=n),class:"charsheet-num"},null,512),[[p,t.character.statbonus[0]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[13]||(o[13]=n=>t.character.statbonus[1]=n),class:"charsheet-num"},null,512),[[p,t.character.statbonus[1]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[14]||(o[14]=n=>t.character.statbonus[2]=n),class:"charsheet-num"},null,512),[[p,t.character.statbonus[2]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[15]||(o[15]=n=>t.character.statbonus[3]=n),class:"charsheet-num"},null,512),[[p,t.character.statbonus[3]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[16]||(o[16]=n=>t.character.statbonus[4]=n),class:"charsheet-num"},null,512),[[p,t.character.statbonus[4]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[17]||(o[17]=n=>t.character.statbonus[5]=n),class:"charsheet-num"},null,512),[[p,t.character.statbonus[5]]])])]),e("tr",null,[Fy,e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[18]||(o[18]=n=>t.character.saves[0]=n)},null,512),[[A,t.character.saves[0]]])]),e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[19]||(o[19]=n=>t.character.saves[1]=n)},null,512),[[A,t.character.saves[1]]])]),e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[20]||(o[20]=n=>t.character.saves[2]=n)},null,512),[[A,t.character.saves[2]]])]),e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[21]||(o[21]=n=>t.character.saves[3]=n)},null,512),[[A,t.character.saves[3]]])]),e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[22]||(o[22]=n=>t.character.saves[4]=n)},null,512),[[A,t.character.saves[4]]])]),e("td",null,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[23]||(o[23]=n=>t.character.saves[5]=n)},null,512),[[A,t.character.saves[5]]])])]),e("tr",null,[jy,e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[24]||(o[24]=n=>t.character.savebonus[0]=n),class:"charsheet-num"},null,512),[[p,t.character.savebonus[0]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[25]||(o[25]=n=>t.character.savebonus[1]=n),class:"charsheet-num"},null,512),[[p,t.character.savebonus[1]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[26]||(o[26]=n=>t.character.savebonus[2]=n),class:"charsheet-num"},null,512),[[p,t.character.savebonus[2]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[27]||(o[27]=n=>t.character.savebonus[3]=n),class:"charsheet-num"},null,512),[[p,t.character.savebonus[3]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[28]||(o[28]=n=>t.character.savebonus[4]=n),class:"charsheet-num"},null,512),[[p,t.character.savebonus[4]]])]),e("td",null,[r(e("input",{type:"number","onUpdate:modelValue":o[29]||(o[29]=n=>t.character.savebonus[5]=n),class:"charsheet-num"},null,512),[[p,t.character.savebonus[5]]])])])])]),u(" Point Buy Total: "+d(t.pointbuy),1),zy,u(" Stat Rolls: "),(l(!0),a(g,null,_(t.characters.statRolls,(n,s)=>(l(),a("span",{key:s},d(n)+"\xA0",1))),128)),e("input",{type:"button",onClick:o[30]||(o[30]=n=>t.rollStats()),value:"Roll!"})])])}const Gy=M(Iy,[["render",Oy]]),Xy={setup(){const t=W(),o=ge(),c=L();t.getAllNew();const{character:m,pointbuy:f,mobile:k,hitdicechanged:n,message:s}=S(o),i=o.rollStats;return _e({title:"Character Builder"}),{statics:t,characters:o,character:m,userinfo:c,rollStats:i,pointbuy:f,mobile:k,hitdicechanged:n,message:s}},components:{abilityscores:ct,actions:re,appearance:Lo,attacks:de,bonus:ia,buildclass:Aa,campaigninfo:Na,characterheader:oi,combat:ue,combathud:gu,equipment:kc,features:yh,fluff:pp,gamenotes:Jp,hitpoints:ce,initiative:nm,loadsave:Tm,loadsavemodals:Wm,otherrolls:x1,pets:tb,resources:he,skills:Wb,spells:Py,statbuilder:Gy},data(){return{buildHide:!1,startGuide:!0,newgroup:""}},filters:{date(t){var o=new Date(t);return o.toLocaleString()}},methods:{log(t){console.log(t)}},mounted(){this.$route.params.id&&this.characters.getOneFromServer(this.$route.params.id)}},Yy={class:"container charbuilder"},Ky={key:0,class:"alert alert-danger"},Qy={class:"row desktop"},Jy={class:"print-hide col-sm-12"},Zy={class:"row print-hide"},xy={class:"col"},ef={key:0},tf={key:1},of={class:"row"},sf={class:"col-7"},nf={class:"row"},lf={class:"col-7"},af={class:"col-5"},rf={class:"col-5"},df={class:"row"},uf={class:"col"},cf=e("div",{style:{"page-break-after":"always"}},"\xA0",-1),hf={class:"row"},pf={class:"col-12"},mf={class:"row"},vf={class:"col-12"},bf={class:"row"},$f={class:"col-12"},yf={class:"row"},ff={class:"col"},gf=e("div",{style:{"page-break-after":"always"}},"\xA0",-1),_f={class:"row"},kf={class:"col-12"},wf={class:"row"},Cf={class:"col-12"},Vf={class:"row"},Uf={class:"col-12"},Sf={class:"row"},Af={class:"col-12"},Mf={key:0,class:"col-4 print-hide"},Df=e("h2",null,"Build",-1),Rf={class:"mobile"},Tf={class:"row"},Pf={class:"col"},If={class:"row"},Lf={class:"col-12"},Nf=e("div",null,[e("p",null," Welcome to the Elthelas Character Builder. To get started building your character follow the instructions below. "),e("ol",null,[e("li",null,[e("strong",null,"Name Your Character"),e("p",null," Naming your character is the only prerequisite to saving your character. I recommend saving your character early and often. ")]),e("li",null,[e("strong",null,"Make an Initial Save, and then Load It"),e("p",null," If you are logged in to the Elthelas website, you can use the 'Save New' button on the top right to save your character to the server, otherwise you can save it to a file. Also if you are logged in you can check the autosave box. I strongly recommend doing this to make sure you never lose your changes by accidentally navigating away from the page or if the app refreshes for any reason. Once you have saved your character, hit the load button next to the save button and select your character. You have now established an ID for your character in the database and can share a link with your DM so they can view your character sheet. (the link is found in the bottom right of the page titled 'Campaign Information', or in mobile the tab 'Campaign') ")]),e("li",null,[e("strong",null,"Choose a Class"),e("p",null," On a mobile device, you will do this using the dropdowns right under 'home town' on the 'basics' tab. On a tablet or desktop you will do this in the 'build' section on the top right. Select your base class, subclass (even if you don't get any features from it yet), level, and casting/primary stat. If you don't know your classes primary stat, check the players handbook Quick Build section for your class, it will be the ability score that they tell you to put your highest score into. If you are multiclassing, select the '+' button underneath your first class and fill in the additional row it creates with your second classes information. ")]),e("li",null,[e("strong",null,"Choose a Race"),e("p",null," This is also on the basics page. Remember that if your race has ability score improvements that you get to choose you will have to modify the 'race' line of the ability scores table yourself to add those in. Note that when you do so, your racial abilities appear automatically in features. If you have race based spells or resistances feel free to enter them in the appropriate areas now. ")]),e("li",null,[e("strong",null,"Determine Ability Scores"),e("p",null," Talk to your DM about the method for determining your ability scores. You can use the ability score table in the build section (or the 'Stats' section in mobile) to enter your rolls or calculate the point buy. Use the 'Base' row in the table to enter these. If you need to modify your racial bonuses, do that in the 'Racial' row of the table. Meanwhile if you need to enter modifiers due to Ability Score Increases or magic modifiers to ability scores enter them in the 'Bonus' row. The system will automatically total these numbers to give you your actual ability scores. ")]),e("li",null,[e("strong",null,"Describe your Character"),e("p",null," Choose a background from the dropdown that is appropriate for your character. Fill in backstory, home country, home town, appearance details, and any other non-mechanical information in the appropriate places. ")]),e("li",null,[e("strong",null,"Picking Spells"),e("p",null," With your ability scores, class, and level determined you can move to picking your spells. The system makes it's best guess using what it knows about how many spells you can prepare (if a preparing class) or have known (if a spells known class) at the top of the spells section. You can do a full text search, filter by spell level, and filter by class spell lists. When you select a spell be sure to fill in the 'Spell Added By Class' dropdown (otherwise it will not properly count against your number prepared/known). Then, in the spell list itself, hit the check mark next to each spell to prepare it or properly mark it as known. To browse through your spells you can select a spell level at the top of the spell section. Clicking on a spell will open its full spell description in a modal. ")]),e("li",null,[e("strong",null,"Picking Equipment"),e("p",null,' In the equipment section things are managed as items within containers. If you select an armor item it will be automatically added to the "Armor" section as well. To then equip that armor select the checkbox. ')]),e("li",null,[e("strong",null,"Armor"),e("p",null,"If you added your armor in the equipment section it will appear here automatically. However you can also add things like magical effect based armor modifiers here. Three examples below:"),e("ul",null,[e("li",null,'Mage Armor: The mage armor spell acts like Light Armor (uses your full dex bonus, is a AC formula), so select Light Armor from the "Type" dropdown. In the AC enter the base AC exactly as it appears in the description of the spell. In the case of Mage Armor this would be 13. Enter Mage Armor in the name field, and then hit OK. You should see it in the Armor list now. The AC listed in the list may not match what you entered, this is because it is automatically adding any appropriate modifiers from your dexterity.'),e("li",null,'Shield Spell: The shield spell acts like a physical shield, granting a static, stacking AC bonus. Therefore select "Shield" from the Type dropdown. Then enter the AC bonus exactly as it appears in the spell description, in this case 5.'),e("li",null,"Monk Unarmored Defense: A monks unarmored defense is an 'unarmored bonus'. A new formula for AC that involves an ability score other than just dexterity. To calculate this select the 'Unarmored Bonus' option from the 'Type' dropdown. A new field will appear, 'Unarmored Bonus Stat'. Because a monks unarmored defense uses wisdom select that from the dropdown. In this case the 'AC' field would be used for any additional static bonus, in this case you can leave it at 0.")])]),e("li",null,[e("strong",null,"Skills and Proficiencies"),e("p",null," The Character builder can automatically calculate skill bonuses if you select the appropriate proficiency level from the dropdown for each skill. For each skill there are 4 options, 'No', 'Yes', 'Half', and 'Exp'. If you are not proficient in a skill, leave it at 'No'. If you have a normal proficiency in a skill, select 'Yes'. The other 2 are special cases. If you have an ability that allows you to add double your proficiency bonus to a skill, such as Expertise, select 'Exp'. If you have something that allows you to add half your proficiency bonus to a skill, such as a bards 'Jack of all Trades' feature, select 'Half'. For things like tool proficiencies, languages, etc enter them in the Proficiencies and Languages box below the standard abilities. ")])])],-1);function Bf(t,o,c,m,f,k){const n=V("loadsave"),s=V("characterheader"),i=V("abilityscores"),h=V("skills"),v=V("initiative"),$=V("hitpoints"),U=V("combat"),N=V("equipment"),F=V("attacks"),j=V("features"),E=V("spells"),q=V("resources"),z=V("pets"),X=V("actions"),O=V("appearance"),Y=V("fluff"),G=V("b-tab"),pe=V("combathud"),Q=V("otherrolls"),J=V("gamenotes"),me=V("b-tabs"),Z=V("buildclass"),x=V("statbuilder"),ee=V("bonus"),te=V("campaigninfo"),P=V("b-accordion-item"),ve=V("b-accordion"),be=V("loadsavemodals"),$e=V("b-modal");return l(),a("div",Yy,[t.message?(l(),a("div",Ky,d(t.message),1)):b("",!0),e("div",Qy,[e("div",Jy,[y(n,{minimal:""})]),e("div",{class:R(["print-full",t.buildHide?"col-12":"col-8"])},[y(s),e("div",Zy,[e("div",xy,[e("button",{class:"btn btn-primary btn-sm",style:{float:"right"},onClick:o[0]||(o[0]=oe=>t.buildHide=!t.buildHide)},[t.buildHide?b("",!0):(l(),a("span",ef,"Hide")),t.buildHide?(l(),a("span",tf,"Show")):b("",!0),u(" Build")]),u("\xA0 ")])]),y(me,null,{default:C(()=>[y(G,{title:"Character Sheet"},{default:C(()=>[e("div",of,[e("div",sf,[e("div",nf,[e("div",lf,[y(i),y(h)]),e("div",af,[y(v),(l(),ke($,{key:t.hitdicechanged})),y(U),y(N)])])]),e("div",rf,[e("div",df,[e("div",uf,[y(F),y(j)])])])]),cf,e("div",hf,[e("div",pf,[y(E)])]),e("div",mf,[e("div",vf,[y(q)])]),e("div",bf,[e("div",$f,[y(z)])]),e("div",yf,[e("div",ff,[y(X)])]),gf,y(O),y(Y)]),_:1}),y(G,{title:"Combat HUD"},{default:C(()=>[y(pe)]),_:1}),y(G,{title:"Character Details"},{default:C(()=>[y(O),y(Y)]),_:1}),y(G,{title:"Spells & Resources"},{default:C(()=>[e("div",_f,[e("div",kf,[y(Q)])]),e("div",wf,[e("div",Cf,[y(E)])]),e("div",Vf,[e("div",Uf,[y(q)])]),e("div",Sf,[e("div",Af,[y(z)])])]),_:1}),y(G,{title:"Game Notes"},{default:C(()=>[y(J)]),_:1})]),_:1})],2),t.buildHide?b("",!0):(l(),a("div",Mf,[Df,y(Z),y(x),y(ee),y(te)]))]),e("div",Rf,[y(s),y(ve,null,{default:C(()=>[y(P,{title:"Load/Save"},{default:C(()=>[y(n,{minimal:!1})]),_:1}),y(P,{title:"Class"},{default:C(()=>[y(Z)]),_:1}),y(P,{title:"Stats"},{default:C(()=>[e("div",Tf,[e("div",Pf,[y(i)])]),y(x)]),_:1}),y(P,{title:"Skills"},{default:C(()=>[y(h)]),_:1}),y(P,{title:"Spells"},{default:C(()=>[e("div",If,[e("div",Lf,[y(E)])])]),_:1}),y(P,{title:"Resources"},{default:C(()=>[y(q)]),_:1}),y(P,{title:"Equipment"},{default:C(()=>[y(N)]),_:1}),y(P,{title:"HP, Initiative, AC, and Armor"},{default:C(()=>[y($),y(v),y(U)]),_:1}),y(P,{title:"Features"},{default:C(()=>[y(j)]),_:1}),y(P,{title:"Actions, Attacks, and Other Rolls"},{default:C(()=>[y(X),y(F),y(Q)]),_:1}),y(P,{title:"Appearance"},{default:C(()=>[y(O)]),_:1}),y(P,{title:"Backstory"},{default:C(()=>[y(Y)]),_:1}),y(P,{title:"Pets"},{default:C(()=>[y(z)]),_:1}),y(P,{title:"Bonuses"},{default:C(()=>[y(ee)]),_:1}),y(P,{title:"Game Notes"},{default:C(()=>[y(J)]),_:1}),y(P,{title:"Campaign Info"},{default:C(()=>[y(te)]),_:1})]),_:1})]),y(be),y($e,{modelValue:t.startGuide,"onUpdate:modelValue":o[1]||(o[1]=oe=>t.startGuide=oe),title:"Getting Started Guide","hide-footer":"",size:"lg",class:R(t.userinfo.darkmode)},{default:C(()=>[Nf]),_:1},8,["modelValue","class"])])}const Hf=M(Xy,[["render",Bf]]);export{Hf as default};
