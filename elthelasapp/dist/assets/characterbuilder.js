import{y as A,z as re,s as V,A as P,_ as D,o as l,c as a,a as t,t as r,d as v,e as d,F as y,r as $,n as u,v as p,C as M,k as I,g as S,h as k,w as C,E as w,b as R,p as T,u as H,G as B,l as K,H as E,m as Q,I as J,J as ke,B as _e,K as we}from"./index.js";import{P as le}from"./pet.js";import{i as Ce}from"./artificerinfusions.js";import{i as Se}from"./warlockinvocations.js";import{c as Ve}from"./creaturecalc.js";const Ue={setup(){const e=A(),o=re(),{character:c,getStatTotal:m,getStatMod:g,pointbuy:_,statRolls:n,getSaveMod:s}=V(e),{mobile:i}=V(o);return{characters:e,globals:o,character:c,getStatTotal:m,getStatMod:g,pointbuy:_,statRolls:n,getSaveMod:s,mobile:i,rollStats:e.rollStats}},methods:{rollCheck(e){let o=P.roll("1d20").total,c=P.roll("1d20").total;alert("Base Roll: "+(o+e)+" ("+o+" + "+e+`)
Adv/Dis Roll: `+(c+e)+" ("+c+" + "+e+")")}}},Me={key:0},Ae={class:"abilitytable"},De=t("thead",null,[t("tr",null,[t("th",null,"Ability"),t("th",null,"Score"),t("th",null,"Mod"),t("th",null,"Save")])],-1),Te=t("th",null,"STR",-1),Re={key:0},Le={key:0},Pe=t("th",null,"DEX",-1),Ie={key:0},Ne={key:0},Ee=t("th",null,"CON",-1),qe={key:0},We={key:0},Be=t("th",null,"INT",-1),He={key:0},Fe={key:0},je=t("th",null,"WIS",-1),ze={key:0},Oe={key:0},Ye=t("th",null,"CHA",-1),Ge={key:0},Xe={key:0},Ke={key:1},Qe={class:"abilitytable"},Je=t("thead",null,[t("tr",null,[t("th",null,"Stat"),t("th",null,"STR"),t("th",null,"DEX"),t("th",null,"CON"),t("th",null,"INT"),t("th",null,"WIS"),t("th",null,"CHA")])],-1),Ze=t("th",null,"Total",-1),xe=t("th",null,"Mod",-1),et=["onClick"],tt=t("th",null,"Save",-1),ot=["onClick"],st=t("th",null,"Base",-1),nt=["onUpdate:modelValue"],lt=t("th",null,"Racial",-1),at=["onUpdate:modelValue"],it=t("th",null,"Bonus",-1),rt=["onUpdate:modelValue"],ut=t("th",null,"Save+",-1),dt=["onUpdate:modelValue"],ct=t("th",null,"Save Bonus",-1),ht=["onUpdate:modelValue"],pt=t("br",null,null,-1);function mt(e,o,c,m,g,_){return l(),a("div",null,[e.mobile?v("",!0):(l(),a("div",Me,[t("table",Ae,[De,t("tbody",null,[t("tr",null,[Te,t("td",null,r(e.getStatTotal(0)),1),t("td",null,[t("button",{onClick:o[0]||(o[0]=n=>e.rollCheck(e.getStatMod(0)))},[e.getStatMod(0)>-1?(l(),a("span",Re,"+")):v("",!0),d(r(e.getStatMod(0)),1)])]),t("td",null,[t("button",{onClick:o[1]||(o[1]=n=>e.rollCheck(e.getSaveMod(0)))},[e.getSaveMod(0)>-1?(l(),a("span",Le,"+")):v("",!0),d(r(e.getSaveMod(0)),1)])])]),t("tr",null,[Pe,t("td",null,r(e.getStatTotal(1)),1),t("td",null,[t("button",{onClick:o[2]||(o[2]=n=>e.rollCheck(e.getStatMod(1)))},[e.getStatMod(1)>-1?(l(),a("span",Ie,"+")):v("",!0),d(r(e.getStatMod(1)),1)])]),t("td",null,[t("button",{onClick:o[3]||(o[3]=n=>e.rollCheck(e.getSaveMod(1)))},[e.getSaveMod(1)>-1?(l(),a("span",Ne,"+")):v("",!0),d(r(e.getSaveMod(1)),1)])])]),t("tr",null,[Ee,t("td",null,r(e.getStatTotal(2)),1),t("td",null,[t("button",{onClick:o[4]||(o[4]=n=>e.rollCheck(e.getStatMod(2)))},[e.getStatMod(2)>-1?(l(),a("span",qe,"+")):v("",!0),d(r(e.getStatMod(2)),1)])]),t("td",null,[t("button",{onClick:o[5]||(o[5]=n=>e.rollCheck(e.getSaveMod(2)))},[e.getSaveMod(2)>-1?(l(),a("span",We,"+")):v("",!0),d(r(e.getSaveMod(2)),1)])])]),t("tr",null,[Be,t("td",null,r(e.getStatTotal(3)),1),t("td",null,[t("button",{onClick:o[6]||(o[6]=n=>e.rollCheck(e.getStatMod(3)))},[e.getStatMod(3)>-1?(l(),a("span",He,"+")):v("",!0),d(r(e.getStatMod(3)),1)])]),t("td",null,[t("button",{onClick:o[7]||(o[7]=n=>e.rollCheck(e.getSaveMod(3)))},[e.getSaveMod(3)>-1?(l(),a("span",Fe,"+")):v("",!0),d(r(e.getSaveMod(3)),1)])])]),t("tr",null,[je,t("td",null,r(e.getStatTotal(4)),1),t("td",null,[t("button",{onClick:o[8]||(o[8]=n=>e.rollCheck(e.getStatMod(4)))},[e.getStatMod(4)>-1?(l(),a("span",ze,"+")):v("",!0),d(r(e.getStatMod(4)),1)])]),t("td",null,[t("button",{onClick:o[9]||(o[9]=n=>e.rollCheck(e.getSaveMod(4)))},[e.getSaveMod(4)>-1?(l(),a("span",Oe,"+")):v("",!0),d(r(e.getSaveMod(4)),1)])])]),t("tr",null,[Ye,t("td",null,r(e.getStatTotal(5)),1),t("td",null,[t("button",{onClick:o[10]||(o[10]=n=>e.rollCheck(e.getStatMod(5)))},[e.getStatMod(5)>-1?(l(),a("span",Ge,"+")):v("",!0),d(r(e.getStatMod(5)),1)])]),t("td",null,[t("button",{onClick:o[11]||(o[11]=n=>e.rollCheck(e.getSaveMod(5)))},[e.getSaveMod(5)>-1?(l(),a("span",Xe,"+")):v("",!0),d(r(e.getSaveMod(5)),1)])])])])])])),e.mobile?(l(),a("div",Ke,[t("table",Qe,[Je,t("tbody",null,[t("tr",null,[Ze,t("td",null,r(e.getStatTotal(0)),1),t("td",null,r(e.getStatTotal(1)),1),t("td",null,r(e.getStatTotal(2)),1),t("td",null,r(e.getStatTotal(3)),1),t("td",null,r(e.getStatTotal(4)),1),t("td",null,r(e.getStatTotal(5)),1)]),t("tr",null,[xe,(l(),a(y,null,$(6,n=>t("td",{key:n},[t("button",{onClick:s=>e.rollCheck(e.getStatMod(n-1))},r(e.getStatMod(n-1)),9,et)])),64))]),t("tr",null,[tt,(l(),a(y,null,$(6,n=>t("td",{key:n},[t("button",{onClick:s=>e.rollCheck(e.getSaveMod(n-1))},r(e.getSaveMod(n-1)),9,ot)])),64))]),t("tr",null,[st,(l(),a(y,null,$(6,n=>t("td",{key:n},[u(t("input",{type:"number","onUpdate:modelValue":s=>e.character.stats[n-1]=s,class:"charsheet-num"},null,8,nt),[[p,e.character.stats[n-1]]])])),64))]),t("tr",null,[lt,(l(),a(y,null,$(6,n=>t("td",{key:n},[u(t("input",{type:"number","onUpdate:modelValue":s=>e.character.race.stats[n-1]=s,class:"charsheet-num"},null,8,at),[[p,e.character.race.stats[n-1]]])])),64))]),t("tr",null,[it,(l(),a(y,null,$(6,n=>t("td",{key:n},[u(t("input",{type:"number","onUpdate:modelValue":s=>e.character.statbonus[n-1]=s,class:"charsheet-num"},null,8,rt),[[p,e.character.statbonus[n-1]]])])),64))]),t("tr",null,[ut,(l(),a(y,null,$(6,n=>t("td",{key:n},[u(t("input",{type:"checkbox","onUpdate:modelValue":s=>e.character.saves[n-1]=s},null,8,dt),[[M,e.character.saves[n-1]]])])),64))]),t("tr",null,[ct,(l(),a(y,null,$(6,n=>t("td",{key:n},[u(t("input",{type:"number","onUpdate:modelValue":s=>e.character.savebonus[n-1]=s,class:"charsheet-num"},null,8,ht),[[p,e.character.savebonus[n-1]]])])),64))])])]),d(" Point Buy Total: "+r(e.characters.pointbuy),1),pt,d(" Stat Rolls: "),(l(!0),a(y,null,$(e.statRolls,(n,s)=>(l(),a("span",{key:s},r(n),1))),128)),t("input",{type:"button",onClick:o[12]||(o[12]=n=>e.rollStats()),value:"Roll!"})])):v("",!0)])}const vt=D(Ue,[["render",mt]]),bt={setup(){const e=A(),o=I(),{character:c,warlockSlotLevel:m}=V(e),g=e.castSpell;return{characters:e,userinfo:o,character:c,warlockSlotLevel:m,castSpell:g}},computed:{actions(){let e=[...this.baseActions];return this.character.actions.forEach(o=>{o.actiontype==="action"&&(typeof o.show>"u"&&(o.show=!1),e.push(o))}),Object.keys(this.character.spells).forEach(o=>{this.character.spells[o].forEach(c=>{let m=!1;for(var g=Number(c.level);g<=9;g++)this.character.availableslots["level"+g]>0&&(m=!0);this.warlockSlotLevel>=Number(c.level)&&this.character.warlockslotsavailable>0&&(m=!0),c.castingTime==="1 action"&&(c.level==="cantrip"||c.prepared&&m)&&(typeof c.id>"u"&&(c.id=Date.now()+Math.random(),c.name="Cast "+c.title,c.show=!1),e.push(c))})}),e},bonus(){let e=[];return this.character.actions.forEach(o=>{o.actiontype==="bonus"&&(typeof o.show>"u"&&(o.show=!1),e.push(o))}),Object.keys(this.character.spells).forEach(o=>{this.character.spells[o].forEach(c=>{let m=!1;for(var g=Number(c.level);g<=9;g++)this.character.availableslots["level"+g]>0&&(m=!0);this.warlockSlotLevel>=Number(c.level)&&this.character.warlockslotsavailable>0&&(m=!0),c.castingTime==="1 bonus action"&&(c.level==="cantrip"||c.prepared&&m)&&(typeof c.id>"u"&&(c.id=Date.now()+Math.random(),c.name="Cast "+c.title,c.show=!1),e.push(c))})}),e},reactions(){let e=[...this.baseReactions];return this.character.actions.forEach(o=>{o.actiontype==="reaction"&&(typeof o.show>"u"&&(o.show=!1),e.push(o))}),Object.keys(this.character.spells).forEach(o=>{this.character.spells[o].forEach(c=>{let m=!1;for(var g=Number(c.level);g<=9;g++)this.character.availableslots["level"+g]>0&&(m=!0);this.warlockSlotLevel>=Number(c.level)&&this.character.warlockslotsavailable>0&&(m=!0),c.castingTime.includes("reaction")&&(c.level==="cantrip"||c.prepared&&m)&&(typeof c.id>"u"&&(c.id=Date.now()+Math.random(),c.name="Cast "+c.title,c.show=!1),e.push(c))})}),e}},data:function(){return{baseActions:[{id:8,name:"Attack",description:"Attack with a weapon, unarmed strike, grapple (opposed athletics), or shove",show:!1},{id:0,name:"Dash",description:"you gain extra movement for the current turn. The increase equals your speed, after applying any modifiers.",show:!1},{id:11,name:"Delay",description:"Immediately end your turn so you can take it later. Must be done before any other action or movement of any kind. bad stuff still happens now. Good stuff happens when you do take your turn."},{id:1,name:"Disenage",description:"your movement doesn\u2019t provoke opportunity attacks for the rest of the turn.",show:!1},{id:2,name:"Dodge",description:"Until the start of your next turn, any attack roll made against you has disadvantage if you can see the attacker, and you make Dexterity saving throws with advantage.",show:!1},{id:3,name:"Help",description:"the creature you aid gains advantage on the next ability check it makes to perform the task you are helping with, provided that it makes the check before the start of your next turn.",show:!1},{id:4,name:"Hide",description:"you make a Dexterity (Stealth) check in an attempt to hide, following the rules in chapter 7 for hiding. If you succeed, you gain certain benefits, as described in the \u201CUnseen Attackers and Targets\u201D section",show:!1},{id:5,name:"Ready",description:"decide what perceivable circumstance will trigger your reaction. Then, you choose the action you will take in response to that trigger, or you choose to move up to your speed in response to it. When the trigger occurs, you can either take your reaction right after the trigger finishes or ignore the trigger.",show:!1},{id:10,name:"Run",description:"you gain extra movement for the current turn, but have disadvantage on dex saves and attack rolls, and enemies have advantage to hit you. The increase equals twice your speed.",show:!1},{id:6,name:"Search",description:"you devote your attention to finding something.",show:!1},{id:7,name:"Use an Object",description:"When an object requires your action for its use, you take the Use an Object action.",show:!1},{id:12,name:"First Aid",description:"Attempt to stabilize a creature, or if you have a healers kit, use it to heal them for 2d4+2",show:!1},{id:13,name:"Repair Armor",description:"Use tools and a repair kit to fix someones armor for 2d4+2 protection points",show:!1}],baseReactions:[{id:9,name:"Opportunity Attack",description:"When an opponent moves out of your reach you can use a reaction to make 1 attack against them",show:!1}],showstandard:!1,addActionModal:!1,newaction:{name:"",description:"",actiontype:"action",id:Date.now(),useradd:!0,resourceused:!1,show:!1}}},methods:{forceUpdate(){this.$forceUpdate()},addAction(){this.character.actions.push(this.newaction),this.newaction={name:"",description:"",actiontype:"action",id:Date.now(),useradd:!0,resourceused:!1,show:!1}},doAction(e){let o=this.character.resources.filter(c=>c.name===e.resourceused.name)[0];o.current--,this.$forceUpdate()},resourceAvailable(e){return this.character.resources.filter(c=>c.name===e.resourceused.name)[0].current>0},deleteAction(e){confirm("Are you sure you want to delete this action?")&&this.character.actions.splice(this.character.actions.findIndex(o=>o.id===e.id),1)}}},yt={class:"charsheet-static smalltext",id:"attackdiv"},$t={class:"row"},ft={class:"col-sm"},gt=t("h4",null,"Actions",-1),kt=["title"],_t=["onClick"],wt=["onClick"],Ct={key:0},St={key:1},Vt=["disabled","onClick"],Ut=["onClick"],Mt=["onClick"],At=["onUpdate:modelValue"],Dt={key:0,value:"warlock"},Tt=["innerHTML"],Rt={class:"col-sm"},Lt=t("h4",null,"Bonus Actions",-1),Pt=["title"],It=["onClick"],Nt=["onClick"],Et={key:0},qt={key:1},Wt=["onClick","disabled"],Bt=["onClick"],Ht=["onClick"],Ft=["onUpdate:modelValue"],jt={key:0,value:"warlock"},zt=["innerHTML"],Ot={class:"col-sm"},Yt=t("h4",null,"Reactions",-1),Gt=["title"],Xt=["onClick"],Kt=["onClick"],Qt={key:0},Jt={key:1},Zt=["onClick","disabled"],xt=["onClick"],eo=["onClick"],to=["onUpdate:modelValue"],oo={key:0,value:"warlock"},so=["innerHTML"],no=t("label",null,"Name:",-1),lo=t("label",null,"Action Type:",-1),ao=t("option",{value:"action"},"Action",-1),io=t("option",{value:"bonus"},"Bonus Action",-1),ro=t("option",{value:"reaction"},"Reaction",-1),uo=[ao,io,ro],co=t("label",null,"Resource Used",-1),ho=t("option",{value:!1},"None",-1),po=["value"],mo=t("label",null,"Description:",-1),vo={class:"row"},bo={class:"btn-group col"};function yo(e,o,c,m,g,_){const n=S("b-modal");return l(),a("div",yt,[t("div",$t,[t("div",ft,[gt,(l(!0),a(y,null,$(e.actions,s=>(l(),a("div",{key:s.id,title:s.description},[t("strong",{onClick:i=>{s.show=!s.show,e.forceUpdate()}},r(s.name),9,_t),t("button",{class:"btn btn-sm",onClick:i=>{s.show=!s.show,e.forceUpdate()}},[s.show?(l(),a("span",Ct,"\u25B2")):v("",!0),s.show?v("",!0):(l(),a("span",St,"\u25BC"))],8,wt),s.useradd&&s.resourceused?(l(),a("button",{key:0,disabled:!e.resourceAvailable(s),onClick:i=>e.doAction(s),class:"btn btn-sm btn-primary"},"Do",8,Vt)):v("",!0),s.useradd?(l(),a("button",{key:1,onClick:i=>e.deleteAction(s),class:"btn btn-sm"},"X",8,Ut)):v("",!0),s.title?(l(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary print-hide",onClick:i=>e.castSpell(s)},"Cast",8,Mt)):v("",!0),s.title&&s.level!=="cantrip"?u((l(),a("select",{key:3,"onUpdate:modelValue":i=>s.castLevel=i},[t("option",null,r(Number(s.level)),1),(l(!0),a(y,null,$(9-s.level,i=>(l(),a("option",{key:i},r(Number(i)+Number(s.level)),1))),128)),e.warlockSlotLevel>=s.level?(l(),a("option",Dt,"wlk")):v("",!0)],8,At)),[[w,s.castLevel]]):v("",!0),s.show?(l(),a("div",{innerHTML:e.$options.filters.marked(s.description),key:s.id},null,8,Tt)):v("",!0)],8,kt))),128))]),t("div",Rt,[Lt,(l(!0),a(y,null,$(e.bonus,s=>(l(),a("div",{key:s.id+s.show.toString(),title:s.description},[t("strong",{onClick:i=>{s.show=!s.show,e.forceUpdate()}},r(s.name),9,It),t("button",{class:"btn btn-sm",onClick:i=>{s.show=!s.show,e.forceUpdate()}},[s.show?(l(),a("span",Et,"\u25B2")):v("",!0),s.show?v("",!0):(l(),a("span",qt,"\u25BC"))],8,Nt),s.useradd&&s.resourceused?(l(),a("button",{key:0,onClick:i=>e.doAction(s),class:"btn btn-sm btn-primary",disabled:!e.resourceAvailable(s)},"Do",8,Wt)):v("",!0),s.useradd?(l(),a("button",{key:1,onClick:i=>e.deleteAction(s),class:"btn btn-sm"},"X",8,Bt)):v("",!0),s.title?(l(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary print-hide",onClick:i=>e.castSpell(s)},"Cast",8,Ht)):v("",!0),s.title&&s.level!=="cantrip"?u((l(),a("select",{key:3,"onUpdate:modelValue":i=>s.castLevel=i},[t("option",null,r(Number(s.level)),1),(l(!0),a(y,null,$(9-s.level,i=>(l(),a("option",{key:i},r(Number(i)+Number(s.level)),1))),128)),e.warlockSlotLevel>=s.level?(l(),a("option",jt,"wlk")):v("",!0)],8,Ft)),[[w,s.castLevel]]):v("",!0),s.show?(l(),a("div",{key:4,innerHTML:e.$options.filters.marked(s.description)},null,8,zt)):v("",!0)],8,Pt))),128))]),t("div",Ot,[Yt,(l(!0),a(y,null,$(e.reactions,s=>(l(),a("div",{key:s.id+s.show.toString(),title:s.description},[t("strong",{onClick:i=>{s.show=!s.show,e.forceUpdate()}},r(s.name),9,Xt),t("button",{class:"btn btn-sm",onClick:i=>{s.show=!s.show,e.forceUpdate()}},[s.show?(l(),a("span",Qt,"\u25B2")):v("",!0),s.show?v("",!0):(l(),a("span",Jt,"\u25BC"))],8,Kt),s.useradd&&s.resourceused?(l(),a("button",{key:0,onClick:i=>e.doAction(s),class:"btn btn-sm btn-primary",disabled:!e.resourceAvailable(s)},"Do",8,Zt)):v("",!0),s.useradd?(l(),a("button",{key:1,onClick:i=>e.deleteAction(s),class:"btn btn-sm"},"X",8,xt)):v("",!0),s.title?(l(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary print-hide",onClick:i=>e.castSpell(s)},"Cast",8,eo)):v("",!0),s.title&&s.level!=="cantrip"?u((l(),a("select",{key:3,"onUpdate:modelValue":i=>s.castLevel=i},[t("option",null,r(Number(s.level)),1),(l(!0),a(y,null,$(9-s.level,i=>(l(),a("option",{key:i},r(Number(i)+Number(s.level)),1))),128)),e.warlockSlotLevel>=s.level?(l(),a("option",oo,"wlk")):v("",!0)],8,to)),[[w,s.castLevel]]):v("",!0),s.show?(l(),a("div",{key:4,innerHTML:e.$options.filters.marked(s.description)},null,8,so)):v("",!0)],8,Gt))),128))]),k(n,{modelValue:e.addActionModal,"onUpdate:modelValue":o[4]||(o[4]=s=>e.addActionModal=s),onOk:o[5]||(o[5]=s=>e.addAction()),"modal-class":e.userinfo.themesetting},{default:C(()=>[no,u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=s=>e.newaction.name=s)},null,512),[[p,e.newaction.name]]),lo,u(t("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>e.newaction.actiontype=s),class:"form-control"},uo,512),[[w,e.newaction.actiontype]]),co,u(t("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>e.newaction.resourceused=s),class:"form-control"},[ho,(l(!0),a(y,null,$(e.character.resources,s=>(l(),a("option",{key:s.name,value:s},r(s.name),9,po))),128))],512),[[w,e.newaction.resourceused]]),mo,u(t("textarea",{"onUpdate:modelValue":o[3]||(o[3]=s=>e.newaction.description=s),class:"form-control"},null,512),[[p,e.newaction.description]])]),_:1},8,["modelValue","modal-class"])]),t("div",vo,[t("div",bo,[t("button",{onClick:o[6]||(o[6]=s=>e.addActionModal=!0),class:"btn btn-sm btn-primary"},"+")])])])}const ue=D(bt,[["render",yo]]),$o={setup(){const e=A(),{character:o}=V(e),c=e.loadImage;return{character:o,loadimage:c}},methods:{rollHeightWeight(){let e=P.roll(this.character.race.heightroll).total,o=this.character.race.baseheight+e,c=Math.floor(o/12),m=o%12;this.character.height=c+"' "+m+'"';let g=P.roll(this.character.race.weightroll).total;this.character.weight=this.character.race.baseweight+e*g+" lbs"}}},fo={class:"row"},go={class:"col"},ko={class:"col"},_o={class:"col"},wo=R('<option value="Lawful Good">Lawful Good</option><option value="Neutral Good">Neutral Good</option><option value="Chaotic Good">Chaotic Good</option><option value="Lawful Neutral">Lawful Neutral</option><option value="Neutral">Neutral</option><option value="Chaotic Neutral">Chaotic Neutral</option><option value="Lawful Evil">Lawful Evil</option><option value="Neutral Evil">Neutral Evil</option><option value="Chaotic Evil">Chaotic Evil</option>',9),Co=[wo],So={class:"row"},Vo={class:"col"},Uo={class:"col"},Mo={class:"col"},Ao={class:"col"},Do={class:"col"},To={class:"col"},Ro={class:"row print-hide"},Lo=t("input",{type:"file",id:"imageload",class:"col-sm"},null,-1),Po={class:"col-sm"},Io={key:0,class:"row print-hide"},No={class:"col"},Eo=["src","alt"];function qo(e,o,c,m,g,_){return l(),a("div",null,[t("div",fo,[t("div",go,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[0]||(o[0]=n=>e.character.gender=n)},null,512),[[p,e.character.gender]]),d(" Gender ")]),t("div",ko,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[1]||(o[1]=n=>e.character.god=n)},null,512),[[p,e.character.god]]),d(" God Worshipped ")]),t("div",_o,[u(t("select",{"onUpdate:modelValue":o[2]||(o[2]=n=>e.character.alignment=n),class:"charsheet-text"},Co,512),[[w,e.character.alignment]]),d(" Alignment ")])]),t("div",So,[t("div",Vo,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[3]||(o[3]=n=>e.character.age=n)},null,512),[[p,e.character.age]]),d(" Age ")]),t("div",Uo,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[4]||(o[4]=n=>e.character.height=n)},null,512),[[p,e.character.height]]),d(" Height "),t("button",{class:"btn-sm btn-primary print-hide",onClick:o[5]||(o[5]=n=>e.rollHeightWeight())},"Roll")]),t("div",Mo,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[6]||(o[6]=n=>e.character.weight=n)},null,512),[[p,e.character.weight]]),d(" Weight ")]),t("div",Ao,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[7]||(o[7]=n=>e.character.hair=n)},null,512),[[p,e.character.hair]]),d(" Hair ")]),t("div",Do,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[8]||(o[8]=n=>e.character.eyes=n)},null,512),[[p,e.character.eyes]]),d(" Eyes ")]),t("div",To,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[9]||(o[9]=n=>e.character.skin=n)},null,512),[[p,e.character.skin]]),d(" Skin ")])]),t("div",Ro,[Lo,t("div",Po,[t("input",{type:"button",onClick:o[10]||(o[10]=n=>e.loadimage()),class:"btn btn-success",value:"upload image"})])]),e.character.image?(l(),a("div",Io,[t("div",No,[t("img",{src:e.character.image,alt:e.character.name,style:{"max-width":"100%"}},null,8,Eo)])])):v("",!0)])}const Wo=D($o,[["render",qo]]),Bo={setup(){const e=A(),o=I(),{character:c,getAttBonus:m,getStatMod:g,getAttackBonus:_,getDamageBonus:n}=V(e),s=e.removeAttack;return{characters:e,userinfo:o,character:c,getAttBonus:m,getStatMod:g,getAttackBonus:_,getDamageBonus:n,removeAttack:s}},data(){return{newattack:{name:"",stat:0,bonus:0,damage:[{dice:"",dtype:"",damagebonus:0,addstat:!1}],range:"",type:"",edit:!1,prof:!0,advantage:!1,rolls:{},rolled:!1,roll:!1,critRange:20},attackmodal:!1}},methods:{addAttack(){this.character.attacks.push(this.newattack),this.newattack={name:"",stat:0,bonus:0,damage:[{dice:"",dtype:"",damagebonus:0,addstat:!1}],range:"",type:"",edit:!1,prof:!0,advantage:!1,rolls:{},rolled:!1,roll:!1,critRange:20},this.attackmodal=!1},addDamage(e){e.damage.push({dice:"",dtype:"",damagebonus:0,addstat:!1})},removeDamage(e,o){e.damage.splice(o,1)},rerollDie(e,o,c,m){o[c]=P.roll(e).total;let g=this;m.rolls.damage.forEach(_=>{_.total=_.dRoll.rolls.reduce((n,s)=>n+s,0)+Number(_.damagebonus)+(_.addstat?Number(g.getStatMod(m.stat)):0)+(m.rolls.crit?_.critRoll.total:0)}),m.rolls.totalDamage=m.rolls.damage.reduce((_,n)=>_+n.total,0),this.$forceUpdate()},parse(e){return P.parse(e)},rollAttack(e){e.rolls={},e.rolls.elvenAccuracy=this.character.feats.reduce((o,c)=>c.name==="Elven Accuracy"||o,!1)&&(e.stat===1||e.stat===3||e.stat===4||e.stat===5),e.rolls.rawRoll=Number(P.roll("1d20")),e.rolls.firstRoll=e.rolls.rawRoll,e.rolls.secondRoll=Number(P.roll("1d20")),e.rolls.thirdRoll=Number(P.roll("1d20")),(e.advantage==="advantage"&&e.rolls.secondRoll>e.rolls.rawRoll||e.advantage==="disadvantage"&&e.rolls.secondRoll<e.rolls.rawRoll)&&(e.rolls.rawRoll=e.rolls.secondRoll),e.rolls.advantage==="advantage"&&e.rolls.elvenAccuracy&&e.rolls.thirdRoll>e.rolls.rawRoll&&(e.rolls.rawRoll=e.rolls.thirdRoll),e.rolls.toHit=e.rolls.rawRoll+Number(this.getAttackBonus(e)),e.rolls.crit=!1,e.rolls.rawRoll>=Number(e.critRange)&&(e.rolls.crit=!0),e.rolls.damage=e.damage.map(o=>{let c={...o};return c.dRoll=P.roll(o.dice),c.critRoll=P.roll(o.dice),c.total=c.dRoll.total+this.getDamageBonus(o,e.stat)+(e.rolls.crit?c.critRoll.total:0),c}),e.rolls.totalDamage=e.rolls.damage.reduce((o,c)=>o+c.total,0),e.rolled=!0,this.$forceUpdate()}}},Ho={class:"charsheet-static",id:"attackdiv"},Fo=t("h4",null,"Attacks",-1),jo=["onUpdate:modelValue"],zo=t("option",{value:!1},"None",-1),Oo=t("option",{value:"advantage"},"Advantage",-1),Yo=t("option",{value:"disadvantage"},"Disadvantage",-1),Go=[zo,Oo,Yo],Xo=["onClick"],Ko={key:0},Qo={key:0},Jo=t("strong",null,"Attack Roll:",-1),Zo={key:0},xo={key:0},es=t("strong",null,"Total Damage: ",-1),ts=t("p",null,[t("strong",null,"Damage Rolls")],-1),os={class:"abilitytable"},ss=t("th",null,"Total",-1),ns=t("th",null,"Bonus",-1),ls=t("td",null,"-",-1),as=["onClick"],is=["onClick"],rs=t("td",null,"-",-1),us=["onClick"],ds={key:0},cs={key:0},hs={key:1},ps=["onClick"],ms=["onClick"],vs=["onUpdate:modelValue"],bs=["onUpdate:modelValue"],ys=["onUpdate:modelValue"],$s=t("option",{value:0},"Strength",-1),fs=t("option",{value:1},"Dexterity",-1),gs=t("option",{value:2},"Constitution",-1),ks=t("option",{value:3},"Intelligence",-1),_s=t("option",{value:4},"Wisdom",-1),ws=t("option",{value:5},"Charisma",-1),Cs=[$s,fs,gs,ks,_s,ws],Ss=["onUpdate:modelValue"],Vs=["onUpdate:modelValue"],Us=["onUpdate:modelValue"],Ms=["onUpdate:modelValue"],As=t("option",null,"Melee Weapon Attack",-1),Ds=t("option",null,"Ranged Weapon Attack",-1),Ts=t("option",null,"Melee Spell Attack",-1),Rs=t("option",null,"Ranged Spell Attack",-1),Ls=t("option",null,"Unarmed Strike",-1),Ps=[As,Ds,Ts,Rs,Ls],Is=["onUpdate:modelValue"],Ns=["onUpdate:modelValue"],Es=["onUpdate:modelValue"],qs=t("br",null,null,-1),Ws=["onUpdate:modelValue"],Bs=t("option",null,"Bludgeoning",-1),Hs=t("option",null,"Piercing",-1),Fs=t("option",null,"Slashing",-1),js=t("option",null,"Acid",-1),zs=t("option",null,"Cold",-1),Os=t("option",null,"Fire",-1),Ys=t("option",null,"Force",-1),Gs=t("option",null,"Lightning",-1),Xs=t("option",null,"Necrotic",-1),Ks=t("option",null,"Poison",-1),Qs=t("option",null,"Psychic",-1),Js=t("option",null,"Radiant",-1),Zs=t("option",null,"Thunder",-1),xs=[Bs,Hs,Fs,js,zs,Os,Ys,Gs,Xs,Ks,Qs,Js,Zs],en=["onClick"],tn=["onClick"],on=t("option",{value:0},"Strength",-1),sn=t("option",{value:1},"Dexterity",-1),nn=t("option",{value:2},"Constitution",-1),ln=t("option",{value:3},"Intelligence",-1),an=t("option",{value:4},"Wisdom",-1),rn=t("option",{value:5},"Charisma",-1),un=[on,sn,nn,ln,an,rn],dn=t("option",null,"Melee Weapon Attack",-1),cn=t("option",null,"Ranged Weapon Attack",-1),hn=t("option",null,"Melee Spell Attack",-1),pn=t("option",null,"Ranged Spell Attack",-1),mn=t("option",null,"Unarmed Strike",-1),vn=[dn,cn,hn,pn,mn],bn=["onUpdate:modelValue"],yn=["onUpdate:modelValue"],$n=["onUpdate:modelValue"],fn=t("br",null,null,-1),gn=["onUpdate:modelValue"],kn=t("option",null,"Bludgeoning",-1),_n=t("option",null,"Piercing",-1),wn=t("option",null,"Slashing",-1),Cn=t("option",null,"Acid",-1),Sn=t("option",null,"Cold",-1),Vn=t("option",null,"Fire",-1),Un=t("option",null,"Force",-1),Mn=t("option",null,"Lightning",-1),An=t("option",null,"Necrotic",-1),Dn=t("option",null,"Poison",-1),Tn=t("option",null,"Psychic",-1),Rn=t("option",null,"Radiant",-1),Ln=t("option",null,"Thunder",-1),Pn=[kn,_n,wn,Cn,Sn,Vn,Un,Mn,An,Dn,Tn,Rn,Ln],In=["onClick"];function Nn(e,o,c,m,g,_){const n=S("b-modal");return l(),a("div",Ho,[Fo,(l(!0),a(y,null,$(e.character.attacks,(s,i)=>(l(),a("div",{key:i,class:"smalltext"},[k(n,{modelValue:s.roll,"onUpdate:modelValue":h=>s.roll=h,title:"Roll Attack",onOk:h=>{s.roll=!1,s.rolled=!1},class:T(e.userinfo.darkmode)},{default:C(()=>[t("h4",null,r(s.name),1),d(" Advantage "),u(t("select",{class:"form-control","onUpdate:modelValue":h=>s.advantage=h},Go,8,jo),[[w,s.advantage]]),t("button",{type:"button",class:"btn btn-primary",onClick:h=>e.rollAttack(s)},"Roll Now!",8,Xo),s.rolled?(l(),a("div",Ko,[s.rolls.crit?(l(),a("h5",Qo,"Critical Hit!")):v("",!0),t("p",null,[Jo,d(" "+r(s.rolls.toHit)+" ("+r(s.rolls.rawRoll)+" + "+r(e.getAttackBonus(s))+") (All dice results: "+r(s.rolls.firstRoll)+" ",1),s.advantage?(l(),a("span",Zo,[d(r(s.rolls.secondRoll)+" ",1),s.rolls.elvenAccuracy?(l(),a("span",xo,r(s.rolls.thirdRoll),1)):v("",!0)])):v("",!0),d(") ")]),t("p",null,[es,d(" "+r(s.rolls.totalDamage),1)]),ts,(l(!0),a(y,null,$(s.rolls.damage,(h,b)=>(l(),a("div",{key:b},[d(r(h.dtype)+" Damage: "+r(h.total)+" ",1),t("table",os,[t("thead",null,[t("tr",null,[ss,(l(!0),a(y,null,$(e.parse(h.dice).numDice,f=>(l(),a("th",{key:f},r(f),1))),128)),s.rolls.crit?(l(!0),a(y,{key:0},$(e.parse(h.dice).numDice,f=>(l(),a("th",{key:f},r(f+e.parse(h.dice).numDice),1))),128)):v("",!0),ns])]),t("tbody",null,[t("tr",null,[t("td",null,r(h.total),1),(l(!0),a(y,null,$(e.parse(h.dice).numDice,f=>(l(),a("td",{key:f},r(h.dRoll.rolls[f-1]),1))),128)),s.rolls.crit?(l(!0),a(y,{key:0},$(e.parse(h.dice).numDice,f=>(l(),a("td",{key:f},r(h.critRoll.rolls[f-1]),1))),128)):v("",!0),t("td",null,r(e.getDamageBonus(h,s.stat)),1)]),t("tr",null,[ls,(l(!0),a(y,null,$(e.parse(h.dice).numDice,f=>(l(),a("td",{key:f},[t("button",{class:"btn btn-sm btn-primary",onClick:U=>e.rerollDie("1d"+e.parse(h.dice).numSides,h.dRoll.rolls,f-1,s)},"ReRoll",8,as)]))),128)),s.rolls.crit?(l(!0),a(y,{key:0},$(e.parse(h.dice).numDice,f=>(l(),a("td",{key:f},[t("button",{class:"btn btn-sm btn-primary",onClick:U=>e.rerollDie("1d"+e.parse(h.dice).numSides,h.critRoll.rolls,f-1,s)},"ReRoll",8,is)]))),128)):v("",!0),rs])])])]))),128))])):v("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","onOk","class"]),t("button",{type:"button",class:"btn print-hide btn-sm btn-primary",onClick:h=>s.roll=!0},"roll",8,us),t("strong",null,r(s.name)+":",1),d(" "+r(s.type)+", range "+r(s.range)+", ",1),e.getAttackBonus(s)>-1?(l(),a("span",ds,"+")):v("",!0),d(r(e.getAttackBonus(s))+" to hit ( ",1),(l(!0),a(y,null,$(s.damage,(h,b)=>(l(),a("span",{key:b},[d(r(h.dice),1),e.getDamageBonus(h,s.stat)>0?(l(),a("span",cs,"+ "+r(e.getDamageBonus(h,s.stat)),1)):v("",!0),e.getDamageBonus(h,s.stat)<0?(l(),a("span",hs,r(e.getDamageBonus(h,s.stat)),1)):v("",!0),d(" "+r(h.dtype)+" damage ",1)]))),128)),d(") Critical Hit on "+r(s.critRange)+". ",1),t("button",{type:"button",class:"print-hide btn-symbol",onClick:h=>s.edit=!0},"\u270E",8,ps),t("button",{type:"button",onClick:h=>e.removeAttack(i),class:"print-hide btn btn-sm btn-danger"},"X",8,ms),k(n,{modelValue:s.edit,"onUpdate:modelValue":h=>s.edit=h,class:T(e.userinfo.darkmode)},{default:C(()=>[d(" Name: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.name=h},null,8,vs),[[p,s.name]]),u(t("input",{type:"checkbox","onUpdate:modelValue":h=>s.prof=h},null,8,bs),[[M,s.prof]]),d("Proficient? "),u(t("select",{class:"form-control","onUpdate:modelValue":h=>s.stat=h},Cs,8,ys),[[w,s.stat]]),d(" Crit Roll: "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":h=>s.critRange=h},null,8,Ss),[[p,s.critRange]]),d(" Additional Attack Bonus: "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":h=>s.bonus=h},null,8,Vs),[[p,s.bonus]]),d(" Range: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.range=h},null,8,Us),[[p,s.range]]),d(" Type: "),u(t("select",{"onUpdate:modelValue":h=>s.type=h,class:"form-control"},Ps,8,Ms),[[w,s.type]]),(l(!0),a(y,null,$(s.damage,(h,b)=>(l(),a("div",{key:b},[d(" Damage Dice: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":f=>h.dice=f},null,8,Is),[[p,h.dice]]),d(" Damage Bonus (not including ability mod): "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":f=>h.damagebonus=f},null,8,Ns),[[p,h.damagebonus]]),u(t("input",{type:"checkbox","onUpdate:modelValue":f=>h.addstat=f},null,8,Es),[[M,h.addstat]]),d("Add Ability Mod to Damage?"),qs,d(" Damage Type: "),u(t("select",{"onUpdate:modelValue":f=>h.dtype=f,class:"form-control"},xs,8,Ws),[[w,h.dtype]]),t("button",{onClick:f=>e.removeDamage(s,b),class:"btn btn-sm btn-danger"},"Remove",8,en)]))),128)),t("button",{onClick:h=>e.addDamage(s),class:"btn btn-primary btn-sm"},"Add Damage",8,tn)]),_:2},1032,["modelValue","onUpdate:modelValue","class"])]))),128)),t("button",{type:"button",onClick:o[0]||(o[0]=s=>e.attackmodal=!0),class:"print-hide btn btn-primary btn-sm"},"+"),k(n,{modelValue:e.attackmodal,"onUpdate:modelValue":o[9]||(o[9]=s=>e.attackmodal=s),title:"Add Attack",onOk:o[10]||(o[10]=s=>e.addAttack())},{default:C(()=>[d(" Name: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>e.newattack.name=s)},null,512),[[p,e.newattack.name]]),u(t("input",{type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=s=>e.newattack.prof=s)},null,512),[[M,e.newattack.prof]]),d("Proficient? "),u(t("select",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=s=>e.newattack.stat=s)},un,512),[[w,e.newattack.stat]]),d(" Crit Roll: "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=s=>e.newattack.critRange=s)},null,512),[[p,e.newattack.critRange]]),d(" Additional Attack Bonus (do not include proficiency or ability mod): "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=s=>e.newattack.bonus=s)},null,512),[[p,e.newattack.bonus]]),d(" Range: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=s=>e.newattack.range=s)},null,512),[[p,e.newattack.range]]),d(" Type: "),u(t("select",{"onUpdate:modelValue":o[7]||(o[7]=s=>e.newattack.type=s),class:"form-control"},vn,512),[[w,e.newattack.type]]),(l(!0),a(y,null,$(e.newattack.damage,(s,i)=>(l(),a("div",{key:i},[d(" Damage Dice: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.dice=h},null,8,bn),[[p,s.dice]]),d(" Damage Bonus (not including ability mod): "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":h=>s.damagebonus=h},null,8,yn),[[p,s.damagebonus]]),u(t("input",{type:"checkbox","onUpdate:modelValue":h=>s.addstat=h},null,8,$n),[[M,s.addstat]]),d("Add Ability Mod to Damage?"),fn,d(" Damage Type: "),u(t("select",{"onUpdate:modelValue":h=>s.dtype=h,class:"form-control"},Pn,8,gn),[[w,s.dtype]]),t("button",{onClick:h=>e.removeDamage(e.newattack,i),class:"btn btn-sm btn-danger"},"Remove",8,In)]))),128)),t("button",{onClick:o[8]||(o[8]=s=>e.addDamage(e.newattack)),class:"btn btn-primary btn-sm"},"Add Damage")]),_:1},8,["modelValue"])])}const de=D(Bo,[["render",Nn]]),En={setup(){const e=A(),{character:o}=V(e);return{character:o}}},qn={class:"row"},Wn=t("h4",{class:"col-12"},"Various Bonuses",-1),Bn={class:"col-3"},Hn={class:"col-3"},Fn={class:"col-3"},jn={class:"col-3"},zn={class:"row"},On={class:"col-2"},Yn={class:"col-2"},Gn={class:"col-2"},Xn={class:"col-2"},Kn={class:"col-2"},Qn={class:"row"},Jn={class:"col-6"},Zn=R('<option value="tiny">Tiny</option><option value="small">Small</option><option value="medium">Medium</option><option value="large">Large</option><option value="huge">Huge</option>',5),xn=[Zn],el={class:"col-6"},tl=t("h5",null,"Bonus Spell Slots",-1),ol={class:"row"},sl={class:"col-3"},nl={class:"col-3"},ll={class:"col-3"},al={class:"col-3"},il={class:"col-3"},rl={class:"col-3"},ul={class:"col-3"},dl={class:"col-3"},cl={class:"col-3"},hl={class:"col-3"},pl={class:"col-3"},ml=t("h5",null,"Save DC Bonus",-1),vl={class:"table table-sm"},bl=["onUpdate:modelValue"],yl=t("h5",null,"Spell Attack Bonus",-1),$l={class:"table table-sm"},fl=["onUpdate:modelValue"],gl=t("h5",null,"Bonus Spells Known",-1),kl={class:"table table-sm"},_l=["onUpdate:modelValue"],wl=t("h5",null,"Damage Reduction",-1),Cl={class:"table table-sm"},Sl=t("th",null,"Piercing",-1),Vl=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Ul=[Vl],Ml=t("th",null,"Slashing",-1),Al=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Dl=[Al],Tl=t("th",null,"Bludgeoning",-1),Rl=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Ll=[Rl],Pl=t("th",null,"Acid",-1),Il=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Nl=[Il],El=t("th",null,"Cold",-1),ql=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Wl=[ql],Bl=t("th",null,"Fire",-1),Hl=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Fl=[Hl],jl=t("th",null,"Force",-1),zl=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Ol=[zl],Yl=t("th",null,"Lightning",-1),Gl=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Xl=[Gl],Kl=t("th",null,"Necrotic",-1),Ql=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),Jl=[Ql],Zl=t("th",null,"Poison",-1),xl=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),ea=[xl],ta=t("th",null,"Psychic",-1),oa=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),sa=[oa],na=t("th",null,"Radiant",-1),la=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistance</option><option value="immunity">Immunity</option><option value="vulnerable">Vulnerable</option>',5),aa=[la],ia=t("th",null,"Thunder",-1),ra=R('<option value="0">0</option><option value="3">3</option><option value="resistance">Resistant</option><option value="immunity">Immune</option><option value="vulnerable">Vulnerable</option>',5),ua=[ra];function da(e,o,c,m,g,_){return l(),a("div",null,[t("div",qn,[Wn,t("div",Bn,[u(t("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[0]||(o[0]=n=>e.character.initmagic=n)},null,512),[[p,e.character.initmagic]]),d(" Initiative ")]),t("div",Hn,[u(t("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[1]||(o[1]=n=>e.character.hpmagic=n)},null,512),[[p,e.character.hpmagic]]),d(" Hit Points ")]),t("div",Fn,[u(t("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[2]||(o[2]=n=>e.character.acmagic=n)},null,512),[[p,e.character.acmagic]]),d(" AC ")]),t("div",jn,[u(t("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[3]||(o[3]=n=>e.character.bonusfeats=n)},null,512),[[p,e.character.bonusfeats]]),d(" Bonus Feats ")])]),t("div",zn,[t("div",On,[u(t("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[4]||(o[4]=n=>e.character.speedmagic[0]=n)},null,512),[[p,e.character.speedmagic[0]]]),d(" Speed ")]),t("div",Yn,[u(t("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[5]||(o[5]=n=>e.character.speedmagic[1]=n)},null,512),[[p,e.character.speedmagic[1]]]),d(" Fly ")]),t("div",Gn,[u(t("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[6]||(o[6]=n=>e.character.speedmagic[2]=n)},null,512),[[p,e.character.speedmagic[2]]]),d(" Climb ")]),t("div",Xn,[u(t("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[7]||(o[7]=n=>e.character.speedmagic[3]=n)},null,512),[[p,e.character.speedmagic[3]]]),d(" Swim ")]),t("div",Kn,[u(t("input",{class:"charsheet-text",type:"number","onUpdate:modelValue":o[8]||(o[8]=n=>e.character.speedmagic[4]=n)},null,512),[[p,e.character.speedmagic[4]]]),d(" Burrow ")])]),t("div",Qn,[t("div",Jn,[u(t("select",{"onUpdate:modelValue":o[9]||(o[9]=n=>e.character.size=n),class:"charsheet-text"},xn,512),[[w,e.character.size]]),d("Effective Size for Carry Capacity ")]),t("div",el,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[10]||(o[10]=n=>e.character.capacitybonus=n)},null,512),[[p,e.character.capacitybonus]]),d(" Carry Capacity Bonus ")])]),tl,t("div",ol,[t("div",sl,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[11]||(o[11]=n=>e.character.bonusslots[0]=n)},null,512),[[p,e.character.bonusslots[0]]]),d(" level 1 ")]),t("div",nl,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[12]||(o[12]=n=>e.character.bonusslots[1]=n)},null,512),[[p,e.character.bonusslots[1]]]),d(" level 2 ")]),t("div",ll,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[13]||(o[13]=n=>e.character.bonusslots[2]=n)},null,512),[[p,e.character.bonusslots[2]]]),d(" level 3 ")]),t("div",al,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[14]||(o[14]=n=>e.character.bonusslots[3]=n)},null,512),[[p,e.character.bonusslots[3]]]),d(" level 4 ")]),t("div",il,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[15]||(o[15]=n=>e.character.bonusslots[4]=n)},null,512),[[p,e.character.bonusslots[4]]]),d(" level 5 ")]),t("div",rl,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[16]||(o[16]=n=>e.character.bonusslots[5]=n)},null,512),[[p,e.character.bonusslots[5]]]),d(" level 6 ")]),t("div",ul,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[17]||(o[17]=n=>e.character.bonusslots[6]=n)},null,512),[[p,e.character.bonusslots[6]]]),d(" level 7 ")]),t("div",dl,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[18]||(o[18]=n=>e.character.bonusslots[7]=n)},null,512),[[p,e.character.bonusslots[7]]]),d(" level 8 ")]),t("div",cl,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[19]||(o[19]=n=>e.character.bonusslots[8]=n)},null,512),[[p,e.character.bonusslots[8]]]),d(" level 9 ")]),t("div",hl,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[20]||(o[20]=n=>e.character.warlockslotsmagic=n)},null,512),[[p,e.character.warlockslotsmagic]]),d(" Warlock ")]),t("div",pl,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":o[21]||(o[21]=n=>e.character.bonuscantrips=n)},null,512),[[p,e.character.bonuscantrips]]),d(" Bonus Cantrips ")])]),ml,t("table",vl,[(l(!0),a(y,null,$(e.character.charclasses,n=>(l(),a("tr",{key:n.thisclass.name},[t("th",null,r(n.thisclass.name),1),t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":s=>n.savedcbonus=s},null,8,bl),[[p,n.savedcbonus]])])]))),128))]),yl,t("table",$l,[(l(!0),a(y,null,$(e.character.charclasses,n=>(l(),a("tr",{key:n.thisclass.name},[t("th",null,r(n.thisclass.name),1),t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":s=>n.spellattackbonus=s},null,8,fl),[[p,n.spellattackbonus]])])]))),128))]),gl,t("table",kl,[(l(!0),a(y,null,$(e.character.charclasses,(n,s)=>(l(),a("tr",{key:s},[t("td",null,r(n.thisclass.name),1),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":i=>n.bonusknown=i,class:"charsheet-num"},null,8,_l),[[p,n.bonusknown]])])]))),128))]),wl,t("table",Cl,[t("tr",null,[Sl,t("td",null,[u(t("select",{"onUpdate:modelValue":o[22]||(o[22]=n=>e.character.dr.piercing=n)},Ul,512),[[w,e.character.dr.piercing]])])]),t("tr",null,[Ml,t("td",null,[u(t("select",{"onUpdate:modelValue":o[23]||(o[23]=n=>e.character.dr.slashing=n)},Dl,512),[[w,e.character.dr.slashing]])])]),t("tr",null,[Tl,t("td",null,[u(t("select",{"onUpdate:modelValue":o[24]||(o[24]=n=>e.character.dr.bludgeoning=n)},Ll,512),[[w,e.character.dr.bludgeoning]])])]),t("tr",null,[Pl,t("td",null,[u(t("select",{"onUpdate:modelValue":o[25]||(o[25]=n=>e.character.dr.acid=n)},Nl,512),[[w,e.character.dr.acid]])])]),t("tr",null,[El,t("td",null,[u(t("select",{"onUpdate:modelValue":o[26]||(o[26]=n=>e.character.dr.cold=n)},Wl,512),[[w,e.character.dr.cold]])])]),t("tr",null,[Bl,t("td",null,[u(t("select",{"onUpdate:modelValue":o[27]||(o[27]=n=>e.character.dr.fire=n)},Fl,512),[[w,e.character.dr.fire]])])]),t("tr",null,[jl,t("td",null,[u(t("select",{"onUpdate:modelValue":o[28]||(o[28]=n=>e.character.dr.force=n)},Ol,512),[[w,e.character.dr.force]])])]),t("tr",null,[Yl,t("td",null,[u(t("select",{"onUpdate:modelValue":o[29]||(o[29]=n=>e.character.dr.lightning=n)},Xl,512),[[w,e.character.dr.lightning]])])]),t("tr",null,[Kl,t("td",null,[u(t("select",{"onUpdate:modelValue":o[30]||(o[30]=n=>e.character.dr.necrotic=n)},Jl,512),[[w,e.character.dr.necrotic]])])]),t("tr",null,[Zl,t("td",null,[u(t("select",{"onUpdate:modelValue":o[31]||(o[31]=n=>e.character.dr.poison=n)},ea,512),[[w,e.character.dr.poison]])])]),t("tr",null,[ta,t("td",null,[u(t("select",{"onUpdate:modelValue":o[32]||(o[32]=n=>e.character.dr.psychic=n)},sa,512),[[w,e.character.dr.psychic]])])]),t("tr",null,[na,t("td",null,[u(t("select",{"onUpdate:modelValue":o[33]||(o[33]=n=>e.character.dr.radiant=n)},aa,512),[[w,e.character.dr.radiant]])])]),t("tr",null,[ia,t("td",null,[u(t("select",{"onUpdate:modelValue":o[34]||(o[34]=n=>e.character.dr.thunder=n)},ua,512),[[w,e.character.dr.thunder]])])])])])}const ca=D(En,[["render",da]]),ha={setup(){const e=A(),o=H(),{character:c}=V(e),{classesv2:m}=V(o),g=e.addclass,_=e.removeclass;return{character:c,classes:m,addclass:g,removeclass:_}}},pa={class:"col-sm-3"},ma=["onUpdate:modelValue"],va=["value"],ba=["value"],ya={class:"col-sm-4"},$a=["onUpdate:modelValue"],fa=["value"],ga=["value"],ka={class:"col-sm-2"},_a=["onUpdate:modelValue"],wa={class:"col-sm-2"},Ca=["onUpdate:modelValue"],Sa=R('<option value="0">STR</option><option value="1">DEX</option><option value="2">CON</option><option value="3">INT</option><option value="4">WIS</option><option value="5">CHA</option>',6),Va=[Sa],Ua={class:"col-sm-1"},Ma=["onClick"],Aa={class:"row"},Da={class:"col-12 btn-group"};function Ta(e,o,c,m,g,_){return l(),a("div",null,[(l(!0),a(y,null,$(e.character.charclasses,(n,s)=>(l(),a("div",{class:"row",key:s},[t("div",pa,[u(t("select",{class:"charsheet-text","onUpdate:modelValue":i=>n.thisclass=i},[t("option",{value:n.thisclass},r(n.thisclass.name),9,va),(l(!0),a(y,null,$(e.classes,i=>(l(),a("option",{value:i,key:i.name},r(i.name),9,ba))),128))],8,ma),[[w,n.thisclass]])]),t("div",ya,[u(t("select",{class:"charsheet-text","onUpdate:modelValue":i=>n.selsubclass=i},[t("option",{value:n.selsubclass},r(n.selsubclass.name),9,fa),(l(!0),a(y,null,$(n.thisclass.subclass,i=>(l(),a("option",{value:i,key:i.name},r(i.name),9,ga))),128))],8,$a),[[w,n.selsubclass]])]),t("div",ka,[u(t("input",{type:"number",class:"charsheet-text","onUpdate:modelValue":i=>n.level=i},null,8,_a),[[p,n.level]])]),t("div",wa,[u(t("select",{class:"charsheet-text","onUpdate:modelValue":i=>n.savedcstat=i},Va,8,Ca),[[w,n.savedcstat]])]),t("div",Ua,[t("button",{type:"button",class:"btn btn-sm btn-danger",onClick:i=>e.removeclass(s)},"X",8,Ma)])]))),128)),t("div",Aa,[t("div",Da,[t("button",{class:"btn btn-primary btn-sm",type:"button",onClick:o[0]||(o[0]=n=>e.addclass())},"+")]),d(" Class(es) ")])])}const Ra=D(ha,[["render",Ta]]),La={setup(){const e=A(),{character:o}=V(e);return{character:o}}},Pa=t("h5",null,"Campaign Information",-1),Ia={title:"Give this value to your DM to invite you to the campaign"},Na={key:0},Ea=t("br",null,null,-1),qa=t("a",{href:"/static/zip/elthelasextension.zip"},"Download the Chrome/Firefox Extension",-1);function Wa(e,o,c,m,g,_){const n=S("router-link");return l(),a("div",null,[Pa,t("span",Ia,"ID: "+r(e.character._id),1),e.character._id?(l(),a("p",Na,[k(n,{to:"/tools/charbuilder/"+e.character._id},{default:C(()=>[d("Copy this link to share your character")]),_:1},8,["to"]),Ea,qa,d(" (allows you to make rolls in roll20) ")])):v("",!0)])}const Ba=D(La,[["render",Wa]]),Ha={setup(){const e=A(),o=re(),c=H(),{character:m,classtext:g}=V(e),{builderAncestries:_,backgroundsv2:n}=V(c),{mobile:s}=V(o),i=e.setRaceDefaults;return{character:m,ancestries:_,classtext:g,backgrounds:n,mobile:s,setRaceDefaults:i}}},Fa={class:"row"},ja={class:"col-sm-10"},za={class:"row"},Oa={class:"col"},Ya={class:"col"},Ga={class:"col"},Xa=["value"],Ka=["value"],Qa={class:"row"},Ja={class:"col"},Za=["value"],xa=["value"],ei={class:"print-hide"},ti={class:"col"},oi={class:"charsheet-text"},si={key:0,class:"col-sm-2"},ni={key:0,src:"https://elthelas-images.herokuapp.com/swordshieldlogo.png",class:"ddlogo desktop print-hide"},li=["src","alt"];function ai(e,o,c,m,g,_){return l(),a("div",Fa,[t("div",ja,[t("div",za,[t("div",Oa,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[0]||(o[0]=n=>e.character.name=n)},null,512),[[p,e.character.name]]),d(" Character Name ")]),t("div",Ya,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[1]||(o[1]=n=>e.character.player=n)},null,512),[[p,e.character.player]]),d(" Player ")]),t("div",Ga,[u(t("select",{"onUpdate:modelValue":o[2]||(o[2]=n=>e.character.background=n),class:"charsheet-text"},[t("option",{value:e.character.background},r(e.character.background.name),9,Xa),(l(!0),a(y,null,$(e.backgrounds,n=>(l(),a("option",{value:n,key:n.name},r(n.name),9,Ka))),128))],512),[[w,e.character.background]]),d(" Background ")])]),t("div",Qa,[t("div",Ja,[u(t("select",{onChange:o[3]||(o[3]=n=>e.setRaceDefaults()),"onUpdate:modelValue":o[4]||(o[4]=n=>e.character.race=n),class:"charsheet-text"},[t("option",{value:e.character.race},r(e.character.race.singular),9,Za),(l(!0),a(y,null,$(e.ancestries,n=>(l(),a("option",{key:n.id,value:n},r(n.singular),9,xa))),128))],544),[[w,e.character.race]]),t("div",ei,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[5]||(o[5]=n=>e.character.race.singular=n)},null,512),[[p,e.character.race.singular]])]),d(" Ancestry ")]),t("div",ti,[t("div",oi,r(e.classtext),1),d(" Class(es) ")])])]),e.mobile?v("",!0):(l(),a("div",si,[e.character.image?(l(),a("img",{key:1,src:e.character.image,alt:e.character.name,class:"ddlogo desktop"},null,8,li)):(l(),a("img",ni))]))])}const ii=D(Ha,[["render",ai]]),ri={setup(){const e=A(),o=I(),{character:c,accalc:m,pccalc:g,armorac:_,armorpc:n,profbonus:s,getSpeedStat:i,getStatMod:h}=V(e),b=e.removeArmor;return{userinfo:o,character:c,accalc:m,pccalc:g,armorac:_,armorpc:n,profbonus:s,getSpeedStat:i,removeArmor:b,getStatMod:h}},data(){return{newarmor:{name:"",type:"",ac:0,pc:0,maxdex:0,edit:!1},armormodal:!1}},methods:{addArmor(){this.character.armors.push(this.newarmor),this.newarmor={name:"",type:"",ac:0,pc:0,maxdex:0,edit:!1},this.armormodal=!1}}},ui={class:"row"},di={class:"col-4"},ci={class:"charsheet-static center"},hi=t("br",null,null,-1),pi={class:"col-4"},mi={class:"charsheet-static center"},vi=t("br",null,null,-1),bi={class:"col-4"},yi={class:"charsheet-static center"},$i=t("br",null,null,-1),fi={key:0},gi={class:"row"},ki={class:"col"},_i={class:"charsheet-static"},wi={class:"row"},Ci={class:"col"},Si=t("br",null,null,-1),Vi=t("br",null,null,-1),Ui={class:"col"},Mi=t("br",null,null,-1),Ai={class:"row combat-hud-hide"},Di={class:"col"},Ti={class:"charsheet-static",id:"armorbox"},Ri=t("h4",null,"Armor",-1),Li={key:0},Pi=["onUpdate:modelValue"],Ii=["onClick"],Ni=["onClick"],Ei=["onUpdate:modelValue"],qi=["onUpdate:modelValue"],Wi=t("option",null,"Unarmored Bonus",-1),Bi=t("option",null,"Light",-1),Hi=t("option",null,"Medium",-1),Fi=t("option",null,"Heavy",-1),ji=t("option",null,"Shield",-1),zi=[Wi,Bi,Hi,Fi,ji],Oi={key:0},Yi=["onUpdate:modelValue"],Gi=t("option",{value:0},"Strength",-1),Xi=t("option",{value:1},"Dexterity",-1),Ki=t("option",{value:2},"Constitution",-1),Qi=t("option",{value:3},"Intelligence",-1),Ji=t("option",{value:4},"Wisdom",-1),Zi=t("option",{value:5},"Charisma",-1),xi=[Gi,Xi,Ki,Qi,Ji,Zi],er=["onUpdate:modelValue"],tr=["onUpdate:modelValue"],or=["onUpdate:modelValue"],sr=t("option",null,"Unarmored Bonus",-1),nr=t("option",null,"Light Armor",-1),lr=t("option",null,"Medium Armor",-1),ar=t("option",null,"Heavy Armor",-1),ir=t("option",null,"Shield",-1),rr=[sr,nr,lr,ar,ir],ur={key:0},dr=t("option",{value:0},"Strength",-1),cr=t("option",{value:1},"Dexterity",-1),hr=t("option",{value:2},"Constitution",-1),pr=t("option",{value:3},"Intelligence",-1),mr=t("option",{value:4},"Wisdom",-1),vr=t("option",{value:5},"Charisma",-1),br=[dr,cr,hr,pr,mr,vr];function yr(e,o,c,m,g,_){const n=S("b-modal");return l(),a("div",null,[t("div",ui,[t("div",di,[t("div",ci,[d(" AC"),hi,d(r(e.accalc),1)])]),t("div",pi,[t("div",mi,[d(" PP/Lvl"),vi,d(" "+r(e.pccalc),1)])]),t("div",bi,[t("div",yi,[d(" Prof"),$i,e.profbonus>-1?(l(),a("span",fi,"+")):v("",!0),d(r(e.profbonus),1)])])]),t("div",gi,[t("div",ki,[t("div",_i,[t("div",wi,[t("div",Ci,[d(" Speed: "+r(e.getSpeedStat(0))+"m",1),Si,d(" Climb: "+r(e.getSpeedStat(2))+"m",1),Vi,d(" Burrow: "+r(e.getSpeedStat(4))+"m ",1)]),t("div",Ui,[d(" Fly: "+r(e.getSpeedStat(1))+"m",1),Mi,d(" Swim: "+r(e.getSpeedStat(3))+"m ",1)])])])])]),t("div",Ai,[t("div",Di,[t("div",Ti,[Ri,(l(!0),a(y,null,$(e.character.armors,(s,i)=>(l(),a("div",{class:"smalltext",key:i},[d(r(s.name)+", "+r(s.type)+", AC "+r(e.armorac(s))+" ",1),s.type!=="Shield"&&s.type!=="Unarmored Bonus"?(l(),a("span",Li,"("+r(s.ac)+" + "+r(Math.max(0,Math.min(e.getStatMod(1),s.maxdex)))+")",1)):v("",!0),d(" , PC "+r(e.armorpc(s))+" ",1),u(t("input",{type:"checkbox","onUpdate:modelValue":h=>s.equipped=h},null,8,Pi),[[M,s.equipped]]),t("button",{type:"button",class:"print-hide btn-symbol",onClick:h=>s.edit=!0},"\u270E",8,Ii),t("button",{type:"button",onClick:h=>e.removeArmor(i),class:"print-hide btn btn-sm btn-danger"},"X",8,Ni),k(n,{modelValue:s.edit,"onUpdate:modelValue":h=>s.edit=h,class:T(e.userinfo.darkmode)},{default:C(()=>[d(" Name: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.name=h},null,8,Ei),[[p,s.name]]),d(" Type: "),u(t("select",{"onUpdate:modelValue":h=>s.type=h,class:"form-control"},zi,8,qi),[[w,s.type]]),s.type==="Unarmored Bonus"?(l(),a("div",Oi,[d(" Unarmored Bonus Stat "),u(t("select",{"onUpdate:modelValue":h=>s.unarmoredstat=h,class:"form-control"},xi,8,Yi),[[w,s.unarmoredstat]])])):v("",!0),d(" AC: "),u(t("input",{type:"number","onUpdate:modelValue":h=>s.ac=h,class:"form-control"},null,8,er),[[p,s.ac]]),d(" PP/Level: "),u(t("input",{type:"number","onUpdate:modelValue":h=>s.pc=h,class:"form-control"},null,8,tr),[[p,s.pc]]),d(" Max Dex: "),u(t("input",{type:"number","onUpdate:modelValue":h=>s.maxdex=h,class:"form-control"},null,8,or),[[p,s.maxdex]])]),_:2},1032,["modelValue","onUpdate:modelValue","class"])]))),128)),t("button",{type:"button",onClick:o[0]||(o[0]=s=>e.armormodal=!0),class:"btn btn-sm btn-primary print-hide"},"+"),k(n,{modelValue:e.armormodal,"onUpdate:modelValue":o[7]||(o[7]=s=>e.armormodal=s),onOk:o[8]||(o[8]=s=>e.addArmor()),"modal-class":e.userinfo.themesetting},{default:C(()=>[d(" Name: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>e.newarmor.name=s)},null,512),[[p,e.newarmor.name]]),d(" Type: "),u(t("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>e.newarmor.type=s),class:"form-control"},rr,512),[[w,e.newarmor.type]]),e.newarmor.type==="Unarmored Bonus"?(l(),a("div",ur,[d(" Unarmored Bonus Stat "),u(t("select",{"onUpdate:modelValue":o[3]||(o[3]=s=>e.newarmor.unarmoredstat=s),class:"form-control"},br,512),[[w,e.newarmor.unarmoredstat]])])):v("",!0),d(" AC: "),u(t("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=s=>e.newarmor.ac=s),class:"form-control"},null,512),[[p,e.newarmor.ac]]),d(" PP/Level: "),u(t("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=s=>e.newarmor.pc=s),class:"form-control"},null,512),[[p,e.newarmor.pc]]),d(" Max Dex: "),u(t("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=s=>e.newarmor.maxdex=s),class:"form-control"},null,512),[[p,e.newarmor.maxdex]])]),_:1},8,["modelValue","modal-class"])])])])])}const ce=D(ri,[["render",yr]]),$r={setup(){const e=A(),{character:o,getHPTotal:c,maxExhaustion:m,getPPTotal:g}=V(e),_=e.shortrest,n=e.longrest;return{character:o,getHPTotal:c,getPPTotal:g,shortrest:_,longrest:n,maxExhaustion:m}},data:function(){return{damagetaken:0,dtype:"piercing",dlog:[]}},methods:{applyDamage(){let e=this.damagetaken;this.dtype==="healing"?(e=-e,this.character.hpcurrent-=e,this.character.hpcurrent>this.getHPTotal&&(this.character.hpcurrent=this.getHPTotal)):(this.character.dr[this.dtype]==="3"?e=Math.max(e-3,0):this.character.dr[this.dtype]==="resistance"?e=Math.max(Math.floor(e/2),1):this.character.dr[this.dtype]==="immunity"?e=0:this.character.dr[this.dtype]==="vulnerable"&&(e*=2),this.character.temphp-=e,this.character.temphp<0&&(this.character.ppcurrent+=this.character.temphp,this.character.temphp=0,this.character.ppcurrent<0&&(this.character.hpcurrent+=this.character.ppcurrent,this.character.ppcurrent=0,this.character.hpcurrent<0&&(this.character.hpcurrent=0))))}}},fr={class:"row"},gr={class:"col"},kr={class:"charsheet-static"},_r=t("br",null,null,-1),wr=t("br",null,null,-1),Cr=t("br",null,null,-1),Sr={class:"row"},Vr=t("div",{class:"col-5"},"Hit Dice:",-1),Ur={class:"col-7"},Mr=["onUpdate:modelValue"],Ar={class:"row print-hide"},Dr={class:"col"},Tr={class:"charsheet-static"},Rr={class:"row"},Lr={class:"col-sm-6"},Pr={class:"col-sm-6"},Ir={class:"btn-group"},Nr={key:0,class:"alert alert-warning smalltext"},Er=R('<option value="piercing">Piercing</option><option value="slashing">Slashing</option><option value="bludgeoning">Bludgeoning</option><option value="acid">Acid</option><option value="cold">Cold</option><option value="fire">Fire</option><option value="force">Force</option><option value="lightning">Lightning</option><option value="necrotic">Necrotic</option><option value="poison">Poison</option><option value="psychic">Psychic</option><option value="radiant">Radiant</option><option value="thunder">Thunder</option><option value="ignore">Ignores Resistance</option><option value="healing">Healing</option>',15),qr=[Er],Wr={class:"row print-hide combat-hud-hide",style:{"margin-top":"10px"}},Br={class:"btn-group col-12 print-hide"};function Hr(e,o,c,m,g,_){return l(),a("div",null,[t("div",fr,[t("div",gr,[t("div",kr,[d(" HP: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[0]||(o[0]=n=>e.character.hpcurrent=n),disabled:""},null,512),[[p,e.character.hpcurrent]]),d(" / "+r(e.getHPTotal)+" Max ",1),_r,d(" PP: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[1]||(o[1]=n=>e.character.ppcurrent=n)},null,512),[[p,e.character.ppcurrent]]),d(" / "+r(e.getPPTotal)+" Max ",1),wr,d(" Temporary: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[2]||(o[2]=n=>e.character.temphp=n)},null,512),[[p,e.character.temphp]]),d(),Cr,d(" Exhaustion: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[3]||(o[3]=n=>e.character.exhaustion=n),min:"0",max:"12",step:"1"},null,512),[[p,e.character.exhaustion]]),d(" / "+r(e.maxExhaustion)+" ",1),t("div",Sr,[Vr,t("div",Ur,[(l(!0),a(y,null,$(e.character.charclasses,n=>(l(),a("div",{key:n.thisclass.name},[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":s=>n.hitdice=s},null,8,Mr),[[p,n.hitdice]]),d(" / "+r(n.level)+"d"+r(n.thisclass.hitdie),1)]))),128))])])])])]),t("div",Ar,[t("div",Dr,[t("div",Tr,[t("div",Rr,[t("div",Lr,[d(" Damage: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[4]||(o[4]=n=>e.damagetaken=n),min:0},null,512),[[p,e.damagetaken]])]),t("div",Pr,[t("div",Ir,[t("input",{type:"button",class:"btn btn-sm btn-danger",value:"Take Damage",onClick:o[5]||(o[5]=n=>e.applyDamage())})])])]),e.character.dr[e.dtype]!="0"?(l(),a("div",Nr," Affected by Resistance ")):v("",!0),u(t("select",{class:"charsheet-text","onUpdate:modelValue":o[6]||(o[6]=n=>e.dtype=n)},qr,512),[[w,e.dtype]])])])]),t("div",Wr,[t("div",Br,[t("button",{class:"btn btn-primary",onClick:o[7]||(o[7]=n=>e.shortrest())},"Short Rest"),t("button",{class:"btn btn-success",onClick:o[8]||(o[8]=n=>e.longrest())},"Long Rest")])])])}const he=D($r,[["render",Hr]]),ae={addAbility(e,o,c,m,g,_){if(Number(_.level)>=g){let n={name:o,current:c,max:c,recharge:m},s=e.resources.findIndex(i=>i.name===o);s!==-1?e.resources.splice(s,1,n):e.resources.push(n)}},resourcePopulator:function(e,o,c){if(o.level>=c.minlevel&&c.recovery!=="none"){var m={name:c.name,recharge:c.recovery},g;c.counttype.substring(0,3)==="STR"?(g=Number(c.counttype.substring(3)),m.max=B.statMod(e,0)*g+c.count):c.counttype.substring(0,3)==="DEX"?(g=Number(c.counttype.substring(3)),m.max=B.statMod(e,1)*g+c.count):c.counttype.substring(0,3)==="CON"?(g=Number(c.counttype.substring(3)),m.max=B.statMod(e,2)*g+c.count):c.counttype.substring(0,3)==="INT"?(g=Number(c.counttype.substring(3)),m.max=B.statMod(e,3)*g+c.count):c.counttype.substring(0,3)==="WIS"?(g=Number(c.counttype.substring(3)),m.max=B.statMod(e,4)*g+c.count):c.counttype.substring(0,3)==="CHA"?(g=Number(c.counttype.substring(3)),m.max=B.statMod(e,5)*g+c.count):c.counttype==="table"?m.max=c.count.findLast(n=>n[0]<=o.level)[1]:c.counttype==="fixed"?m.max=c.count:c.counttype==="prof"?m.max=B.profbonus(e)+c.count:c.counttype.substring(0,5)==="level"&&(g=Number(c.counttype.substring(5)),m.max=o.level*g+c.count),m.name==="Bardic Inspiration"&&o.level>=5&&(m.recharge="shortrest"),m.current=m.max;let _=e.resources.findIndex(n=>n.name===c.name);_!==-1?e.resources.splice(_,1,m):e.resources.push(m)}}},Fr={setup(){const e=A(),{character:o,getStatMod:c,totalslots:m,warlockSlots:g,warlockSlotLevel:_,shortrest:n,longrest:s}=V(e);return{character:o,getStatMod:c,totalslots:m,warlockSlots:g,warlockSlotLevel:_,shortrest:n,longrest:s}},methods:{addResource(){this.character.resources.push({id:Date.now()+Math.random(),name:"",current:0,max:0,recharge:"never"})},removeResource(e){if(window.confirm("are you sure you want to delete "+this.character.resources[e].name+"?")){let c=this.character.actions.filter(m=>m.resourceused.name===this.character.resources[e].name);c.length>0?c.forEach(m=>{alert("Cannot delete resource "+this.character.resources[e].name+". It is still used by the action "+m.name)}):this.character.resources.splice(e,1)}},useResource(e){this.character.resources[e].current>0?this.character.resources[e].current--:alert("Cannot use "+this.character.resources[e].name+", already expended.")},populateResources(){this.character.charclasses.forEach(e=>{e.thisclass.resources.forEach(o=>{ae.resourcePopulator(this.character,e,o)}),e.selsubclass.resources.forEach(o=>{ae.resourcePopulator(this.character,e,o)})})}}},jr={class:"charsheet-static smalltext"},zr=t("h4",null,"Various Resources",-1),Or={class:"col-5"},Yr=["onUpdate:modelValue"],Gr=["onClick"],Xr={class:"col-2"},Kr=["onUpdate:modelValue"],Qr=["onUpdate:modelValue"],Jr={class:"col-2"},Zr=["onUpdate:modelValue"],xr=t("option",{value:"none"},"Never/Other",-1),eu=t("option",{value:"shortrest"},"Short Rest",-1),tu=t("option",{value:"longrest"},"Long Rest",-1),ou=[xr,eu,tu],su=["onClick"],nu={class:"row print-hide",style:{"margin-top":"10px"}},lu={class:"btn-group col-12"},au=t("h6",null,"Spell Slots",-1),iu={class:"row print-hide"},ru={class:"col"};function uu(e,o,c,m,g,_){return l(),a("div",jr,[zr,(l(!0),a(y,null,$(e.character.resources,(n,s)=>(l(),a("div",{class:"row",key:s,style:{"margin-top":"2px"}},[t("div",Or,[u(t("input",{type:"text","onUpdate:modelValue":i=>n.name=i,class:"charsheet-text"},null,8,Yr),[[p,n.name]])]),t("button",{class:"btn btn-sm btn-primary print-hide col-1",onClick:i=>e.useResource(s)},"Use",8,Gr),t("div",Xr,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":i=>n.current=i},null,8,Kr),[[p,n.current]]),d(" / "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":i=>n.max=i},null,8,Qr),[[p,n.max]])]),t("div",Jr,[u(t("select",{"onUpdate:modelValue":i=>n.recharge=i,class:"charsheet-text"},ou,8,Zr),[[w,n.recharge]])]),t("button",{class:"btn btn-sm btn-danger print-hide col-1",onClick:i=>e.removeResource(s)},"X",8,su)]))),128)),t("div",nu,[t("div",lu,[t("button",{type:"button",class:"btn btn-sm print-hide btn-primary",onClick:o[0]||(o[0]=n=>e.addResource())},"+"),t("button",{type:"button",class:"btn btn-sm btn-success print-hide",onClick:o[1]||(o[1]=n=>e.populateResources())},"Populate from Classes"),t("button",{class:"btn btn-primary btn-sm",onClick:o[2]||(o[2]=n=>e.shortrest())},"Short Rest"),t("button",{class:"btn btn-success btn-sm",onClick:o[3]||(o[3]=n=>e.longrest())},"Long Rest")])]),au,t("div",iu,[(l(),a(y,null,$(9,n=>t("div",{class:"col",key:n}," Lvl "+r(n)+": "+r(e.character.availableslots["level"+n])+" / "+r(e.totalslots("level"+n)),1)),64)),t("div",ru," Wck: "+r(e.character.warlockslotsavailable)+" / "+r(e.warlockSlots)+" Lvl "+r(e.warlockSlotLevel),1)])])}const pe=D(Fr,[["render",uu]]),du={setup(){const e=A(),{character:o,getSaveMod:c,getSkillMod:m,getSaveDC:g,getAttBonus:_}=V(e);return{character:o,getSaveMod:c,getSkillMod:m,getSaveDC:g,getAttBonus:_}},components:{hitpoints:he,combat:ce,attacks:de,actions:ue,resources:pe},computed:{athletics(){return this.character.skills.filter(e=>e.name==="Athletics")[0]},acrobatics(){return this.character.skills.filter(e=>e.name==="Acrobatics")[0]},perception(){return this.character.skills.filter(e=>e.name==="Perception")[0]},stealth(){return this.character.skills.filter(e=>e.name==="Stealth")[0]},numConcentrating(){return this.character.activemodifiers.reduce((e,o)=>e+o.concentrating,0)}},props:{combatModal:Boolean},methods:{addActiveModifier(){this.character.activemodifiers.push({id:Date.now()+Math.random(),modifier:"",remaining:10,concentrating:!1})},removeActiveModifier(e){this.character.activemodifiers.splice(this.character.activemodifiers.findIndex(o=>o.id===e),1)},passTime(e){this.character.activemodifiers.forEach(o=>{o.remaining-=e}),this.character.activemodifiers=this.character.activemodifiers.filter(o=>(o.remaining<=0&&alert(o.modifier+" has ended"),o.remaining>0))},rollCheck(e){let o=P.roll("1d20").total,c=P.roll("1d20").total;alert("Base Roll: "+(o+e)+" ("+o+" + "+e+`)
Adv/Dis Roll: `+(c+e)+" ("+c+" + "+e+")")}}},cu={class:"combat-hud"},hu={class:"row"},pu={class:"col-5"},mu={class:"charsheet-static"},vu=t("h6",null,"Select Skills",-1),bu={class:"row"},yu={class:"col"},$u=t("br",null,null,-1),fu={key:0},gu={class:"col"},ku=t("br",null,null,-1),_u={key:0},wu={class:"col"},Cu=t("br",null,null,-1),Su={key:0},Vu={class:"col"},Uu=t("br",null,null,-1),Mu={key:0},Au={class:"col-2"},Du={class:"charsheet-static"},Tu={class:"col-5"},Ru={class:"charsheet-static"},Lu=t("h6",null,"Saves",-1),Pu={class:"row"},Iu={class:"col"},Nu=t("br",null,null,-1),Eu={key:0},qu={class:"col"},Wu=t("br",null,null,-1),Bu={key:0},Hu={class:"col"},Fu=t("br",null,null,-1),ju={key:0},zu={class:"col"},Ou=t("br",null,null,-1),Yu={key:0},Gu={class:"col"},Xu=t("br",null,null,-1),Ku={key:0},Qu={class:"col"},Ju=t("br",null,null,-1),Zu={key:0},xu={class:"row"},ed={class:"col-6"},td={class:"row"},od={class:"col-4"},sd={class:"col-8"},nd={class:"col-6"},ld={class:"charsheet-static"},ad=t("h4",null,"Active Modifiers",-1),id=t("div",{class:"row"},[t("div",{class:"col-7"},"Modifier"),t("div",{class:"col-2"},"Time"),t("div",{class:"col-2"},"Concentration?")],-1),rd={class:"col-7"},ud=["onUpdate:modelValue"],dd={class:"col-2"},cd=["onUpdate:modelValue"],hd={class:"col-2"},pd=["onUpdate:modelValue"],md=t("option",{value:!1},"No",-1),vd=t("option",{value:!0},"Yes",-1),bd=[md,vd],yd={class:"col-1"},$d=["onClick"],fd={class:"row"},gd={class:"btn-group col"},kd=t("h5",null,"Pass Time",-1),_d={class:"row"},wd={class:"btn-group col"};function Cd(e,o,c,m,g,_){const n=S("hitpoints"),s=S("combat"),i=S("attacks"),h=S("resources"),b=S("actions");return l(),a("div",cu,[t("div",hu,[t("div",pu,[t("div",mu,[vu,t("div",bu,[t("div",yu,[d(r(e.acrobatics.name),1),$u,t("button",{onClick:o[0]||(o[0]=f=>e.rollCheck(e.getSkillMod(e.acrobatics)))},[e.getSkillMod(e.acrobatics)>-1?(l(),a("span",fu,"+")):v("",!0),d(r(e.getSkillMod(e.acrobatics)),1)])]),t("div",gu,[d(r(e.athletics.name),1),ku,t("button",{onClick:o[1]||(o[1]=f=>e.rollCheck(e.getSkillMod(e.athletics)))},[e.getSkillMod(e.athletics)>-1?(l(),a("span",_u,"+")):v("",!0),d(r(e.getSkillMod(e.athletics)),1)])]),t("div",wu,[d(r(e.perception.name),1),Cu,t("button",{onClick:o[2]||(o[2]=f=>e.rollCheck(e.getSkillMod(e.perception)))},[e.getSkillMod(e.perception)>-1?(l(),a("span",Su,"+")):v("",!0),d(r(e.getSkillMod(e.perception)),1)])]),t("div",Vu,[d(r(e.stealth.name),1),Uu,t("button",{onClick:o[3]||(o[3]=f=>e.rollCheck(e.getSkillMod(e.stealth)))},[e.getSkillMod(e.stealth)>-1?(l(),a("span",Mu,"+")):v("",!0),d(r(e.getSkillMod(e.stealth)),1)])])])])]),t("div",Au,[t("div",Du,[d(" Save DC & Spell Attack "),(l(!0),a(y,null,$(e.character.charclasses,f=>(l(),a("div",{key:f.thisclass.name},r(f.thisclass.name)+" DC: "+r(e.getSaveDC(f.savedcstat,f))+" Att: "+r(e.getAttBonus(f.savedcstat,f)),1))),128))])]),t("div",Tu,[t("div",Ru,[Lu,t("div",Pu,[t("div",Iu,[d(" STR"),Nu,t("button",{onClick:o[4]||(o[4]=f=>e.rollCheck(e.getSaveMod(0)))},[e.getSaveMod(0)>-1?(l(),a("span",Eu,"+")):v("",!0),d(r(e.getSaveMod(0)),1)])]),t("div",qu,[d(" DEX"),Wu,t("button",{onClick:o[5]||(o[5]=f=>e.rollCheck(e.getSaveMod(1)))},[e.getSaveMod(1)>-1?(l(),a("span",Bu,"+")):v("",!0),d(r(e.getSaveMod(1)),1)])]),t("div",Hu,[d(" CON"),Fu,t("button",{onClick:o[6]||(o[6]=f=>e.rollCheck(e.getSaveMod(2)))},[e.getSaveMod(2)>-1?(l(),a("span",ju,"+")):v("",!0),d(r(e.getSaveMod(2)),1)])]),t("div",zu,[d(" INT"),Ou,t("button",{onClick:o[7]||(o[7]=f=>e.rollCheck(e.getSaveMod(3)))},[e.getSaveMod(3)>-1?(l(),a("span",Yu,"+")):v("",!0),d(r(e.getSaveMod(3)),1)])]),t("div",Gu,[d(" WIS"),Xu,t("button",{onClick:o[8]||(o[8]=f=>e.rollCheck(e.getSaveMod(4)))},[e.getSaveMod(4)>-1?(l(),a("span",Ku,"+")):v("",!0),d(r(e.getSaveMod(4)),1)])]),t("div",Qu,[d(" CHA"),Ju,t("button",{onClick:o[9]||(o[9]=f=>e.rollCheck(e.getSaveMod(5)))},[e.getSaveMod(5)>-1?(l(),a("span",Zu,"+")):v("",!0),d(r(e.getSaveMod(5)),1)])])])])])]),t("div",xu,[t("div",ed,[t("div",td,[t("div",od,[k(n),k(s)]),t("div",sd,[k(i)])]),k(h)]),t("div",nd,[k(b),t("div",ld,[ad,id,(l(!0),a(y,null,$(e.character.activemodifiers,f=>(l(),a("div",{class:"row",key:f.id},[t("div",rd,[u(t("input",{type:"text","onUpdate:modelValue":U=>f.modifier=U,class:"charsheet-text"},null,8,ud),[[p,f.modifier]])]),t("div",dd,[u(t("input",{type:"number","onUpdate:modelValue":U=>f.remaining=U,class:"charsheet-num"},null,8,cd),[[p,f.remaining]])]),t("div",hd,[u(t("select",{"onUpdate:modelValue":U=>f.concentrating=U,class:"charsheet-text"},bd,8,pd),[[w,f.concentrating]])]),t("div",yd,[t("button",{onClick:U=>e.removeActiveModifier(f.id),class:"btn btn-sm btn-danger"},"X",8,$d)])]))),128)),t("div",fd,[t("div",gd,[t("button",{onClick:o[10]||(o[10]=f=>e.addActiveModifier()),class:"btn btn-sm btn-primary"},"+")])]),t("p",null,"Active Concentration Effects: "+r(e.numConcentrating),1),kd,t("div",_d,[t("div",wd,[t("button",{onClick:o[11]||(o[11]=f=>e.passTime(1)),class:"btn btn-sm btn-primary"},"1 Round"),t("button",{onClick:o[12]||(o[12]=f=>e.passTime(10)),class:"btn btn-sm btn-primary"},"1 Minute"),t("button",{onClick:o[13]||(o[13]=f=>e.passTime(100)),class:"btn btn-sm btn-primary"},"10 Minutes"),t("button",{onClick:o[14]||(o[14]=f=>e.passTime(600)),class:"btn btn-sm btn-primary"},"1 hour"),t("button",{onClick:o[15]||(o[15]=f=>e.passTime(4800)),class:"btn btn-sm btn-primary"},"8 hours")])])])])])])}const Sd=D(du,[["render",Cd]]),Vd={setup(){const e=A(),o=I(),c=H(),{character:m,carryWeight:g,carryMax:_,totalGold:n,equipmentContainers:s}=V(e),{weaponsv2:i,armorv2:h}=V(c),{equipment:b,magicweaponsv2:f,magicarmorv2:U,magicotherv2:N,magicscrollsv2:F,magicwandsv2:j}=V(c),q=e.removeEquipment,W=e.removeContainer;return{userinfo:o,character:m,equipment:b,weapons:i,magicweapons:f,magicarmor:U,magicother:N,scrolls:F,wands:j,carryWeight:g,carryMax:_,totalGold:n,equipmentContainers:s,armor:h,removeEquipment:q,removeContainer:W}},computed:{allWeapons(){var e=[];return this.excludemagic?e=[...this.weapons]:e=[...this.weapons,...this.magicweapons],e.forEach(o=>{o.Weapon||(o.Weapon=o.Item),o["Cost (gp)"]&&(o.Cost=o["Cost (gp)"])}),e=e.filter(o=>this.searchEquip?o.Weapon.toLowerCase().includes(this.searchEquip.toLowerCase()):!0),e},allArmor(){var e=[];this.excludemagic?e=[...this.armor]:e=[...this.armor,...this.magicarmor];var o=[];return e.forEach(c=>{let m={...c};c.Item&&(m.Armor=c.Item),c.ArmorType&&(m.Type=c.ArmorType),c["Cost (gp)"]&&(m.Cost=c["Cost (gp)"]),o.push(m)}),e=o.filter(c=>this.searchEquip?c.Armor.toLowerCase().includes(this.searchEquip.toLowerCase()):!0),e.sort((c,m)=>c[this.armorSort]>m[this.armorSort]&&!this.armorSortDir||c[this.armorSort]<m[this.armorSort]&&this.armorSortDir?1:-1)},allGear(){var e=[];return this.excludemagic?e=[...this.equipment]:e=[...this.equipment,...this.scrolls,...this.wands,...this.magicother],e.forEach(o=>{typeof o.Weight>"u"&&(o.Weight=1)}),e.filter(o=>this.searchEquip?o.Item.toLowerCase().includes(this.searchEquip.toLowerCase()):!0)}},components:{modal:K},data(){return{excludemagic:!1,ctypes:[{name:"",capacity:0,weightCounts:!0,weight:0},{name:"Carried/Worn",capacity:9999,weightCounts:!0,weight:0},{name:"Chest",capacity:300,weightCounts:!0,weight:25},{name:"Backpack",capacity:30,weightCounts:!0,weight:5},{name:"Barrel",capacity:350,weightCounts:!0,weight:5},{name:"Basket",capacity:40,weightCounts:!0,weight:5},{name:"Case, crossbow bolt",capacity:1.5,weightCounts:!0,weight:5},{name:"Case, map or scroll",capacity:1,weightCounts:!0,weight:5},{name:"Flask",capacity:1,weightCounts:!0,weight:5},{name:"Pouch",capacity:6,weightCounts:!0,weight:1},{name:"Quiver",capacity:1,weightCounts:!0,weight:1},{name:"Sack",capacity:30,weightCounts:!0,weight:.5},{name:"Waterskin",capacity:4,weightCounts:!0,weight:5},{name:"Bag of Holding",capacity:500,weightCounts:!1,weight:15},{name:"Heward's Handy Haversack",capacity:120,weightCounts:!1,weight:5}],containModal:!1,newcontain:{name:"Backpack",capacity:0,weightCounts:!0,weight:0},newequip:{name:"",weight:0,quantity:1,cost:0,description:"",attunement:!1,edit:!1,container:0},ctypeselected:{},searchEquip:"",newEquipModal:{isActive:!1,title:"New Equipment"},armorSort:"Item",armorSortDir:!1}},methods:{newContainerType(e){this.newcontain={...e}},addEquipment(){if(this.newequip.container!==0){var e=Date.now();this.character.equipment.push({...this.newequip,id:e}),this.newequip={name:"",weight:0,quantity:1,attunement:!1,edit:!1,container:this.character.containers[0].id},this.newEquipModal.isActive=!1}else alert("Please select a container")},findAndAddItem(e,o,c,m){let g=this.equipment.filter(_=>_.Item===e)[0];return this.addExistingEquipment(g,o,c,m)},addExistingEquipment(e,o,c,m=!1){var g=Date.now();if(e.Container&&(m||confirm("Would you like to add "+e.Item+" as a container that can hold other items?")))return this.character.containers.push({id:g,name:e.Item,capacity:e.Capacity,weightCounts:e.weightCounts,weight:Number(e.Weight)}),this.newEquipModal.isActive=!1,g;if(e.Pack){let _=this.findAndAddItem(e.PackContainer.name,1,c,!0);e.Contents.forEach(n=>{this.findAndAddItem(n.Item,n.quantity,_)})}else c?(this.character.equipment.push({id:g,name:e.Item,weight:Number(e.Weight),quantity:o,cost:e["Cost (gp)"]?e["Cost (gp)"]:Number(e.Cost),description:e.Effect?e.Effect:e.Description,attunement:e.Attunement?e.Attunement.includes("Yes"):!1,edit:{isActive:!1,title:e.Item},container:c}),this.newEquipModal.isActive=!1):alert("Please select a container")},addExistingWeapon(e,o,c){if(c){var m=Date.now();this.character.equipment.push({id:m,name:e.Weapon,weight:typeof e.Weight=="string"?Number(e.Weight.substring(0,e.Weight.length-2)):e.Weight,quantity:o,cost:e["Cost (gp)"]?e["Cost (gp)"]:Number(e.Cost),description:e.Type+" weapon, "+e.Damage+" damage, "+e.Properties+". "+(e.Effect?e.Effect:""),attunement:e.Attunement?e.Attunement.includes("Yes"):!1,edit:{isActive:!1,title:e.Item},container:c}),this.newEquipModal.isActive=!1}else alert("Please select a container")},addExistingArmor(e,o,c){if(c){var m=Date.now();this.character.equipment.push({id:m,name:e.Armor,weight:Number(e.Weight),quantity:o,cost:e["Cost (gp)"]?e["Cost (gp)"]:Number(e.Cost),description:"AC: "+e.AC+" PC: "+e.PC,attunement:e.Attunement?e.Attunement.includes("Yes"):!1,edit:{isActive:!1,title:e.Item},container:c}),this.character.armors.push({name:e.Armor,ac:e.AC,pc:e.PC,maxdex:e.MaxDex,type:e.Type,edit:!1}),this.newEquipModal.isActive=!1}else alert("Please select a container")},addContainer(){var e=Date.now();this.character.containers.push({...this.newcontain,id:e}),this.newcontain={name:"",capacity:0,weightCounts:!0,weight:0},this.containModal=!1,this.ctypeselected=this.ctypes[0]}},mounted(){this.newequip.container=this.character.containers[0]}},Ud={class:"row"},Md={class:"col"},Ad={class:"charsheet-static",id:"equipmentbox"},Dd=t("h4",null,"Equipment",-1),Td={class:"smalltext"},Rd={class:"smalltext"},Ld=["onClick"],Pd=["onClick"],Id=["title"],Nd=["onUpdate:modelValue"],Ed=t("br",null,null,-1),qd=["onUpdate:modelValue"],Wd=["onUpdate:modelValue"],Bd=["onUpdate:modelValue"],Hd=["onUpdate:modelValue"],Fd=t("br",null,null,-1),jd=["onUpdate:modelValue"],zd=t("br",null,null,-1),Od=["onUpdate:modelValue","onChange"],Yd=["value"],Gd=t("br",null,null,-1),Xd=["onUpdate:modelValue"],Kd=["onClick"],Qd={class:"btn-group",style:{clear:"both"}},Jd=["value"],Zd=t("br",null,null,-1),xd={style:{"overflow-y":"scroll",height:"500px"}},ec={class:"table table-striped table-sm"},tc=t("thead",null,[t("tr",null,[t("th",null,"Item"),t("th",null,"Cost"),t("th",null,"Weight")])],-1),oc=["onClick"],sc={style:{"overflow-y":"scroll",height:"500px"}},nc={class:"table table-striped table-sm"},lc=t("thead",null,[t("tr",null,[t("th",null,"Item"),t("th",null,"Damage"),t("th",null,"Properties"),t("th",null,"Cost"),t("th",null,"Weight")])],-1),ac=["onClick"],ic={style:{"overflow-y":"scroll",height:"500px"}},rc={class:"table table-striped table-sm"},uc=["onClick"],dc=t("br",null,null,-1),cc=t("br",null,null,-1),hc=t("br",null,null,-1),pc=["value"],mc={class:"table table-sm smalltext"},vc=t("th",null,"CP",-1),bc=t("th",null,"GP",-1),yc=t("th",null,"SP",-1),$c=t("th",null,"PP",-1),fc=t("th",{colspan:"2"},"Gems (value)",-1),gc={colspan:"2"},kc=t("th",{colspan:"2"},"Art (value)",-1),_c={colspan:"2"},wc={class:"smalltext"},Cc=t("br",null,null,-1),Sc={class:"smalltext"};function Vc(e,o,c,m,g,_){const n=S("modal"),s=S("b-tab"),i=S("b-tabs"),h=S("b-modal");return l(),a("div",Ud,[t("div",Md,[t("div",Ad,[Dd,(l(!0),a(y,null,$(e.equipmentContainers,b=>(l(),a("div",{key:b.name,style:{clear:"both"}},[t("h4",Td,[d(r(b.name)+" ",1),t("span",Rd,[d(r(b.contains)+" / "+r(b.capacity)+" lbs ",1),t("input",{type:"button",class:"btn btn-danger btn-sm print-hide",value:"X",onClick:f=>e.removeContainer(b)},null,8,Ld)])]),(l(!0),a(y,null,$(b.equipment,f=>(l(),a("div",{key:f.id,class:"smalltext",style:{clear:"both"}},[t("button",{type:"button",class:"print-hide btn-symbol float-left",onClick:U=>f.edit={isActive:!0,title:f.name}},"\u270E",8,Pd),t("span",{class:T(f.attunement?"attuned":""),title:"Item Weight: "+f.weight+" lbs, Total Weight "+f.weight*f.quantity+" lbs"},r(f.name),11,Id),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":U=>f.quantity=U},null,8,Nd),[[p,f.quantity]]),Ed,k(n,{modalProps:f.edit},{default:C(()=>[d(" Name "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":U=>f.name=U},null,8,qd),[[p,f.name]]),d(" Weight "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":U=>f.weight=U},null,8,Wd),[[p,f.weight]]),d(" Quantity "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":U=>f.quantity=U},null,8,Bd),[[p,f.quantity]]),d(" Value (gp) "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":U=>f.cost=U},null,8,Hd),[[p,f.cost]]),Fd,u(t("input",{type:"checkbox","onUpdate:modelValue":U=>f.attunement=U},null,8,jd),[[M,f.attunement]]),d(" Attunement"),zd,d(" Container "),u(t("select",{class:"form-control","onUpdate:modelValue":U=>f.container=U,onChange:U=>{f.edit=!1}},[(l(!0),a(y,null,$(e.character.containers,U=>(l(),a("option",{key:U.id,value:U.id},r(U.name),9,Yd))),128))],40,Od),[[w,f.container]]),Gd,d(" Description "),u(t("textarea",{"onUpdate:modelValue":U=>f.description=U,class:"form-control"},null,8,Xd),[[p,f.description]]),t("button",{type:"button",class:"btn btn-danger print-hide",onClick:U=>e.removeEquipment(f)},"Delete",8,Kd)]),_:2},1032,["modalProps"])]))),128))]))),128)),t("div",Qd,[t("button",{type:"button",class:"btn btn-sm btn-primary print-hide",onClick:o[0]||(o[0]=b=>e.newEquipModal.isActive=!0)},"+Equipment"),t("button",{type:"button",class:"btn btn-sm btn-primary print-hide",onClick:o[1]||(o[1]=b=>e.containModal=!0)},"+Container")]),k(n,{modalProps:e.newEquipModal},{default:C(()=>[d(" Quantity "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=b=>e.newequip.quantity=b)},null,512),[[p,e.newequip.quantity]]),d(" Container "),u(t("select",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=b=>e.newequip.container=b)},[(l(!0),a(y,null,$(e.character.containers,b=>(l(),a("option",{key:b.id,value:b.id},r(b.name),9,Jd))),128))],512),[[w,e.newequip.container]]),d(" Exclude Magic Items: "),u(t("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=b=>e.excludemagic=b)},null,512),[[M,e.excludemagic]]),k(i,{id:"existingEquip"},{default:C(()=>[k(s,{title:"New"},{default:C(()=>[d(" Name "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=b=>e.newequip.name=b)},null,512),[[p,e.newequip.name]]),d(" Weight "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=b=>e.newequip.weight=b)},null,512),[[p,e.newequip.weight]]),d(" Value (gp) "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=b=>e.newequip.cost=b)},null,512),[[p,e.newequip.cost]]),u(t("input",{type:"checkbox","onUpdate:modelValue":o[8]||(o[8]=b=>e.newequip.attunement=b)},null,512),[[M,e.newequip.attunement]]),d(" Attunement"),Zd,d(" Description "),u(t("textarea",{"onUpdate:modelValue":o[9]||(o[9]=b=>e.newequip.description=b),class:"form-control"},null,512),[[p,e.newequip.description]]),t("button",{onClick:o[10]||(o[10]=b=>e.addEquipment()),class:"btn btn-sm btn-primary"},"Add Now")]),_:1}),k(s,{title:"Adventuring Gear"},{default:C(()=>[u(t("input",{placeholder:"search","onUpdate:modelValue":o[11]||(o[11]=b=>e.searchEquip=b),class:"form-control"},null,512),[[p,e.searchEquip]]),t("div",xd,[t("table",ec,[tc,t("tbody",null,[(l(!0),a(y,null,$(e.allGear,b=>(l(),a("tr",{key:b},[t("td",null,[t("a",{href:"#",onClick:f=>e.addExistingEquipment(b,e.newequip.quantity,e.newequip.container,!1)},r(b.Item),9,oc)]),t("td",null,r(b.Cost),1),t("td",null,r(b.Weight),1)]))),128))])])])]),_:1}),k(s,{title:"Weapons"},{default:C(()=>[u(t("input",{placeholder:"search","onUpdate:modelValue":o[12]||(o[12]=b=>e.searchEquip=b),class:"form-control"},null,512),[[p,e.searchEquip]]),t("div",sc,[t("table",nc,[lc,t("tbody",null,[(l(!0),a(y,null,$(e.allWeapons,b=>(l(),a("tr",{key:b.Weapon},[t("td",null,[t("a",{href:"#",onClick:f=>e.addExistingWeapon(b,e.newequip.quantity,e.newequip.container)},r(b.Weapon),9,ac)]),t("td",null,r(b.Damage)+" "+r(b.Dtype),1),t("td",null,r(b.Properties),1),t("td",null,r(b.Cost),1),t("td",null,r(b.Weight),1)]))),128))])])])]),_:1}),k(s,{title:"Armor"},{default:C(()=>[u(t("input",{placeholder:"search","onUpdate:modelValue":o[13]||(o[13]=b=>e.searchEquip=b),class:"form-control"},null,512),[[p,e.searchEquip]]),t("div",ic,[t("table",rc,[t("thead",null,[t("tr",null,[t("th",null,[t("span",{onClick:o[14]||(o[14]=E(b=>{e.armorSort="Armor",e.armorSortDir=!e.armorSortDir},["stop"]))},"Item")]),t("th",null,[t("span",{onClick:o[15]||(o[15]=E(b=>{e.armorSort="Type",e.armorSortDir=!e.armorSortDir},["stop"]))},"Type")]),t("th",null,[t("a",{onClick:o[16]||(o[16]=E(b=>{e.armorSort="Cost",e.armorSortDir=!e.armorSortDir},["stop"]))},"Cost")]),t("th",null,[t("a",{onClick:o[17]||(o[17]=E(b=>{e.armorSort="AC",e.armorSortDir=!e.armorSortDir},["stop"]))},"AC")]),t("th",null,[t("a",{onClick:o[18]||(o[18]=E(b=>{e.armorSort="MaxDex",e.armorSortDir=!e.armorSortDir},["stop"]))},"MaxDex")]),t("th",null,[t("a",{onClick:o[19]||(o[19]=E(b=>{e.armorSort="PC",e.armorSortDir=!e.armorSortDir},["stop"]))},"PC")]),t("th",null,[t("a",{onClick:o[20]||(o[20]=E(b=>{e.armorSort="Weight",e.armorSortDir=!e.armorSortDir},["stop"]))},"Weight")])])]),t("tbody",null,[(l(!0),a(y,null,$(e.allArmor,b=>(l(),a("tr",{key:b.Armor},[t("td",null,[t("a",{href:"#",onClick:f=>e.addExistingArmor(b,e.newequip.quantity,e.newequip.container)},r(b.Armor),9,uc)]),t("td",null,r(b.Type),1),t("td",null,r(b.Cost),1),t("td",null,r(b.AC),1),t("td",null,r(b.MaxDex==99?"Unlimited":b.MaxDex),1),t("td",null,r(b.PC),1),t("td",null,r(b.Weight)+" lbs",1)]))),128))])])])]),_:1})]),_:1})]),_:1},8,["modalProps"]),k(h,{modelValue:e.containModal,"onUpdate:modelValue":o[27]||(o[27]=b=>e.containModal=b),title:"Add Container",onOk:o[28]||(o[28]=b=>e.addContainer()),"modal-class":e.userinfo.themesetting},{default:C(()=>[d(" Name "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[21]||(o[21]=b=>e.newcontain.name=b)},null,512),[[p,e.newcontain.name]]),d(" Capacity "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[22]||(o[22]=b=>e.newcontain.capacity=b)},null,512),[[p,e.newcontain.capacity]]),dc,d(" Weight Counts "),u(t("input",{type:"checkbox","onUpdate:modelValue":o[23]||(o[23]=b=>e.newcontain.weightCounts=b)},null,512),[[M,e.newcontain.weightCounts]]),cc,d(" Container Weight "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[24]||(o[24]=b=>e.newcontain.weight=b)},null,512),[[p,e.newcontain.weight]]),hc,d(" Select Predefined Type "),u(t("select",{"onUpdate:modelValue":o[25]||(o[25]=b=>e.ctypeselected=b),class:"form-control",onChange:o[26]||(o[26]=b=>e.newContainerType(e.ctypeselected))},[(l(!0),a(y,null,$(e.ctypes,b=>(l(),a("option",{value:b,key:b.name},r(b.name),9,pc))),128))],544),[[w,e.ctypeselected]])]),_:1},8,["modelValue","modal-class"]),t("table",mc,[t("tbody",null,[t("tr",null,[vc,t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[29]||(o[29]=b=>e.character.cp=b)},null,512),[[p,e.character.cp]])]),bc,t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[30]||(o[30]=b=>e.character.gp=b)},null,512),[[p,e.character.gp]])])]),t("tr",null,[yc,t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[31]||(o[31]=b=>e.character.sp=b)},null,512),[[p,e.character.sp]])]),$c,t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[32]||(o[32]=b=>e.character.pp=b)},null,512),[[p,e.character.pp]])])]),t("tr",null,[fc,t("td",gc,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[33]||(o[33]=b=>e.character.gems=b)},null,512),[[p,e.character.gems]])])]),t("tr",null,[kc,t("td",_c,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[34]||(o[34]=b=>e.character.art=b)},null,512),[[p,e.character.art]])])])])]),t("span",wc,"Carry Weight: "+r(e.carryWeight)+" / "+r(e.carryMax),1),Cc,t("span",Sc,"Total Gold: "+r(e.totalGold),1)])])])}const Uc=D(Vd,[["render",Vc]]),Mc={setup(){const e=A(),o=I(),c=H(),{character:m,level:g}=V(e),{featsv2:_,featv2sort:n}=V(c),s=e.addInjury,i=e.removeInjury;return{userinfo:o,character:m,feats:_,level:g,featsort:n,addInjury:s,removeInjury:i,marked:Q}},computed:{lvl1feats(){return this.feats.filter(e=>!e.prereq.includes("level"))},numASI(){var e=1;for(this.character.charclasses.forEach(o=>{o.level>=4&&e++,o.level>=6&&(o.thisclass.name==="Fighter"||o.thisclass.name==="Factotum")&&e++,o.level>=8&&e++,o.level>=10&&o.thisclass.name==="Rogue"&&e++,o.level>=12&&e++,o.level>=14&&o.thisclass.name==="Fighter"&&e++,o.level>=16&&e++,o.level>=19&&e++}),e+=Number(this.character.bonusfeats);this.character.feats.length<e;)this.character.feats.push({name:"",prereq:"",description:""});return this.character.feats.length>e&&(this.character.feats.length=e),e}},data(){return{newfeature:{name:"",description:"",show:!1},newFeatureModal:!1}},methods:{addFeature(){this.character.features.push(this.newfeature),this.newfeature={name:"",description:"",show:!1},this.newFeatureModal=!1},setval(e,o,c){e[o]=c,this.$forceUpdate()},removeFeature(e){this.character.features.splice(e,1)}}},Ac={class:"charsheet-static"},Dc={class:"col-10"},Tc=["onUpdate:modelValue"],Rc={class:"col-2"},Lc=["onClick"],Pc={class:"charsheet-static"},Ic=t("br",null,null,-1),Nc={key:0,class:"col-10"},Ec=["onUpdate:modelValue"],qc=["value"],Wc=["value","title"],Bc={key:1,class:"col-10"},Hc=["onUpdate:modelValue"],Fc=["value"],jc=["value","title"],zc={class:"col-1"},Oc=["onClick"],Yc=["onClick"],Gc={key:2},Xc=["innerHTML"],Kc={class:"charsheet-static",id:"featurebox"},Qc={key:0,class:"smalltext"},Jc={title:"You should select this feat as the first feat in the feat list above. If you want a different first level feat you can select that instead."},Zc=["title"],xc=["onClick"],eh=["onClick"],th=["innerHTML"],oh={key:0},sh=["title"],nh=["onClick"],lh=["onClick"],ah=["onUpdate:modelValue"],ih=["title"],rh=["innerHTML"],uh={key:0},dh=["title"],ch=["onClick"],hh=["onClick"],ph=["onUpdate:modelValue"],mh=["title"],vh=["innerHTML"],bh=["title"],yh=["onClick"],$h=["onClick"],fh=["innerHTML"],gh=["title"],kh=["onClick"],_h=["onClick"],wh=["innerHTML"],Ch=["title"],Sh=["onClick"],Vh=["onClick"],Uh=["innerHTML"],Mh=["title"],Ah=["onClick"],Dh=["onClick"],Th=["innerHTML"],Rh={key:1,class:"smalltext"},Lh=["title"],Ph={key:0},Ih=["title"],Nh=["onClick"],Eh=["onClick"],qh=["innerHTML"],Wh=["title"],Bh=["onClick"],Hh=["onClick"],Fh=["onClick"],jh=["innerHTML"],zh=t("p",null,"\xA0",-1);function Oh(e,o,c,m,g,_){const n=S("b-modal");return l(),a("div",null,[t("div",Ac,[d(" Injuries/Madnesses "),(l(!0),a(y,null,$(e.character.injuries,(s,i)=>(l(),a("div",{key:i,class:"row"},[t("div",Dc,[u(t("input",{type:"text","onUpdate:modelValue":h=>s.name=h,class:"charsheet-text"},null,8,Tc),[[p,s.name]])]),t("div",Rc,[t("button",{class:"btn btn-sm btn-danger print-hide",type:"button",onClick:h=>e.removeInjury(i)},"X",8,Lc)])]))),128)),t("button",{class:"btn btn-sm btn-primary print-hide",type:"button",onClick:o[0]||(o[0]=(...s)=>e.addInjury&&e.addInjury(...s))},"+")]),t("div",Pc,[d(" Feats/ASIs "+r(e.numASI),1),Ic,(l(!0),a(y,null,$(e.character.feats,(s,i)=>(l(),a("div",{key:i,style:{clear:"both"},class:"row"},[i==0?(l(),a("div",Nc,[u(t("select",{class:"charsheet-text","onUpdate:modelValue":h=>e.character.feats[i]=h},[t("option",{value:e.character.feats[i]},r(e.character.feats[i].name),9,qc),(l(!0),a(y,null,$(e.lvl1feats,h=>(l(),a("option",{key:h.name,value:h,title:h.description},r(h.name),9,Wc))),128))],8,Ec),[[w,e.character.feats[i]]])])):(l(),a("div",Bc,[u(t("select",{class:"charsheet-text","onUpdate:modelValue":h=>e.character.feats[i]=h},[t("option",{value:e.character.feats[i]},r(e.character.feats[i].name),9,Fc),(l(!0),a(y,null,$(e.featsort,h=>(l(),a("option",{key:h.name,value:h,title:h.description},r(h.name),9,jc))),128))],8,Hc),[[w,e.character.feats[i]]])])),t("div",zc,[s.show?v("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>e.setval(s,"show",!0)}," \u25BC ",8,Oc)),s.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>e.setval(s,"show",!1)}," \u25B2 ",8,Yc)):v("",!0)]),s.show?(l(),a("span",Gc,"Prerequisite: "+r(s.prereq),1)):v("",!0),s.show?(l(),a("p",{key:3,innerHTML:e.marked.parse(s.description)},null,8,Xc)):v("",!0)]))),128))]),t("div",Kc,[d(" Features "),e.character.background.feature.length>0?(l(),a("p",Qc,[t("span",Jc,"Background Feat: "+r(e.character.background.feature),1)])):v("",!0),(l(!0),a(y,null,$(e.character.race.traits,s=>(l(),a("div",{class:"smalltext",key:s.name},[t("p",null,[t("span",{title:s.description},r(s.name),9,Zc),s.show?v("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>e.setval(s,"show",!0)}," \u25BC ",8,xc)),s.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>e.setval(s,"show",!1)}," \u25B2 ",8,eh)):v("",!0),s.show?(l(),a("span",{key:2,innerHTML:e.marked.parse(s.description)},null,8,th)):v("",!0)])]))),128)),(l(!0),a(y,null,$(e.character.charclasses,s=>(l(),a("div",{class:"smalltext",key:s.thisclass.name},[(l(!0),a(y,null,$(s.thisclass.features,i=>(l(),a("div",{key:i.name},[i.level<=s.level?(l(),a("p",oh,[t("span",{title:i.description},r(i.name),9,sh),i.show?v("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>e.setval(i,"show",!0)}," \u25BC ",8,nh)),i.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>e.setval(i,"show",!1)}," \u25B2 ",8,lh)):v("",!0),i.choice?u((l(),a("select",{key:2,"onUpdate:modelValue":h=>i.chosen=h},[(l(!0),a(y,null,$(i.choice,h=>(l(),a("option",{title:h.description,key:h.name},r(h.name),9,ih))),128))],8,ah)),[[w,i.chosen]]):v("",!0),i.show?(l(),a("span",{key:3,innerHTML:e.marked.parse(i.description)},null,8,rh)):v("",!0)])):v("",!0)]))),128)),(l(!0),a(y,null,$(s.selsubclass.features,i=>(l(),a("div",{key:i.name},[i.level<=s.level?(l(),a("p",uh,[t("span",{title:i.description},r(i.name),9,dh),i.show?v("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>e.setval(i,"show",!0)}," \u25BC ",8,ch)),i.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>e.setval(i,"show",!1)}," \u25B2 ",8,hh)):v("",!0),i.choice?u((l(),a("select",{key:2,"onUpdate:modelValue":h=>i.chosen=h},[(l(!0),a(y,null,$(i.choice,h=>(l(),a("option",{title:h.description,key:h.name},r(h.name),9,mh))),128))],8,ph)),[[w,i.chosen]]):v("",!0),i.show?(l(),a("span",{key:3,innerHTML:e.marked.parse(i.description)},null,8,vh)):v("",!0)])):v("",!0)]))),128))]))),128)),(l(!0),a(y,null,$(e.character.fightingstyles,s=>(l(),a("div",{class:"smalltext",key:s.name},[t("p",null,[t("span",{title:s.description},r(s.name),9,bh),s.show?v("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>e.setval(s,"show",!0)}," \u25BC ",8,yh)),s.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>e.setval(s,"show",!1)}," \u25B2 ",8,$h)):v("",!0),s.show?(l(),a("span",{key:2,innerHTML:e.marked.parse(s.description)},null,8,fh)):v("",!0)])]))),128)),(l(!0),a(y,null,$(e.character.metamagic,s=>(l(),a("div",{class:"smalltext",key:s.name},[t("p",null,[t("span",{title:s.description},r(s.name),9,gh),s.show?v("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>e.setval(s,"show",!0)}," \u25BC ",8,kh)),s.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>e.setval(s,"show",!1)}," \u25B2 ",8,_h)):v("",!0),s.show?(l(),a("span",{key:2,innerHTML:e.marked.parse(s.description)},null,8,wh)):v("",!0)])]))),128)),(l(!0),a(y,null,$(e.character.invocations,s=>(l(),a("div",{class:"smalltext",key:s.name},[t("p",null,[t("span",{title:s.description},r(s.name),9,Ch),s.show?v("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>e.setval(s,"show",!0)}," \u25BC ",8,Sh)),s.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>e.setval(s,"show",!1)}," \u25B2 ",8,Vh)):v("",!0),s.show?(l(),a("span",{key:2,innerHTML:e.marked.parse(s.description)},null,8,Uh)):v("",!0)])]))),128)),(l(!0),a(y,null,$(e.character.skilltricks,s=>(l(),a("div",{class:"smalltext",key:s.name},[t("p",null,[t("span",{title:s.description},r(s.name),9,Mh),s.show?v("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>e.setval(s,"show",!0)}," \u25BC ",8,Ah)),s.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:i=>e.setval(s,"show",!1)}," \u25B2 ",8,Dh)):v("",!0),s.show?(l(),a("span",{key:2,innerHTML:e.marked.parse(s.description)},null,8,Th)):v("",!0)])]))),128)),e.character.infusions.length?(l(),a("div",Rh,[d(" Infusions Known: "),(l(!0),a(y,null,$(e.character.infusions,s=>(l(),a("span",{title:s.description,key:s.name},r(s.name)+", ",9,Lh))),128))])):v("",!0),(l(!0),a(y,null,$(e.character.faction,s=>(l(),a("div",{key:s.faction.id},[(l(!0),a(y,null,$(s.faction.features,i=>(l(),a("p",{key:i.name,class:"smalltext"},[s.rank.index>=i.minrank?(l(),a("div",Ph,[t("span",{title:i.description},r(i.name),9,Ih),i.show?v("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>e.setval(i,"show",!0)},"\u25BC",8,Nh)),i.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>e.setval(i,"show",!1)},"\u25B2",8,Eh)):v("",!0),i.show?(l(),a("span",{key:2,innerHTML:e.marked.parse(i.description)},null,8,qh)):v("",!0)])):v("",!0)]))),128))]))),128)),(l(!0),a(y,null,$(e.character.features,(s,i)=>(l(),a("div",{class:"smalltext",key:i},[t("p",null,[t("span",{title:s.description},r(s.name),9,Wh),t("button",{class:"btn btn-sm print-hide float-right btn-danger",type:"button",onClick:h=>e.removeFeature(i)},"X",8,Bh),s.show?v("",!0):(l(),a("button",{key:0,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>e.setval(s,"show",!0)}," \u25BC ",8,Hh)),s.show?(l(),a("button",{key:1,class:"btn btn-sm print-hide float-right",type:"button",onClick:h=>e.setval(s,"show",!1)}," \u25B2 ",8,Fh)):v("",!0),s.show?(l(),a("span",{key:2,innerHTML:e.marked.parse(s.description)},null,8,jh)):v("",!0)])]))),128)),t("button",{class:"btn btn-sm print-hide btn-primary",type:"button",onClick:o[1]||(o[1]=s=>e.newFeatureModal=!0)},"+"),k(n,{title:"Add Feature",modelValue:e.newFeatureModal,"onUpdate:modelValue":o[4]||(o[4]=s=>e.newFeatureModal=s),onOk:o[5]||(o[5]=s=>e.addFeature()),"modal-class":e.userinfo.themesetting},{default:C(()=>[d(" Name "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=s=>e.newfeature.name=s)},null,512),[[p,e.newfeature.name]]),d(" Description "),u(t("textarea",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=s=>e.newfeature.description=s)},null,512),[[p,e.newfeature.description]])]),_:1},8,["modelValue","modal-class"]),zh])])}const Yh=D(Mc,[["render",Oh]]),Gh={setup(){const e=A(),o=H(),{character:c}=V(e),{organizationsv2:m}=V(o);return{character:c,factions:m}},methods:{textareaResize(){this.$refs.allies.style.minHeight=Math.max(this.$refs.allies.scrollHeight,150)+"px",this.$refs.family.style.minHeight=Math.max(this.$refs.family.scrollHeight,150)+"px",this.$refs.backstory.style.minHeight=Math.max(this.$refs.backstory.scrollHeight,150)+"px",this.$refs.bond.style.minHeight=Math.max(this.$refs.bond.scrollHeight,150)+"px",this.$refs.personality.style.minHeight=Math.max(this.$refs.personality.scrollHeight,150)+"px",this.$refs.notes.style.minHeight=Math.max(this.$refs.notes.scrollHeight,150)+"px"},addFaction(){this.character.faction.push({id:Math.random(),faction:{},rank:{name:"Unaffiliated"},disposition:0})},removeFaction(e){this.character.faction.splice(e,1)}},updated(){this.textareaResize()},mounted(){this.textareaResize()}},Xh={class:"row"},Kh={class:"col"},Qh={class:"col"},Jh={class:"row"},Zh={class:"col"},xh={class:"charsheet-static"},ep=t("h5",null,"Notes",-1),tp={class:"row"},op={class:"col"},sp={class:"charsheet-static"},np=t("h5",null,"Allies",-1),lp={class:"col"},ap=t("h5",null,"Organizations",-1),ip=t("div",{class:"row"},[t("div",{class:"col-sm-5"},"Faction"),t("div",{class:"col-sm-2"},"Disposition"),t("div",{class:"col-sm-4"},"Rank")],-1),rp={class:"col-sm-5"},up=["onUpdate:modelValue"],dp=["value"],cp=["value"],hp={class:"col-sm-2"},pp=["onUpdate:modelValue"],mp={class:"col-sm-4"},vp=["onUpdate:modelValue"],bp=["value"],yp=["title","value"],$p={key:0},fp={class:"col-sm-1"},gp=["onClick"],kp={class:"row"},_p={class:"col"},wp={class:"charsheet-static"},Cp=t("h5",null,"Family",-1),Sp={class:"row"},Vp={class:"col"},Up={class:"charsheet-static"},Mp=t("h5",null,"Backstory",-1),Ap={class:"row"},Dp={class:"col"},Tp={class:"charsheet-static"},Rp=t("h5",null,"Bond",-1),Lp={class:"row"},Pp={class:"col"},Ip={class:"charsheet-static"},Np=t("h5",null,"Personality",-1);function Ep(e,o,c,m,g,_){return l(),a("div",null,[t("div",Xh,[t("div",Kh,[u(t("input",{list:"countrylist",type:"text",class:"charsheet-text","onUpdate:modelValue":o[0]||(o[0]=n=>e.character.homecountry=n)},null,512),[[p,e.character.homecountry]]),d(" Home Country ")]),t("div",Qh,[u(t("input",{list:"citylist",type:"text",class:"charsheet-text","onUpdate:modelValue":o[1]||(o[1]=n=>e.character.hometown=n)},null,512),[[p,e.character.hometown]]),d(" Home Town ")])]),t("div",Jh,[t("div",Zh,[t("div",xh,[ep,u(t("textarea",{"onUpdate:modelValue":o[2]||(o[2]=n=>e.character.notes=n),class:"charsheet-textarea smalltext",ref:"notes",onInput:o[3]||(o[3]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.character.notes]])])])]),t("div",tp,[t("div",op,[t("div",sp,[np,u(t("textarea",{"onUpdate:modelValue":o[4]||(o[4]=n=>e.character.allies=n),class:"charsheet-textarea smalltext",ref:"allies",onInput:o[5]||(o[5]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.character.allies]])])]),t("div",lp,[ap,ip,(l(!0),a(y,null,$(e.character.faction,(n,s)=>(l(),a("div",{key:n.id,class:"row"},[t("div",rp,[u(t("select",{class:"charsheet-text","onUpdate:modelValue":i=>n.faction=i},[t("option",{value:n.faction},r(n.faction.title),9,dp),(l(!0),a(y,null,$(e.factions,i=>(l(),a("option",{value:i,key:i.id},r(i.title),9,cp))),128))],8,up),[[w,n.faction]])]),t("div",hp,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":i=>n.disposition=i},null,8,pp),[[p,n.disposition]])]),t("div",mp,[u(t("select",{class:"charsheet-text","onUpdate:modelValue":i=>n.rank=i},[n.rank?(l(),a("option",{key:0,value:n.rank},r(n.rank.name),9,bp)):v("",!0),(l(!0),a(y,null,$(n.faction.ranks,i=>(l(),a("option",{key:i.name,title:i.description,value:i},r(i.name),9,yp))),128))],8,vp),[[w,n.rank]]),d(" Minimum Disposition: "),n.rank?(l(),a("span",$p,r(n.rank.minDisposition),1)):v("",!0)]),t("div",fp,[t("button",{class:"btn btn-danger btn-sm print-hide",onClick:i=>e.removeFaction(s)},"-",8,gp)])]))),128)),t("button",{onClick:o[6]||(o[6]=n=>e.addFaction()),class:"btn btn-primary btn-sm print-hide"},"+")])]),t("div",kp,[t("div",_p,[t("div",wp,[Cp,u(t("textarea",{"onUpdate:modelValue":o[7]||(o[7]=n=>e.character.family=n),class:"charsheet-textarea smalltext",ref:"family",onInput:o[8]||(o[8]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.character.family]])])])]),t("div",Sp,[t("div",Vp,[t("div",Up,[Mp,u(t("textarea",{"onUpdate:modelValue":o[9]||(o[9]=n=>e.character.backstory=n),class:"charsheet-textarea smalltext",ref:"backstory",onInput:o[10]||(o[10]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.character.backstory]])])])]),t("div",Ap,[t("div",Dp,[t("div",Tp,[Rp,u(t("textarea",{"onUpdate:modelValue":o[11]||(o[11]=n=>e.character.bond=n),class:"charsheet-textarea smalltext",ref:"bond",onInput:o[12]||(o[12]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.character.bond]])])])]),t("div",Lp,[t("div",Pp,[t("div",Ip,[Np,u(t("textarea",{"onUpdate:modelValue":o[13]||(o[13]=n=>e.character.personality=n),class:"charsheet-textarea smalltext",ref:"personality",onInput:o[14]||(o[14]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.character.personality]])])])])])}const qp=D(Gh,[["render",Ep]]),Wp={setup(){const e=A(),{character:o}=V(e);return{character:o}},computed:{sortedSessions(){return this.character.sessions.sort((e,o)=>e.id>o.id?1:-1)}},data(){return{currentSession:{id:"",date:"",ingamedate:{start:"",end:""},npcs:"",locations:"",goals:"",encounters:"",loot:""}}},methods:{Session(e){return{id:Date.now(),date:e.toLocaleDateString(),ingamedate:{start:"",end:""},npcs:"",locations:"",goals:"",encounters:"",loot:""}},addSession(){let e=this.Session(new Date);this.character.sessions.push(e),this.currentSession=e},removeSession(e){confirm("Are you sure you want to delete this session?")&&(this.character.sessions.splice(this.character.sessions.findIndex(e),1),this.character.sessions.length>0?this.currentSession=this.character.sessions[0]:this.currentSession={id:"",date:"",ingamedate:{start:"",end:""},npcs:"",locations:"",goals:"",encounters:"",loot:""})}}},Bp={class:"row"},Hp=["value"],Fp=["value"],jp={class:"btn-group"},zp={key:0},Op={class:"row"},Yp={class:"col-3"},Gp={class:"charsheet-static"},Xp=t("label",null,"Today's Date",-1),Kp={class:"col-3"},Qp={class:"charsheet-static"},Jp=t("label",null,"Session Start Date",-1),Zp={class:"col-3"},xp={class:"charsheet-static"},em=t("label",null,"Session End Date",-1),tm={class:"col-3 btn-group"},om={class:"row"},sm={class:"col-12"},nm={class:"charsheet-static"},lm=t("h4",null,"Where Are We?",-1),am={class:"row"},im={class:"col-12"},rm={class:"charsheet-static"},um=t("h4",null,"Who Did We Meet?",-1),dm={class:"row"},cm={class:"col-12"},hm={class:"charsheet-static"},pm=t("h4",null,"What are we doing?",-1),mm={class:"row"},vm={class:"col-6"},bm={class:"charsheet-static"},ym=t("h4",null,"Encounters",-1),$m={class:"col-6"},fm={class:"charsheet-static"},gm=t("h4",null,"Loot",-1);function km(e,o,c,m,g,_){return l(),a("div",null,[t("div",Bp,[u(t("select",{"onUpdate:modelValue":o[0]||(o[0]=n=>e.currentSession=n),class:"charsheet-text"},[t("option",{value:e.currentSession},r(e.currentSession.date),9,Hp),(l(!0),a(y,null,$(e.sortedSessions,n=>(l(),a("option",{value:n,key:n.id},r(n.date),9,Fp))),128))],512),[[w,e.currentSession]]),t("div",jp,[t("button",{onClick:o[1]||(o[1]=n=>e.addSession()),class:"btn btn-primary btn-sm"},"Add Session")])]),e.currentSession.id!==""?(l(),a("div",zp,[t("div",Op,[t("div",Yp,[t("div",Gp,[Xp,u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[2]||(o[2]=n=>e.currentSession.date=n)},null,512),[[p,e.currentSession.date]])])]),t("div",Kp,[t("div",Qp,[Jp,u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[3]||(o[3]=n=>e.currentSession.ingamedate.start=n)},null,512),[[p,e.currentSession.ingamedate.start]])])]),t("div",Zp,[t("div",xp,[em,u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[4]||(o[4]=n=>e.currentSession.ingamedate.end=n)},null,512),[[p,e.currentSession.ingamedate.end]])])]),t("div",tm,[t("button",{onClick:o[5]||(o[5]=n=>e.removeSession(e.currentSession)),class:"btn btn-danger"},"Delete")])]),t("div",om,[t("div",sm,[t("div",nm,[lm,u(t("textarea",{"onUpdate:modelValue":o[6]||(o[6]=n=>e.currentSession.locations=n),class:"charsheet-textarea smalltext",onInput:o[7]||(o[7]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.currentSession.locations]])])])]),t("div",am,[t("div",im,[t("div",rm,[um,u(t("textarea",{"onUpdate:modelValue":o[8]||(o[8]=n=>e.currentSession.npcs=n),class:"charsheet-textarea smalltext",onInput:o[9]||(o[9]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.currentSession.npcs]])])])]),t("div",dm,[t("div",cm,[t("div",hm,[pm,u(t("textarea",{"onUpdate:modelValue":o[10]||(o[10]=n=>e.currentSession.goals=n),class:"charsheet-textarea smalltext",onInput:o[11]||(o[11]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.currentSession.goals]])])])]),t("div",mm,[t("div",vm,[t("div",bm,[ym,u(t("textarea",{"onUpdate:modelValue":o[12]||(o[12]=n=>e.currentSession.encounters=n),class:"charsheet-textarea smalltext",onInput:o[13]||(o[13]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.currentSession.encounters]])])]),t("div",$m,[t("div",fm,[gm,u(t("textarea",{"onUpdate:modelValue":o[14]||(o[14]=n=>e.currentSession.loot=n),class:"charsheet-textarea smalltext",onInput:o[15]||(o[15]=(...n)=>e.textareaResize&&e.textareaResize(...n))},null,544),[[p,e.currentSession.loot]])])])])])):v("",!0)])}const _m=D(Wp,[["render",km]]),wm={setup(){const e=A(),{character:o,getInitMod:c}=V(e);return{characters:e,character:o,getInitMod:c}}},Cm={class:"row"},Sm={class:"col"},Vm={class:"charsheet-static center"},Um={key:0};function Mm(e,o,c,m,g,_){return l(),a("div",Cm,[t("div",Sm,[t("div",Vm,[d(" Initiative: "),e.characters.getInitMod>-1?(l(),a("span",Um,"+")):v("",!0),d(r(e.getInitMod),1)])])])}const Am=D(wm,[["render",Mm]]),Dm={setup(){const e=A(),o=I(),{googletoken:c,loggedin:m,token:g}=V(o),{charlevel:_,charGroups:n}=V(e),{character:s}=V(e),i=V(s._id),h=e.getDriveFiles,b=e.saveToDrive,f=e.getFromServer,U=e.getOneFromServer,N=e.getFromServerSilent,F=e.updateToServer,j=e.updateToServerSilent,q=e.newToServer,W=e.deleteFromServer,O=e.saveCharacter,G=e.loadCharacter,Y=e.resetCharacter;return{googletoken:c,loggedin:m,token:g,character:s,charlevel:_,groups:n,getDriveFiles:h,saveToDrive:b,getFromServer:f,getOneFromServer:U,getFromServerSilent:N,updateToServer:F,updateToServerSilent:j,newToServer:q,saveCharacter:O,loadCharacter:G,resetCharacter:Y,deleteFromServer:W,id:i}},computed:{charsorted(){return this.characters.sort((e,o)=>e.name>o.name?1:o.name>e.name?-1:this.charlevel(e)>this.charlevel(o)?1:-1).filter(e=>this.groupfilter==="all"?!0:this.groupfilter===e.group)}},components:{modal:K},props:{minimal:Boolean},data(){return{characters:[],newgroup:"",groupfilter:"all",serverModalProps:{isActive:!1,title:"Load Character"},loadingModalProps:{isActive:!1,title:"Load Character"}}},methods:{getChars(){this.loadingModalProps.isActive=!0,this.getFromServer().then(e=>{e&&(this.characters=e,this.loadingModalProps.isActive=!1,this.serverModalProps.isActive=!0)})},loadChar(e){this.getOneFromServer(e),this.serverModalProps.isActive=!1},addGroup(){this.character.group=this.newgroup}},watch:{character:{handler(){this.character.autosave&&this.loggedin&&this.updateToServerSilent(this)},deep:!0}}},Tm={class:"row"},Rm={class:"col-sm"},Lm={class:"row",style:{"margin-bottom":"5px"}},Pm=t("div",{class:"col-sm-6"},[t("input",{type:"file",id:"fileload"})],-1),Im={class:"col-sm-6"},Nm={class:"btn-group"},Em={class:"col-sm"},qm={key:0,class:"row"},Wm={class:"btn-group col-12"},Bm={key:1,class:"row"},Hm=t("p",{class:"col"}," Login from the menu to load/save on the web server. ",-1),Fm=[Hm],jm={key:2},zm={class:"col-sm"},Om=t("h5",null,"Add to Group",-1),Ym=["value"],Gm=t("option",{value:""},"None",-1),Xm=t("h6",null,"Create New Group",-1),Km=["value"],Qm=t("option",{value:"all"},"All",-1),Jm={class:"table table-striped"},Zm=t("tr",null,[t("th",null,"Character Name"),t("th",null,"Level"),t("th",null,"-")],-1),xm=["onClick"],e1=["onClick"],t1=t("img",{src:"https://elthelas-images.herokuapp.com/giphy.gif",alt:"Loading"},null,-1);function o1(e,o,c,m,g,_){const n=S("modal");return l(),a("div",null,[t("div",Tm,[t("div",Rm,[t("div",Lm,[Pm,t("div",Im,[t("div",Nm,[t("input",{type:"button",disabled:"",value:"File",class:T(["btn",e.minimal?"btm-sm":""])},null,2),t("input",{type:"button",value:"Save",onClick:o[0]||(o[0]=s=>e.saveCharacter()),class:T(["btn btn-primary",e.minimal?"btm-sm":""])},null,2),t("input",{type:"button",value:"Load",onClick:o[1]||(o[1]=s=>e.loadCharacter()),class:T(["btn btn-success",e.minimal?"btm-sm":""])},null,2),t("input",{type:"button",value:"Reset",onClick:o[2]||(o[2]=s=>e.resetCharacter()),class:T(["btn btn-warning",e.minimal?"btm-sm":""])},null,2)])])])]),t("div",Em,[e.loggedin?(l(),a("div",qm,[t("div",Wm,[t("input",{type:"button",disabled:"",value:"Server",class:T(["btn",e.minimal?"btm-sm":""])},null,2),e.character._id&&e.character._id.length>0?(l(),a("input",{key:0,type:"button",value:"Save",onClick:o[3]||(o[3]=s=>e.updateToServer(e.comp)),class:T(["btn btn-primary",e.minimal?"btm-sm":""])},null,2)):v("",!0),t("input",{type:"button",value:"Save New",onClick:o[4]||(o[4]=s=>e.newToServer(e.comp)),class:T(["btn btn-primary",e.minimal?"btm-sm":""])},null,2),t("input",{type:"button",value:"Load",onClick:o[5]||(o[5]=s=>e.getChars()),class:T(["btn btn-success",e.minimal?"btm-sm":""])},null,2)])])):(l(),a("div",Bm,Fm)),e.character._id&&e.loggedin?(l(),a("div",jm,[u(t("input",{type:"checkbox","onUpdate:modelValue":o[6]||(o[6]=s=>e.character.autosave=s)},null,512),[[M,e.character.autosave]]),d(" Autosave Character Changes ")])):v("",!0)]),t("div",zm,[Om,u(t("select",{"onUpdate:modelValue":o[7]||(o[7]=s=>e.character.group=s)},[(l(!0),a(y,null,$(e.groups,s=>(l(),a("option",{value:s.name,key:s.id},r(s.name),9,Ym))),128)),Gm],512),[[w,e.character.group]]),Xm,u(t("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=s=>e.newgroup=s),class:"charsheet-text"},null,512),[[p,e.newgroup]]),t("button",{class:"btn btn-sm btn-primary",onClick:o[9]||(o[9]=s=>e.addGroup())},"Create")])]),t("div",null,[k(n,{id:"servermodal",modalProps:e.serverModalProps},{default:C(()=>[d(" Group: "),u(t("select",{"onUpdate:modelValue":o[10]||(o[10]=s=>e.groupfilter=s)},[(l(!0),a(y,null,$(e.groups,s=>(l(),a("option",{key:s.id,value:s.name},r(s.name),9,Km))),128)),Qm],512),[[w,e.groupfilter]]),t("table",Jm,[Zm,(l(!0),a(y,null,$(e.charsorted,s=>(l(),a("tr",{key:s._id},[t("td",null,[t("span",{class:"clickable",onClick:i=>e.loadChar(s._id)},r(s.name),9,xm)]),t("td",null,r(e.charlevel(s)),1),t("td",null,[t("input",{type:"button",onClick:i=>e.deleteFromServer({character:s,comp:e.comp}),class:"btn btn-danger btn-sm",value:"X"},null,8,e1)])]))),128))])]),_:1},8,["modalProps"]),k(n,{id:"loading",modalProps:e.loadingModalProps},{default:C(()=>[t1]),_:1},8,["modalProps"])])])}const s1=D(Dm,[["render",o1]]),n1={setup(){const e=A(),o=I(),{token:c}=V(o),{character:m,charlevel:g,serverCharacters:_,driveCharacters:n,charGroups:s}=V(e),{getOneFromServer:i,loadFromDrive:h,deleteFromServer:b}=e;return{userinfo:o,token:c,character:m,charlevel:g,characters:_,filelist:n,groups:s,getOneFromServer:i,loadFromDrive:h,deleteFromServer:b}},components:{modal:K},computed:{charsorted(){return this.forceupdatevalue,this.characters.sort((e,o)=>e.name>o.name?1:o.name>e.name?-1:this.charlevel(e)>this.charlevel(o)?1:-1).filter(e=>this.groupfilter==="all"?!0:this.groupfilter===e.group.name)}},data(){return{comp:this,forceupdatevalue:0,groupfilter:{id:"all",name:"all"},serverModalProps:{isActive:!1,title:"Load Character"},loadingModalProps:{isActive:!1,title:"Load Character"}}},methods:{loadChar(e){this.getOneFromServer(e),this.serverModalProps.isActive=!0},forceupdate(){this.forceupdatevalue++}}},l1=["value"],a1={class:"table table-striped"},i1=t("tr",null,[t("th",null,"Character Name"),t("th",null,"Level"),t("th",null,"-")],-1),r1=["onClick"],u1=["onClick"],d1=t("img",{src:"https://elthelas-images.herokuapp.com/giphy.gif",alt:"Loading"},null,-1);function c1(e,o,c,m,g,_){const n=S("modal");return l(),a("div",null,[k(n,{id:"servermodal",modalProps:e.serverModalProps},{default:C(()=>[d(" Group: "),u(t("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>e.groupfilter=s)},[(l(!0),a(y,null,$(e.groups,s=>(l(),a("option",{key:s.id,value:s,onChanged:o[0]||(o[0]=i=>e.forceupdate())},r(s.name),41,l1))),128))],512),[[w,e.groupfilter]]),t("table",a1,[i1,(l(!0),a(y,null,$(e.charsorted,s=>(l(),a("tr",{key:s._id},[t("td",null,[t("span",{class:"clickable",onClick:i=>e.loadChar(s._id)},r(s.name),9,r1)]),t("td",null,r(e.charlevel(s)),1),t("td",null,[t("input",{type:"button",onClick:i=>e.deleteFromServer({character:s,comp:e.comp}),class:"btn btn-danger",value:"X"},null,8,u1)])]))),128))])]),_:1},8,["modalProps"]),k(n,{id:"loading",modalProps:e.loadingModalProps},{default:C(()=>[d1]),_:1},8,["modalProps"])])}const h1=D(n1,[["render",c1]]),p1={setup(){const e=A(),o=I(),{character:c,getSaveDC:m,getDamageBonus:g}=V(e);return{character:c,getSaveDC:m,getDamageBonus:g,userinfo:o}},data(){return{newroll:{name:"",stat:0,damage:[{dice:"",label:"",damagebonus:0,addstat:!1,prof:!1,higherlevels:""}],range:"",edit:!1,savestat:"",savefor:"",description:""},rollmodal:!1}},methods:{addRoll(){this.character.rolls.push(this.newroll),this.newroll={name:"",stat:0,damage:[{dice:"",label:"",damagebonus:0,addstat:!1,prof:!1,higherlevels:""}],range:"",edit:!1,savestat:"",savefor:"",description:""},this.rollmodal=!1},removeRoll(e){this.character.rolls.splice(e,1)},addDamage(e){e.damage.push({dice:"",label:"",damagebonus:0,addstat:!1,prof:!1,higherlevels:""})},removeDamage(e,o){e.damage.splice(o,1)}}},m1={class:"charsheet-static",id:"attackdiv"},v1=t("h4",null,"Other Rolls",-1),b1={key:0},y1={key:1},$1={key:0},f1=["onClick"],g1=["onClick"],k1=["onUpdate:modelValue"],_1=["onUpdate:modelValue"],w1=t("option",{value:0},"Strength",-1),C1=t("option",{value:1},"Dexterity",-1),S1=t("option",{value:2},"Constitution",-1),V1=t("option",{value:3},"Intelligence",-1),U1=t("option",{value:4},"Wisdom",-1),M1=t("option",{value:5},"Charisma",-1),A1=[w1,C1,S1,V1,U1,M1],D1=["onUpdate:modelValue"],T1=t("option",{value:""},"No Save",-1),R1=t("option",{value:"Strength"},"Strength",-1),L1=t("option",{value:"Dexterity"},"Dexterity",-1),P1=t("option",{value:"Constitution"},"Constitution",-1),I1=t("option",{value:"Intelligence"},"Intelligence",-1),N1=t("option",{value:"Wisdom"},"Wisdom",-1),E1=t("option",{value:"Charisma"},"Charisma",-1),q1=t("option",{value:"Varies (see description)"},"Varies (see description)",-1),W1=[T1,R1,L1,P1,I1,N1,E1,q1],B1=["onUpdate:modelValue"],H1=["onUpdate:modelValue"],F1=["onUpdate:modelValue"],j1=["onUpdate:modelValue"],z1=["onUpdate:modelValue"],O1=["onUpdate:modelValue"],Y1=["onUpdate:modelValue"],G1=t("br",null,null,-1),X1=["onUpdate:modelValue"],K1=t("br",null,null,-1),Q1=["onUpdate:modelValue"],J1=["onClick"],Z1=["onClick"],x1=t("option",{value:0},"Strength",-1),ev=t("option",{value:1},"Dexterity",-1),tv=t("option",{value:2},"Constitution",-1),ov=t("option",{value:3},"Intelligence",-1),sv=t("option",{value:4},"Wisdom",-1),nv=t("option",{value:5},"Charisma",-1),lv=[x1,ev,tv,ov,sv,nv],av=t("option",{value:""},"No Save",-1),iv=t("option",{value:"Strength"},"Strength",-1),rv=t("option",{value:"Dexterity"},"Dexterity",-1),uv=t("option",{value:"Constitution"},"Constitution",-1),dv=t("option",{value:"Intelligence"},"Intelligence",-1),cv=t("option",{value:"Wisdom"},"Wisdom",-1),hv=t("option",{value:"Charisma"},"Charisma",-1),pv=[av,iv,rv,uv,dv,cv,hv],mv=["onUpdate:modelValue"],vv=["onUpdate:modelValue"],bv=["onUpdate:modelValue"],yv=["onUpdate:modelValue"],$v=t("br",null,null,-1),fv=["onUpdate:modelValue"],gv=t("br",null,null,-1),kv=["onUpdate:modelValue"],_v=["onClick"];function wv(e,o,c,m,g,_){const n=S("b-modal");return l(),a("div",m1,[v1,(l(!0),a(y,null,$(e.character.rolls,(s,i)=>(l(),a("div",{key:i,class:"smalltext"},[t("strong",null,r(s.name)+":",1),d(", range "+r(s.range)+", ",1),(l(!0),a(y,null,$(s.damage,(h,b)=>(l(),a("span",{key:b},[d(r(h.dice),1),e.getDamageBonus(h,s.stat)>0?(l(),a("span",b1,"+ "+r(e.getDamageBonus(h,s.stat)),1)):v("",!0),e.getDamageBonus(h,s.stat)<0?(l(),a("span",y1,r(e.getDamageBonus(h,s.stat)),1)):v("",!0),d(" "+r(h.label),1)]))),128)),d(),s.savestat?(l(),a("span",$1,"DC "+r(e.getSaveDC(s.stat))+" "+r(s.savestat)+" "+r(s.savefor),1)):v("",!0),d(" "+r(s.description)+". ",1),t("button",{type:"button",class:"print-hide btn-symbol",onClick:h=>s.edit=!0},"\u270E",8,f1),t("button",{type:"button",onClick:h=>e.removeRoll(i),class:"print-hide btn btn-sm btn-danger"},"X",8,g1),k(n,{modelValue:s.edit,"onUpdate:modelValue":h=>s.edit=h},{default:C(()=>[d(" Name: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.name=h},null,8,k1),[[p,s.name]]),d(" Ability "),u(t("select",{class:"form-control","onUpdate:modelValue":h=>s.stat=h},A1,8,_1),[[w,s.stat]]),d(" Save? "),u(t("select",{class:"form-control","onUpdate:modelValue":h=>s.savestat=h},W1,8,D1),[[w,s.savestat]]),d(" Save Effect "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.savefor=h},null,8,B1),[[p,s.savefor]]),d(" Range "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.range=h},null,8,H1),[[p,s.range]]),d(" Description "),u(t("textarea",{class:"form-control","onUpdate:modelValue":h=>s.description=h},null,8,F1),[[p,s.description]]),(l(!0),a(y,null,$(s.damage,(h,b)=>(l(),a("div",{key:b},[d(" Dice: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":f=>h.dice=f},null,8,j1),[[p,h.dice]]),d(" Higher Levels Dice: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":f=>h.higherlevels=f},null,8,z1),[[p,h.higherlevels]]),d(" Bonus (not including ability mod or proficiency): "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":f=>h.damagebonus=f},null,8,O1),[[p,h.damagebonus]]),u(t("input",{type:"checkbox","onUpdate:modelValue":f=>h.addstat=f},null,8,Y1),[[M,h.addstat]]),d("Add Ability Mod?"),G1,u(t("input",{type:"checkbox","onUpdate:modelValue":f=>h.prof=f},null,8,X1),[[M,h.prof]]),d("Add Proficiency?"),K1,d(" Type: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":f=>h.label=f},null,8,Q1),[[p,h.label]]),t("button",{onClick:f=>e.removeDamage(s,b),class:"btn btn-sm btn-danger"},"Remove",8,J1)]))),128)),t("button",{onClick:h=>e.addDamage(s),class:"btn btn-primary btn-sm"},"Add Damage",8,Z1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128)),t("button",{type:"button",onClick:o[0]||(o[0]=s=>e.rollmodal=!0),class:"print-hide btn btn-primary btn-sm"},"+"),k(n,{modelValue:e.rollmodal,"onUpdate:modelValue":o[8]||(o[8]=s=>e.rollmodal=s),title:"Add Roll",onOk:o[9]||(o[9]=s=>e.addRoll())},{default:C(()=>[d(" Name: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>e.newroll.name=s)},null,512),[[p,e.newroll.name]]),d(" Ability "),u(t("select",{class:"form-control","onUpdate:modelValue":o[2]||(o[2]=s=>e.newroll.stat=s)},lv,512),[[w,e.newroll.stat]]),d(" Save? "),u(t("select",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=s=>e.newroll.savestat=s)},pv,512),[[w,e.newroll.savestat]]),d(" Save Effect "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=s=>e.newroll.savefor=s)},null,512),[[p,e.newroll.savefor]]),d(" Range: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=s=>e.newroll.range=s)},null,512),[[p,e.newroll.range]]),d(" Description "),u(t("textarea",{class:"form-control","onUpdate:modelValue":o[6]||(o[6]=s=>e.newroll.description=s)},null,512),[[p,e.newroll.description]]),(l(!0),a(y,null,$(e.newroll.damage,(s,i)=>(l(),a("div",{key:i},[d(" Dice: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.dice=h},null,8,mv),[[p,s.dice]]),d(" Higher Levels Dice: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.higherlevels=h},null,8,vv),[[p,s.higherlevels]]),d(" Bonus (not including ability mod or proficiency): "),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":h=>s.damagebonus=h},null,8,bv),[[p,s.damagebonus]]),u(t("input",{type:"checkbox","onUpdate:modelValue":h=>s.addstat=h},null,8,yv),[[M,s.addstat]]),d("Add Ability Mod?"),$v,u(t("input",{type:"checkbox","onUpdate:modelValue":h=>s.prof=h},null,8,fv),[[M,s.prof]]),d("Add Proficiency?"),gv,d(" Type: "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":h=>s.label=h},null,8,kv),[[p,s.label]]),t("button",{onClick:h=>e.removeDamage(e.newroll,i),class:"btn btn-sm btn-danger"},"Remove",8,_v)]))),128)),t("button",{onClick:o[7]||(o[7]=s=>e.addDamage(e.newroll)),class:"btn btn-primary btn-sm"},"Add Damage")]),_:1},8,["modelValue"])])}const Cv=D(p1,[["render",wv]]),Sv={setup(){const e=A(),o=I(),c=J(),{creatures:m}=V(c),{character:g}=V(e),{getCreature:_,getAllCreatures:n}=c;return{creatures:m,character:g,userinfo:o,getCreature:_,getAllCreatures:n}},computed:{filteredcreatures(){let e=this;return this.creatures.filter(o=>{var c=e.creaturefilter.split(" ");let m=!0;return c.forEach(g=>{let _=e.creaturestable.filterBy.some(function(n){for(var s in o)if(n===s&&o[s].toString().toLowerCase().includes(g.toLowerCase()))return!0});e.creaturefilter&&!_&&(m=!1)}),!!m})}},data(){return{importPetModal:!1,creaturestable:{fields:[{key:"name",label:"Name",sortable:!0},{key:"size",label:"Size",sortable:!0},{key:"cr",label:"CR",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"subtype",label:"Subtype",sortable:!0}],filterValue:"",sortBy:null,sortDesc:!1,filterBy:["name","size","cr","subtype"]},creaturefilter:""}},methods:{addPet(){this.character.pets.push(le())},deletePet(e){confirm("Are you sure you want to delete "+e.name+"? They are openly weeping at your cowardly betrayal.")&&this.character.pets.splice(this.character.pets.findIndex(o=>o.id===e.id),1)},async importPet(e){let o=le();var c=await this.getCreature(e._id);o.name=c.name,o.species=c.name,o.size=c.size,o.ac=c.ac,o.speed=c.speed,o.hpmax=c.hp,o.hp=c.hp,o.abilityscores=[c.str,c.dex,c.con,c.int,c.wis,c.cha],o.features=c.description,this.character.pets.push(o),this.importPetModal=!1},calcScoreMod(e){return Math.floor(e/2)-5}}},Vv={class:"charsheet-static"},Uv=t("h3",null,"Pets",-1),Mv={class:"col-sm-4"},Av={class:"col-sm"},Dv={class:"col-sm"},Tv=["onUpdate:modelValue"],Rv={class:"col-sm"},Lv={class:"btn-group"},Pv=["onClick"],Iv=["onClick"],Nv={class:"row"},Ev={class:"col-sm"},qv=["onUpdate:modelValue"],Wv={class:"col-sm"},Bv=["onUpdate:modelValue"],Hv={class:"col-sm"},Fv=["onUpdate:modelValue"],jv=t("option",{value:"tiny"},"Tiny",-1),zv=t("option",{value:"small"},"Small",-1),Ov=t("option",{value:"medium"},"Medium",-1),Yv=t("option",{value:"large"},"Large",-1),Gv=t("option",{value:"huge"},"Huge",-1),Xv=t("option",{value:"gargantuan"},"Gargantuan",-1),Kv=[jv,zv,Ov,Yv,Gv,Xv],Qv={class:"col-sm"},Jv=["onUpdate:modelValue"],Zv={class:"row"},xv={class:"col-sm"},eb=["onUpdate:modelValue"],tb=t("br",null,null,-1),ob={class:"col-sm"},sb=["onUpdate:modelValue"],nb=t("br",null,null,-1),lb={class:"col-sm-8"},ab={class:"abilitytable"},ib=t("tr",null,[t("th",null,"STR"),t("th",null,"DEX"),t("th",null,"CON"),t("th",null,"INT"),t("th",null,"WIS"),t("th",null,"CHA")],-1),rb=["onUpdate:modelValue"],ub=["onUpdate:modelValue"],db=["onUpdate:modelValue"],cb=["onUpdate:modelValue"],hb=["onUpdate:modelValue"],pb=["onUpdate:modelValue"],mb={key:0},vb={key:0},bb={key:0},yb={key:0},$b={key:0},fb={key:0},gb={class:"row"},kb={class:"col-sm-12"},_b=["onUpdate:modelValue"],wb={style:{"overflow-y":"scroll",height:"500px"}},Cb=["onClick"];function Sb(e,o,c,m,g,_){const n=S("b-modal"),s=S("b-table");return l(),a("div",Vv,[Uv,(l(!0),a(y,null,$(e.character.pets,i=>(l(),a("div",{key:i.id,class:"row"},[t("div",Mv,r(i.name),1),t("div",Av," AC: "+r(i.ac),1),t("div",Dv,[d(" HP: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.hp=h},null,8,Tv),[[p,i.hp]]),d(" / "+r(i.hpmax),1)]),t("div",Rv,[t("div",Lv,[t("button",{class:"btn btn-primary btn-sm",onClick:h=>i.showPetDetails=!0},"Details",8,Pv),t("button",{class:"btn btn-danger btn-sm",onClick:h=>e.deletePet(i)},"Delete",8,Iv)])]),k(n,{modelValue:i.showPetDetails,"onUpdate:modelValue":h=>i.showPetDetails=h,title:i.name,size:"lg","modal-class":e.userinfo.themesetting,"hide-footer":""},{default:C(()=>[t("div",Nv,[t("div",Ev,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":h=>i.name=h},null,8,qv),[[p,i.name]]),d(" Name ")]),t("div",Wv,[u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":h=>i.species=h},null,8,Bv),[[p,i.species]]),d(" Species ")]),t("div",Hv,[u(t("select",{"onUpdate:modelValue":h=>i.size=h,class:"charsheet-text"},Kv,8,Fv),[[w,i.size]]),d(" Size ")]),t("div",Qv,[u(t("input",{type:"text","onUpdate:modelValue":h=>i.speed=h,class:"charsheet-text"},null,8,Jv),[[p,i.speed]]),d(" Speed ")])]),t("div",Zv,[t("div",xv,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.ac=h},null,8,eb),[[p,i.ac]]),tb,d(" AC ")]),t("div",ob,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.hpmax=h},null,8,sb),[[p,i.hpmax]]),nb,d(" HP Max ")]),t("div",lb,[t("table",ab,[ib,t("tr",null,[t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[0]=h},null,8,rb),[[p,i.abilityscores[0]]])]),t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[1]=h},null,8,ub),[[p,i.abilityscores[1]]])]),t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[2]=h},null,8,db),[[p,i.abilityscores[2]]])]),t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[3]=h},null,8,cb),[[p,i.abilityscores[3]]])]),t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[4]=h},null,8,hb),[[p,i.abilityscores[4]]])]),t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":h=>i.abilityscores[5]=h},null,8,pb),[[p,i.abilityscores[5]]])])]),t("tr",null,[t("td",null,[e.calcScoreMod(i.abilityscores[0])>0?(l(),a("span",mb,"+")):v("",!0),d(r(e.calcScoreMod(i.abilityscores[0])),1)]),t("td",null,[e.calcScoreMod(i.abilityscores[1])>0?(l(),a("span",vb,"+")):v("",!0),d(r(e.calcScoreMod(i.abilityscores[1])),1)]),t("td",null,[e.calcScoreMod(i.abilityscores[2])>0?(l(),a("span",bb,"+")):v("",!0),d(r(e.calcScoreMod(i.abilityscores[2])),1)]),t("td",null,[e.calcScoreMod(i.abilityscores[3])>0?(l(),a("span",yb,"+")):v("",!0),d(r(e.calcScoreMod(i.abilityscores[3])),1)]),t("td",null,[e.calcScoreMod(i.abilityscores[4])>0?(l(),a("span",$b,"+")):v("",!0),d(r(e.calcScoreMod(i.abilityscores[4])),1)]),t("td",null,[e.calcScoreMod(i.abilityscores[5])>0?(l(),a("span",fb,"+")):v("",!0),d(r(e.calcScoreMod(i.abilityscores[5])),1)])])])])]),t("div",gb,[t("div",kb,[d(" Features "),u(t("textarea",{"onUpdate:modelValue":h=>i.features=h,class:"charsheet-text",style:{"min-height":"200px"}},null,8,_b),[[p,i.features]])])])]),_:2},1032,["modelValue","onUpdate:modelValue","title","modal-class"])]))),128)),t("button",{class:"btn btn-primary btn-sm",onClick:o[0]||(o[0]=i=>e.addPet())},"Add New"),t("button",{class:"btn btn-primary btn-sm",onClick:o[1]||(o[1]=i=>e.importPetModal=!0)},"Import Creature"),k(n,{modelValue:e.importPetModal,"onUpdate:modelValue":o[3]||(o[3]=i=>e.importPetModal=i),title:"Import Creature as Pet","modal-class":e.userinfo.themesetting,"hide-footer":"",size:"lg"},{default:C(()=>[u(t("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=i=>e.creaturefilter=i),class:"charsheet-text"},null,512),[[p,e.creaturefilter]]),d(" Search "),t("div",wb,[k(s,{"show-empty":"",id:"creaturetable",striped:!0,bordered:!1,responsive:!0,stacked:"sm",items:e.filteredcreatures,fields:e.creaturestable.fields,"sort-by":e.creaturestable.sortBy,"sort-desc":e.creaturestable.sortDesc},{"cell(name)":C(i=>[t("span",null,[t("a",{href:"#",onClick:E(h=>e.importPet(i.item,i.index,h.target),["stop"])},r(i.value),9,Cb)])]),_:1},8,["items","fields","sort-by","sort-desc"])])]),_:1},8,["modelValue","modal-class"])])}const Vb=D(Sv,[["render",Sb]]),Ub=[{name:"Archery",description:"You gain a +2 bonus to attack rolls you make with ranged weapons."},{name:"Defense",description:"While you are wearing armor, you gain a +1 bonus to AC."},{name:"Dueling",description:"When you are wielding a melee weapon in one hand and no other weapons, you gain a +2 bonus to damage rolls with that weapon."},{name:"Great Weapon Fighting",description:"When you roll a 1 or 2 on a damage die for an attack you make with a melee weapon that you are wielding with two hands, you can reroll the die and must use the new roll, even if the new roll is a 1 or a 2. The weapon must have the two-handed or versatile property for you to gain this benefit."},{name:"Protection",description:"When a creature you can see attacks a target other than you that is within 5 feet of you, you can use your reaction to impose disadvantage on the attack roll. You must be wielding a shield."},{name:"Two-Weapon Fighting",description:"When you engage in two-weapon fighting, you can add your ability modifier to the damage of the second attack."},{name:"Blind Fighting",description:"You have blindsight with a range of 10 feet. Within that range, you can effectively see anything that isn't behind total cover, even if you are blinded or in darkness. Moreover, you can see an invisible creature within that range, unless the creature successfully hides from you."},{name:"Interception",description:"When a creature you can see hits a target, other than you, within 5 feet of you with an attack, you can use your reaction to reduce the damage the target takes by 1d10 + your proficiency bonus (to a minimum of 0 damage). You must be wielding a shield or a simle or martial weapon to use this reaction."},{name:"Superior Technique",description:`You learn one maneuver of your choice from among those available to the Battle Master archetype. If a maneuver you use requires your target to make a saving throw to resist the maneuver's effects, the saving throw DC equals 8 + your proficiency bonus + your Strength or Dexterity modifier (your choice).

You gain one superiority die, which is a d6 (this die is added to any superiority dice you have from another source). The die is used to fuel your maneuvers. A superiority die is expended when you use it. You regain your expended superiority dice when you finish a short or long rest.`},{name:"Thrown Weapon Fighting",description:`You can draw a weapon that has the thrown property as part of the attack you make with the weapon.

In addition, when you hit with a ranged attack using a thrown weapon, you gain a +2 bonus to the damage roll.`},{name:"Unarmed Fighting",description:`Your unarmed strikes can deal bludgeoning damage equal to 1d8 + your Strength modifier on a hit. If you aren't wielding any weapons or a shield when you make the attack roll, the d8 becomes a d10.

At the start of each of your turns you can deal 1d4 bludgeoning damage to one creature grappled by you.`},{name:"Blessed Warrior",description:"You learn two cantrips of your choice from the cleric spell list. They count as paladin spells for you, and Charisma is your spellcasting ability for them. Whenever you gain a level in this class, you can replace one of these cantrips with another cantrip from the cleric spell list."},{name:"Druidic Warrior",description:"You learn two cantrips of your choice from the druid spell list. They count as ranger spells for you, and Wisdom is your spellcasting ability for them. Whenever you gain a level in this class, you can replace one of these cantrips with another cantrip from the druid spell list."}],Mb=[{name:"Careful Spell",description:"When you cast a spell that forces other creatures to make a saving throw, you can protect some of those creatures from the spell\u2019s full force. To do so, you spend 1 sorcery point and choose a number of those creatures up to your Charisma modifier (minimum of one creature). A chosen creature automatically succeeds on its saving throw against the spell."},{name:"Distant Spell",description:`When you cast a spell that has a range of 5 feet or greater, you can spend 1 sorcery point to double the range of the spell.

When you cast a spell that has a range of touch, you can spend 1 sorcery point to make the range of the spell 30 feet.`},{name:"Empowered Spell",description:`When you roll damage for a spell, you can spend 1 sorcery point to reroll a number of the damage dice up to your Charisma modifier (minimum of one). You must use the new rolls.

You can use Empowered Spell even if you have already used a different Metamagic option during the casting of the spell.`},{name:"Extended Spell",description:"When you cast a spell that has a duration o f 1 minute or longer, you can spend 1 sorcery point to double its duration, to a maximum duration of 24 hours."},{name:"Heightened Spell",description:"When you cast a spell that forces a creature to make a saving throw to resist its effects, you can spend 3 sorcery points to give one target of the spell disadvantage on its first saving throw made against the spell."},{name:"Quickened Spell",description:"When you cast a spell that has a casting time of 1 action, you can spend 2 sorcery points to change the casting time to 1 bonus action for this casting."},{name:"Subtle Spell",description:"When you cast a spell, you can spend 1 sorcery point to cast it without any somatic or verbal components."},{name:"Twinned Spell",description:"When you cast a spell that targets only one creature and doesn\u2019t have a range of self, you can spend a number of sorcery points equal to the spell\u2019s level to target a second creature in range with the same spell (1 sorcery point if the spell is a cantrip). To be eligible, a spell must be incapable of targeting more than one creature at the spell\u2019s current level. For example, magic missile and scorching ray aren\u2019t eligible, but ray of frost and chromatic orb are."},{name:"Seeking Spell",description:`If you make an attack roll for a spell and miss, you can spend 2 sorcery points to reroll the d20, and you must use the new roll.

You can use Seeking Spell even if you have already used a different Metamagic option during the casting of the spell.`},{name:"Transmuted Spell",description:"When you cast a spell that deals a type of damage from the following list, you can spend 1 sorcery point to change that damage type to one of the other listed types: acid, cold, fire, lightning, poison, thunder."}],Ab=[{name:"Tumble",skill:"Acrobatics",description:"You can move through an opponents space. Their space is considered difficult terrain."},{name:"Back on Your Feet",skill:"Acrobatics",description:"You can stand up from prone using only 5 feet of movement."},{name:"Magical Appraisal",skill:"Arcana",description:"You can identify the properties of magic items similarly to the identify spell."},{name:"Fast Mount",skill:"Animal Handling",description:"You can mount or dismount a creature using only 5 feet of movement."},{name:"Extreme Leap",skill:"Athletics",description:"Your jump distance increases by 10 ft."},{name:"Corner Perch",skill:"Athletics",description:"While climbing, if you are in a corner you can brace yourself with your legs allowing you to have both hands free."},{name:"Assume Quirk",skill:"Deception",description:"You have advantage on deception checks made to pretend to be someone you are not."},{name:"Social Recovery",skill:"Deception",description:"When you or an ally you can hear fails a persuasion check you can immediately make a deception check replacing the result of the persuasion check."},{name:"Appraiser",skill:"History",description:"You can easily figure out the value of items. You can easily determine the value of any non-magical item or magical item you have identified."},{name:"Lore Master",skill:"History",description:"Whenever you visit a location on the material plane, you can recall an anecdote about that place you have heard or read before."},{name:"Lie Detector",skill:"Insight",description:"You have advantage on insight checks to determine if a creature is lying."},{name:"Distracting Taunt",skill:"Intimidation",description:"So long as an opponent can hear you, you can use a bonus action to attempt to disrupt their concentration on a spell. The target of this effect must immediately make a DC 15 Constitution Save to maintain concentration."},{name:"Trap Sight",skill:"Investigation",description:"The DC required to find a trap is reduced by 5."},{name:"Healing Hands",skill:"Medicine",description:"Heal a creature by an additional 1d6 hit points when you use the First Aid action and succeed on the medicine check."},{name:"Naturalist",skill:"Nature",description:"You have advantage on nature checks to identify plants."},{name:"Clarity of Vision",skill:"Perception",description:"You can see in lightly obscured areas or dim light as if they were unobscured/brightly lit."},{name:"Listen to This",skill:"Perception",description:"You can repeat things that you have recently heard from others verbatim."},{name:"Haggler",skill:"Persuasion",description:"When shopping you get a 10% discount on all purchases."},{name:"Prayer to the Heavens",skill:"Religion",description:"You can spend one minute praying in order to give yourself advantage on the next ability check you make."},{name:"Clever Improviser",skill:"Slight of Hand",description:"You can disable traps and locks without thieves tools."},{name:"Sudden Draw",skill:"Slight of Hand",description:"As a reaction when a creature moves out of your reach and you have at least 1 hand free you can draw a concealed weapon to make an attack of opportunity as if you were already holding that weapon."},{name:"Disappear",skill:"Stealth",description:"You can hide even if you only have partial cover or are lightly obscured."},{name:"Expert Tracker",skill:"Survival",description:"You can identify the number and species of creatures based on tracks that you find."}],Db={setup(){const e=A(),{character:o}=V(e);return{fightingstyles:Ub,infusions:Ce,metamagic:Mb,invocations:Se,character:o,skilltricks:Ab}},computed:{availabletricks(){return this.skilltricks.filter(e=>{for(let o in this.character.skilltricks)if(this.character.skilltricks[o].name===e.name)return!1;return!0})},numTricks(){var e=0;for(this.character.charclasses.forEach(o=>{o.thisclass.name==="Rogue"&&o.level>=4&&(e=1,e+=Math.floor((o.level-1)/4))}),this.character.feats.forEach(o=>{o.name==="Tricky Character"&&e++}),e+=Number(this.character.bonustricks);this.character.skilltricks.length<e;)this.character.skilltricks.push({name:"",skill:"",description:""});return this.character.skilltricks.length>e&&(this.character.skilltricks.length=e),e},availablestyles(){return this.fightingstyles.filter(e=>{for(let o in this.character.fightingstyles)if(this.character.fightingstyles[o].name===e.name)return!1;return!0})},availableinfusions(){return this.infusions.filter(o=>{for(let c in this.character.charclasses)if(this.character.charclasses[c].thisclass.name==="Artificer"&&this.character.charclasses[c].level>=o.level)return!0;return o.level===0}).filter(o=>{for(let c in this.character.infusions)if(this.character.infusions[c].name===o.name)return!1;return!0})},availablemetamagic(){return this.metamagic.filter(e=>{for(let o in this.character.metamagic)if(this.character.metamagic[o].name===e.name)return!1;return!0})},availableinvocations(){return this.invocations.filter(e=>{for(let o in this.character.invocations)if(this.character.invocations[o].name===e.name)return!1;return!0})},numMeta(){var e=0;for(this.character.charclasses.forEach(o=>{o.thisclass.name==="Sorcerer"&&o.level>=3&&(e+=2,o.level>=10&&e++,o.level>=14&&e++)}),this.character.feats.forEach(o=>{o.name==="Metamagic Adept"&&(e+=1)}),e+=Number(this.character.bonusmetamagic);this.character.metamagic.length<e;)this.character.metamagic.push({name:"",description:""});return this.character.metamagic.length>e&&(this.character.metamagic.length=e),e},numStyles(){var e=0;for(this.character.charclasses.forEach(o=>{o.thisclass.name==="Fighter"&&o.level>=2&&(e++,o.selsubclass.name==="Champion"&&o.level>=10&&e++),o.level>=2&&(o.thisclass.name==="Paladin"||o.thisclass.name==="Ranger")&&e++,o.level>=2&&o.selsubclass.name==="Brains Over Brawn"&&e++,o.level>=2&&o.selsubclass.name==="College of Swords"&&e++}),this.character.feats.forEach(o=>{o.name==="Fighting Initiate"&&e++}),e+=Number(this.character.bonusstyles);this.character.fightingstyles.length<e;)this.character.fightingstyles.push({name:"",description:""});return this.character.fightingstyles.length>e&&(this.character.fightingstyles.length=e),e},numInfusionsKnown(){var e=0;for(this.character.charclasses.forEach(o=>{o.thisclass.name==="Artificer"&&o.level>=3&&o.thisclass.resources.forEach(c=>{if(c.name==="Infusions Known"){let m=c.count.findLast(g=>o.level>=g[0]);m!==void 0&&(e=m[1])}})}),e+=Number(this.character.bonusinfusions);this.character.infusions.length<e;)this.character.infusions.push({name:"",level:0,item:"",description:""});return this.character.infusions.length>e&&(this.character.infusions.length=e),e},numInvocations(){var e=0;for(this.character.charclasses.forEach(o=>{o.thisclass.name==="Warlock"&&o.level>=2&&o.thisclass.resources.forEach(c=>{if(c.name==="Invocations"){let m=c.count.findLast(g=>o.level>=g[0]);m!==void 0&&(e=m[1])}})}),this.character.feats.forEach(o=>{o.name==="Eldritch Adept"&&e++}),e+=Number(this.character.bonusinvocations);this.character.invocations.length<e;)this.character.invocations.push({name:"",level:0,item:"",description:""});return this.character.invocations.length>e&&(this.character.invocations.length=e),e}}},Tb={class:"row"},Rb={class:"col-3"},Lb=["onUpdate:modelValue"],Pb=["value","title"],Ib=["value","title"],Nb={class:"col-3"},Eb=["onUpdate:modelValue"],qb=["value","title"],Wb=["value","title"],Bb={class:"col-3"},Hb=["onUpdate:modelValue"],Fb=["value","title"],jb=["value","title"],zb={class:"col-3"},Ob=["onUpdate:modelValue"],Yb=["value","title"],Gb=["title","value"],Xb={class:"row"},Kb={class:"col-3"},Qb=["onUpdate:modelValue"],Jb=["value","title"],Zb=["title","value"];function xb(e,o,c,m,g,_){return l(),a(y,null,[t("div",Tb,[t("div",Rb,[t("h4",null,"Fighting Styles: "+r(e.numStyles),1),t("div",null,[d(" Bonus: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[0]||(o[0]=n=>e.character.bonusstyles=n)},null,512),[[p,e.character.bonusstyles]])]),(l(!0),a(y,null,$(e.character.fightingstyles,(n,s)=>(l(),a("div",{key:n.name},[u(t("select",{class:"charsheet-text","onUpdate:modelValue":i=>e.character.fightingstyles[s]=i},[t("option",{value:e.character.fightingstyles[s],title:e.character.fightingstyles[s].description},r(e.character.fightingstyles[s].name),9,Pb),(l(!0),a(y,null,$(e.availablestyles,i=>(l(),a("option",{key:i.name,value:i,title:i.description},r(i.name),9,Ib))),128))],8,Lb),[[w,e.character.fightingstyles[s]]])]))),128))]),t("div",Nb,[t("h4",null,"Infusions Known: "+r(e.numInfusionsKnown),1),t("div",null,[d(" Bonus: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[1]||(o[1]=n=>e.character.bonusinfusions=n)},null,512),[[p,e.character.bonusinfusions]])]),(l(!0),a(y,null,$(e.character.infusions,(n,s)=>(l(),a("div",{key:n.name},[u(t("select",{class:"charsheet-text","onUpdate:modelValue":i=>e.character.infusions[s]=i},[t("option",{value:e.character.infusions[s],title:e.character.infusions[s].description},r(e.character.infusions[s].name),9,qb),(l(!0),a(y,null,$(e.availableinfusions,i=>(l(),a("option",{key:i.name,value:i,title:i.description},r(i.name),9,Wb))),128))],8,Eb),[[w,e.character.infusions[s]]])]))),128))]),t("div",Bb,[t("h4",null,"Metamagic Options: "+r(e.numMeta),1),t("div",null,[d(" Bonus: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[2]||(o[2]=n=>e.character.bonusmetamagic=n)},null,512),[[p,e.character.bonusmetamagic]])]),(l(!0),a(y,null,$(e.character.metamagic,(n,s)=>(l(),a("div",{key:e.metamagic.name},[u(t("select",{class:"charsheet-text","onUpdate:modelValue":i=>e.character.metamagic[s]=i},[t("option",{value:e.character.metamagic[s],title:n.description},r(n.name),9,Fb),(l(!0),a(y,null,$(e.availablemetamagic,i=>(l(),a("option",{key:i.name,value:i,title:i.description},r(i.name),9,jb))),128))],8,Hb),[[w,e.character.metamagic[s]]])]))),128))]),t("div",zb,[t("h4",null,"Invocations: "+r(e.numInvocations),1),t("div",null,[d(" Bonus: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[3]||(o[3]=n=>e.character.bonusinvocations=n)},null,512),[[p,e.character.bonusinvocations]])]),(l(!0),a(y,null,$(e.character.invocations,(n,s)=>(l(),a("div",{key:n.name},[u(t("select",{class:"charsheet-text","onUpdate:modelValue":i=>e.character.invocations[s]=i},[t("option",{value:e.character.invocations[s],title:n.description},r(e.character.invocations[s].name),9,Yb),(l(!0),a(y,null,$(e.availableinvocations,i=>(l(),a("option",{key:i.name,title:i.description,value:i},r(i.name),9,Gb))),128))],8,Ob),[[w,e.character.invocations[s]]])]))),128))])]),t("div",Xb,[t("div",Kb,[t("h4",null,"Skill Tricks: "+r(e.numTricks),1),t("div",null,[d(" Bonus: "),u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":o[4]||(o[4]=n=>e.character.bonustricks=n)},null,512),[[p,e.character.bonustricks]])]),(l(!0),a(y,null,$(e.character.skilltricks,(n,s)=>(l(),a("div",{key:n.name},[u(t("select",{class:"charsheet-text","onUpdate:modelValue":i=>e.character.skilltricks[s]=i},[t("option",{value:e.character.skilltricks[s],title:n.description},r(e.character.skilltricks[s].name),9,Jb),(l(!0),a(y,null,$(e.availabletricks,i=>(l(),a("option",{key:i.name,title:i.description,value:i},r(i.name),9,Zb))),128))],8,Qb),[[w,e.character.skilltricks[s]]])]))),128))])])],64)}const ey=D(Db,[["render",xb]]);function ie(){this.custom=!0,this.name="",this.stat=0,this.prof=0,this.magic=0}const ty={setup(){const e=A(),o=I(),{character:c,getSkillMod:m}=V(e),{addProficiency:g,removeProficiency:_}=e;return{userinfo:o,character:c,getSkillMod:m,addProficiency:g,removeProficiency:_}},data:function(){return{newProfModal:!1,newProf:new ie}},methods:{addProf(e){this.addProficiency(e),this.newProf=new ie},notRawCheck(e){return!(e.name==="Strength"||e.name==="Dexterity"||e.name==="Constitution"||e.name==="Intelligence"||e.name==="Wisdom"||e.name==="Charisma")},highlightProf(e){if(e==.5)return"half";if(e==1)return"prof";if(e==2)return"expert"},rollCheck(e){let o=P.roll("1d20").total,c=P.roll("1d20").total;alert("Base Roll: "+(o+e)+" ("+o+" + "+e+`)
Adv/Dis Roll: `+(c+e)+" ("+c+" + "+e+")")}}},oy={class:"abilitytable"},sy=t("thead",null,[t("tr",null,[t("th",null,"Skill"),t("th",null,"Prof?"),t("th",null,"Mod"),t("th",null,"Magic")])],-1),ny=["onClick"],ly=["onUpdate:modelValue"],ay=t("option",{value:0},"No",-1),iy=["value"],ry={key:0,value:1},uy={key:1,value:2},dy=["onClick"],cy={key:0},hy=["onUpdate:modelValue"],py={class:"print-hide"},my={colspan:"4"},vy={class:"charsheet-static"},by=t("h5",null,"Proficiencies and Languages",-1),yy={style:{"font-size":"9px","margin-bottom":"2px"}},$y=t("strong",null,"Background Proficiencies: ",-1),fy={key:0},gy={style:{"font-size":"9px","margin-bottom":"2px"}},ky=t("strong",null,"Class Skills: ",-1),_y={style:{"font-size":"9px","margin-bottom":"2px"}},wy=t("strong",null,"Armor: ",-1),Cy={style:{"font-size":"9px","margin-bottom":"2px"}},Sy=t("strong",null,"Weapons: ",-1),Vy={style:{"font-size":"9px","margin-bottom":"2px"}},Uy=t("strong",null,"Tools: ",-1),My={style:{"font-size":"9px","margin-bottom":"2px"}},Ay=t("strong",null,"Saves: ",-1),Dy=t("label",null,"Name",-1),Ty=t("label",null,"Ability",-1),Ry=t("option",{value:0},"Strength",-1),Ly=t("option",{value:1},"Dexterity",-1),Py=t("option",{value:2},"Constitution",-1),Iy=t("option",{value:3},"Intelligence",-1),Ny=t("option",{value:4},"Wisdom",-1),Ey=t("option",{value:5},"Charisma",-1),qy=[Ry,Ly,Py,Iy,Ny,Ey];function Wy(e,o,c,m,g,_){const n=S("b-modal");return l(),a("div",null,[t("table",oy,[sy,t("tbody",null,[(l(!0),a(y,null,$(e.character.skills,s=>(l(),a("tr",{key:s.name,class:T(e.highlightProf(s.prof))},[t("th",null,[d(r(s.name),1),s.custom?(l(),a("button",{key:0,class:"btn btn-danger print-hide btn-sm",onClick:i=>e.removeProficiency(s)},"-",8,ny)):v("",!0)]),t("td",null,[u(t("select",{"onUpdate:modelValue":i=>s.prof=i,class:"charsheet-num"},[ay,t("option",{value:.5},"Half",8,iy),e.notRawCheck(s)?(l(),a("option",ry,"Yes")):v("",!0),e.notRawCheck(s)?(l(),a("option",uy,"Exp")):v("",!0)],8,ly),[[w,s.prof]])]),t("td",null,[t("button",{onClick:i=>e.rollCheck(e.getSkillMod(s))},[e.getSkillMod(s)>-1?(l(),a("span",cy,"+")):v("",!0),d(r(e.getSkillMod(s)),1)],8,dy)]),t("td",null,[u(t("input",{type:"number",class:"charsheet-num","onUpdate:modelValue":i=>s.magic=i},null,8,hy),[[p,s.magic]])])],2))),128)),t("tr",py,[t("th",my,[t("button",{class:"btn btn-primary btn-sm",onClick:o[0]||(o[0]=s=>e.newProfModal=!0)},"+")])])])]),t("div",vy,[by,t("p",yy,[$y,d(" "+r([e.character.background.skills.join(", "),e.character.background.tools.join(", ")].join(", "))+" and "+r(e.character.background.languages)+" bonus language",1),e.character.background.languages!==1?(l(),a("span",fy,"s")):v("",!0)]),t("p",gy,[ky,d(" pick "+r(e.character.charclasses[0].thisclass.proficiencies.numskills)+" skills of your choice",1)]),t("p",_y,[wy,d(r(e.character.charclasses[0].thisclass.proficiencies.armor.join(", ")),1)]),t("p",Cy,[Sy,d(r(e.character.charclasses[0].thisclass.proficiencies.weapons.join(", ")),1)]),t("p",Vy,[Uy,d(r(e.character.charclasses[0].thisclass.proficiencies.tools.join(", ")),1)]),t("p",My,[Ay,d(r(e.character.charclasses[0].thisclass.proficiencies["saving throws"].join(", ")),1)]),u(t("textarea",{"onUpdate:modelValue":o[1]||(o[1]=s=>e.character.proficiencies=s),class:"charsheet-textarea smalltext",id:"profbox"},null,512),[[p,e.character.proficiencies]])]),k(n,{modelValue:e.newProfModal,"onUpdate:modelValue":o[4]||(o[4]=s=>e.newProfModal=s),"modal-class":e.userinfo.themesetting,onOk:o[5]||(o[5]=s=>e.addProf(e.newProf)),title:"Add Custom Skill"},{default:C(()=>[Dy,u(t("input",{type:"text",class:"charsheet-text","onUpdate:modelValue":o[2]||(o[2]=s=>e.newProf.name=s)},null,512),[[p,e.newProf.name]]),Ty,u(t("select",{"onUpdate:modelValue":o[3]||(o[3]=s=>e.newProf.stat=s),class:"charsheet-text"},qy,512),[[w,e.newProf.stat]])]),_:1},8,["modelValue","modal-class"])])}const By=D(ty,[["render",Wy]]),Hy={setup(){const e=A(),o=H(),c=I(),{character:m,getAttBonus:g,getSaveDC:_,getSlots:n,warlockSlots:s,warlockSlotLevel:i,totalslots:h,getTotalPrepared:b,cantripsKnown:f}=V(e),{spellsv2:U}=V(o),{castSpell:N}=e;return{marked:Q,character:m,getAttBonus:g,getSaveDC:_,slots:n,warlockSlots:s,warlockSlotLevel:i,totalslots:h,numprepared:b,cantrips:f,spells:U,castSpell:N,userinfo:c}},computed:{cantripspicked:function(){return this.character.spells.cantrip.length},filteredspells(){var e=this.spellfilter.split(" ");return this.spellfilter===""?this.spells.filter(o=>{var c=o.tags.some(m=>this.classfilter==="all"?!0:this.classfilter===m);return!!(c&&this.levelfilter==="all"||c&&o.level===this.levelfilter)}):this.levelfilter==="nonsense"?this.levelfilter:this.spells.filter(o=>{var c=!1,m=[];return e.forEach(g=>{for(var _ in o)if(typeof o[_]=="string"&&o[_].toLowerCase().includes(g)){m.push(!0);break}if(m.length>=e.length){var n=o.tags.some(s=>this.classfilter==="all"?!0:this.classfilter===s);(n&&this.levelfilter==="all"||n&&o.level===this.levelfilter)&&(c=!0)}}),c})}},data(){return{preparedonly:!1,classfilter:"all",levelfilter:"all",spellfilter:"",selspell:{},selspellclass:"",spellModal:!1,spellDetailModal:!1,detailspell:{level:"cantrip",description:"",tags:[]},displayLevel:"cantrip"}},methods:{spellDetail(e){this.detailspell=e,this.spellDetailModal=!0},addSpell(e){let o="";if(e){e.class=this.selspellclass,e.level!=="cantrip"?o="level"+e.level:o=e.level;var c=this.character.spells[o].includes(e);c||(e.castLevel=e.level,this.character.spells[o].push(e)),this.spellModal=!1}},removeSpell(e){confirm("Are you sure you want to delete "+e.title+" from your spellbook?")&&this.character.spells[this.displayLevel].splice(this.character.spells[this.displayLevel].indexOf(e),1)},sortSpells(e){var o=e.slice(0);return o.sort((c,m)=>c.title>m.title?1:m.title>c.title?-1:0),o.filter(c=>!!(c.prepared&&this.preparedonly||!this.preparedonly||this.displayLevel==="cantrip"))}}},Fy={class:"charsheet-static"},jy=t("h5",null,"Spells",-1),zy={class:"btn-group print-hide smalltext"},Oy={class:"smalltext print-hide"},Yy=t("br",null,null,-1),Gy={class:"table table-sm smalltext"},Xy=t("th",null,"Class",-1),Ky=t("th",null,"Save DC",-1),Qy=t("th",null,"Attack Bonus",-1),Jy={class:"print-hide"},Zy=t("br",null,null,-1),xy={key:0},e$=t("span",{class:"smalltext"},"(includes counts from features such as expanded spell list, domain spells, oath spells, and mystic arcanum)",-1),t$={class:"smalltext print-hide"},o$={class:"table table-sm"},s$=t("thead",null,[t("tr",null,[t("th",null,"Spell"),t("th",null,"Casting Time"),t("th",null,"Duration"),t("th",null,"Class"),t("th",{colspan:"2"},"-")])],-1),n$=["onUpdate:modelValue"],l$=["onClick"],a$={key:0},i$=["onClick"],r$=["onUpdate:modelValue"],u$={key:0,value:"warlock"},d$=["onClick"],c$={class:"smalltext screen-hide"},h$={class:"table table-sm"},p$=t("thead",null,[t("tr",null,[t("th",null,"Spell"),t("th",null,"Casting Time"),t("th",null,"Duration")])],-1),m$=t("tr",null,[t("td",{colspan:"2"},"Cantrips"),t("td")],-1),v$=["onUpdate:modelValue"],b$=["onClick"],y$=t("td",{colspan:"2"},"Level 1",-1),$$=["onUpdate:modelValue"],f$=["onClick"],g$=t("td",{colspan:"2"},"Level 2",-1),k$=["onUpdate:modelValue"],_$=["onClick"],w$=t("td",{colspan:"2"},"Level 3",-1),C$=["onUpdate:modelValue"],S$=["onClick"],V$=t("td",{colspan:"2"},"Level 4",-1),U$={colspan:"2"},M$=["onUpdate:modelValue"],A$=["onClick"],D$=t("td",{colspan:"2"},"Level 5",-1),T$=["onUpdate:modelValue"],R$=["onClick"],L$=t("td",{colspan:"2"},"Level 6",-1),P$=["onUpdate:modelValue"],I$=["onClick"],N$=t("td",{colspan:"2"},"Level 7",-1),E$=["onUpdate:modelValue"],q$=["onClick"],W$=t("td",{colspan:"2"},"Level 8",-1),B$=["onUpdate:modelValue"],H$=["onClick"],F$=t("td",{colspan:"2"},"Level 9",-1),j$=["onUpdate:modelValue"],z$=["onClick"],O$=t("h4",null,"Cast Log",-1),Y$=t("option",{value:"all",selected:""},"All",-1),G$=t("option",{value:"cantrip"},"Cantrips",-1),X$=t("option",{value:"1"},"1",-1),K$=t("option",{value:"2"},"2",-1),Q$=t("option",{value:"3"},"3",-1),J$=t("option",{value:"4"},"4",-1),Z$=t("option",{value:"5"},"5",-1),x$=t("option",{value:"6"},"6",-1),ef=t("option",{value:"7"},"7",-1),tf=t("option",{value:"8"},"8",-1),of=t("option",{value:"9"},"9",-1),sf=[Y$,G$,X$,K$,Q$,J$,Z$,x$,ef,tf,of],nf=t("option",{value:"all"},"All",-1),lf=t("option",{value:"artificer"},"Artificer",-1),af=t("option",{value:"bard"},"Bard",-1),rf=t("option",{value:"cleric"},"Cleric",-1),uf=t("option",{value:"druid"},"Druid",-1),df=t("option",{value:"eldritchknight"},"Fighter (Eldritch Knight)",-1),cf=t("option",{value:"paladin"},"Paladin",-1),hf=t("option",{value:"ranger"},"Ranger",-1),pf=t("option",{value:"arcanetrickster"},"Rogue (arcane trickster)",-1),mf=t("option",{value:"sorcerer"},"Sorcerer",-1),vf=t("option",{value:"warlock"},"Warlock",-1),bf=t("option",{value:"wizard"},"Wizard",-1),yf=[nf,lf,af,rf,uf,df,cf,hf,pf,mf,vf,bf],$f=t("option",{value:"race"},"Race",-1),ff=["value"],gf={class:"table table-sm",id:"spellList"},kf=t("thead",{style:{float:"left",width:"100%",display:"table"}},[t("tr",null,[t("th",null,"-"),t("th",null,"Spell"),t("th",null,"Level")])],-1),_f={style:{"overflow-y":"scroll","max-height":"300px",float:"left",width:"100%"}},wf=["value"],Cf=["onClick"],Sf={key:0},Vf={key:0},Uf=t("strong",null,"Casting Time: ",-1),Mf=t("strong",null,"Range: ",-1),Af=t("strong",null,"Components: ",-1),Df=t("strong",null,"Duration: ",-1),Tf=t("strong",null,"Tags: ",-1),Rf=["innerHTML"];function Lf(e,o,c,m,g,_){const n=S("b-modal");return l(),a("div",Fy,[jy,t("div",zy,[t("button",{class:"btn btn-sm btn-primary",onClick:o[0]||(o[0]=s=>e.displayLevel="cantrip")},"cantrip"),t("button",{class:"btn btn-sm btn-primary",onClick:o[1]||(o[1]=s=>e.displayLevel="level1")},"1"),t("button",{class:"btn btn-sm btn-primary",onClick:o[2]||(o[2]=s=>e.displayLevel="level2")},"2"),t("button",{class:"btn btn-sm btn-primary",onClick:o[3]||(o[3]=s=>e.displayLevel="level3")},"3"),t("button",{class:"btn btn-sm btn-primary",onClick:o[4]||(o[4]=s=>e.displayLevel="level4")},"4"),t("button",{class:"btn btn-sm btn-primary",onClick:o[5]||(o[5]=s=>e.displayLevel="level5")},"5"),t("button",{class:"btn btn-sm btn-primary",onClick:o[6]||(o[6]=s=>e.displayLevel="level6")},"6"),t("button",{class:"btn btn-sm btn-primary",onClick:o[7]||(o[7]=s=>e.displayLevel="level7")},"7"),t("button",{class:"btn btn-sm btn-primary",onClick:o[8]||(o[8]=s=>e.displayLevel="level8")},"8"),t("button",{class:"btn btn-sm btn-primary",onClick:o[9]||(o[9]=s=>e.displayLevel="level9")},"9")]),t("span",Oy,[u(t("input",{type:"checkbox","onUpdate:modelValue":o[10]||(o[10]=s=>e.preparedonly=s)},null,512),[[M,e.preparedonly]]),d("Prepared Only")]),Yy,t("table",Gy,[t("tr",null,[Xy,(l(!0),a(y,null,$(e.character.charclasses,s=>(l(),a("th",{key:s.thisclass.name},r(s.thisclass.name),1))),128))]),t("tr",null,[Ky,(l(!0),a(y,null,$(e.character.charclasses,s=>(l(),a("td",{key:s.thisclass.name},r(e.getSaveDC(s.savedcstat,s)),1))),128))]),t("tr",null,[Qy,(l(!0),a(y,null,$(e.character.charclasses,s=>(l(),a("td",{key:s.thisclass.name},"+"+r(e.getAttBonus(s.savedcstat,s)),1))),128))])]),t("span",Jy,[d(r(e.displayLevel)+" slots: ",1),u(t("input",{type:"number","onUpdate:modelValue":o[11]||(o[11]=s=>e.character.availableslots[e.displayLevel]=s),class:"charsheet-num"},null,512),[[p,e.character.availableslots[e.displayLevel]]]),d(" / "+r(e.totalslots(e.displayLevel)),1)]),Zy,e.warlockSlots>0?(l(),a("span",xy,[d("Warlock Slots: "),u(t("input",{type:"number","onUpdate:modelValue":o[12]||(o[12]=s=>e.character.warlockslotsavailable=s),class:"charsheet-num"},null,512),[[p,e.character.warlockslotsavailable]]),d(" / "+r(e.warlockSlots)+" level "+r(e.warlockSlotLevel)+" slots",1)])):v("",!0),t("div",null,[d(" Number Prepared "),e$,d(": "),(l(!0),a(y,null,$(e.numprepared,s=>(l(),a("div",{key:s.classname},r(s.classname)+": "+r(s.numprepped)+" / "+r(s.maxprepped),1))),128)),d(" Cantrips Known: "+r(e.cantripspicked)+" / "+r(e.cantrips),1)]),t("div",t$,[t("table",o$,[s$,t("tbody",null,[(l(!0),a(y,null,$(e.sortSpells(e.character.spells[e.displayLevel]),s=>(l(),a("tr",{key:s.title},[t("td",null,[e.displayLevel!=="cantrip"?u((l(),a("input",{key:0,type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,n$)),[[M,s.prepared]]):v("",!0),t("span",{class:"clickable",onClick:i=>e.spellDetail(s)},[d(r(s.title),1),s.ritual?(l(),a("span",a$," (ritual)")):v("",!0)],8,l$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1),t("td",null,r(s.class),1),t("td",null,[t("button",{type:"button",class:"btn btn-sm btn-primary print-hide",onClick:i=>e.castSpell(s)},"Cast",8,i$),s.level!=="cantrip"?u((l(),a("select",{key:0,"onUpdate:modelValue":i=>s.castLevel=i},[t("option",null,r(Number(s.level)),1),(l(!0),a(y,null,$(9-s.level,i=>(l(),a("option",{key:i},r(Number(i)+Number(s.level)),1))),128)),e.warlockSlotLevel>=s.level?(l(),a("option",u$,"warlock")):v("",!0)],8,r$)),[[w,s.castLevel]]):v("",!0)]),t("td",null,[t("button",{type:"button",class:"btn btn-sm btn-danger print-hide",onClick:i=>e.removeSpell(s)},"X",8,d$)])]))),128))])])]),t("div",c$,[t("table",h$,[p$,t("tbody",null,[m$,(l(!0),a(y,null,$(e.character.spells.cantrip,s=>(l(),a("tr",{key:s.title},[t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,v$),[[M,s.prepared]]),t("a",{href:"#",onClick:i=>e.spellDetail(s)},r(s.title),9,b$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1)]))),128)),t("tr",null,[y$,t("td",null,r(e.totalslots("level1"))+" Slots",1)]),(l(!0),a(y,null,$(e.character.spells.level1,s=>(l(),a("tr",{key:s.title},[t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,$$),[[M,s.prepared]]),t("a",{href:"#",onClick:i=>e.spellDetail(s)},r(s.title),9,f$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1)]))),128)),t("tr",null,[g$,t("td",null,r(e.totalslots("level2"))+" Slots",1)]),(l(!0),a(y,null,$(e.character.spells.level2,s=>(l(),a("tr",{key:s.title},[t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,k$),[[M,s.prepared]]),t("a",{href:"#",onClick:i=>e.spellDetail(s)},r(s.title),9,_$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1)]))),128)),t("tr",null,[w$,t("td",null,r(e.totalslots("level3"))+" Slots",1)]),(l(!0),a(y,null,$(e.character.spells.level3,s=>(l(),a("tr",{key:s.title},[t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,C$),[[M,s.prepared]]),t("a",{href:"#",onClick:i=>e.spellDetail(s)},r(s.title),9,S$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1),t("td",null,[t("button",{type:"button",class:"btn btn-sm btn-danger print-hide",onClick:o[13]||(o[13]=i=>e.removeSpell(e.index))},"X")])]))),128)),t("tr",null,[V$,t("td",U$,r(e.totalslots("level4"))+" Slots",1)]),(l(!0),a(y,null,$(e.character.spells.level4,s=>(l(),a("tr",{key:s.title},[t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,M$),[[M,s.prepared]]),t("a",{href:"#",onClick:i=>e.spellDetail(s)},r(s.title),9,A$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1)]))),128)),t("tr",null,[D$,t("td",null,r(e.totalslots("level5"))+" Slots",1)]),(l(!0),a(y,null,$(e.character.spells.level5,s=>(l(),a("tr",{key:s.title},[t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,T$),[[M,s.prepared]]),t("a",{href:"#",onClick:i=>e.spellDetail(s)},r(s.title),9,R$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1)]))),128)),t("tr",null,[L$,t("td",null,r(e.totalslots("level6"))+" Slots",1)]),(l(!0),a(y,null,$(e.character.spells.level6,s=>(l(),a("tr",{key:s.title},[t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,P$),[[M,s.prepared]]),t("a",{href:"#",onClick:i=>e.spellDetail(s)},r(s.title),9,I$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1)]))),128)),t("tr",null,[N$,t("td",null,r(e.totalslots("level7"))+" Slots",1)]),(l(!0),a(y,null,$(e.character.spells.level7,s=>(l(),a("tr",{key:s.title},[t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,E$),[[M,s.prepared]]),t("a",{href:"#",onClick:i=>e.spellDetail(s)},r(s.title),9,q$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1)]))),128)),t("tr",null,[W$,t("td",null,r(e.totalslots("level8"))+" Slots",1)]),(l(!0),a(y,null,$(e.character.spells.level8,s=>(l(),a("tr",{key:s.title},[t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,B$),[[M,s.prepared]]),t("a",{href:"#",onClick:i=>e.spellDetail(s)},r(s.title),9,H$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1)]))),128)),t("tr",null,[F$,t("td",null,r(e.totalslots("level9"))+" Slots",1)]),(l(!0),a(y,null,$(e.character.spells.level9,s=>(l(),a("tr",{key:s.title},[t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.prepared=i},null,8,j$),[[M,s.prepared]]),t("a",{href:"#",onClick:i=>e.spellDetail(s)},r(s.title),9,z$)]),t("td",null,r(s.castingTime),1),t("td",null,r(s.duration),1)]))),128))])])]),t("button",{type:"button",onClick:o[14]||(o[14]=s=>e.spellModal=!0),class:"btn btn-sm btn-primary print-hide"},"+"),O$,(l(!0),a(y,null,$(e.character.castlog,(s,i)=>(l(),a("div",{class:"smalltext",key:i},r(s.title)+" "+r(s.level),1))),128)),k(n,{modelValue:e.spellModal,"onUpdate:modelValue":o[20]||(o[20]=s=>e.spellModal=s),title:"Add Spell",class:T(["modal-lg",e.userinfo.darkmode]),onOk:o[21]||(o[21]=s=>e.addSpell(e.selspell))},{default:C(()=>[d(" Filter by Text "),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[15]||(o[15]=s=>e.spellfilter=s)},null,512),[[p,e.spellfilter]]),d(" Filter by Level "),u(t("select",{"onUpdate:modelValue":o[16]||(o[16]=s=>e.levelfilter=s),class:"form-control"},sf,512),[[w,e.levelfilter]]),d(" Filter by Class "),u(t("select",{"onUpdate:modelValue":o[17]||(o[17]=s=>e.classfilter=s),class:"form-control"},yf,512),[[w,e.classfilter]]),d(" Spell Added By Class: "),u(t("select",{"onUpdate:modelValue":o[18]||(o[18]=s=>e.selspellclass=s),class:"form-control",required:""},[$f,(l(!0),a(y,null,$(e.character.charclasses,s=>(l(),a("option",{value:s.thisclass.name,key:s.thisclass.name},r(s.thisclass.name),9,ff))),128))],512),[[w,e.selspellclass]]),t("table",gf,[kf,t("tbody",_f,[(l(!0),a(y,null,$(e.filteredspells,s=>(l(),a("tr",{key:s.title,style:{float:"left",width:"100%",display:"table"}},[t("td",null,[u(t("input",{type:"radio",name:"selspell",value:s,"onUpdate:modelValue":o[19]||(o[19]=i=>e.selspell=i),required:""},null,8,wf),[[ke,e.selspell]])]),t("td",null,[t("span",{class:"clickable",onClick:i=>e.spellDetail(s)},r(s.title),9,Cf)]),t("td",null,r(s.level),1)]))),128))])])]),_:1},8,["modelValue","class"]),k(n,{modelValue:e.spellDetailModal,"onUpdate:modelValue":o[22]||(o[22]=s=>e.spellDetailModal=s),onOk:o[23]||(o[23]=s=>e.spellDetailModal=!1),id:"spellmodal",size:"lg",title:e.detailspell.title,class:T(e.userinfo.darkmode)},{default:C(()=>[t("h4",null,[t("strong",null,[d(r(e.detailspell.school)+" ",1),e.detailspell.level!=="cantrip"?(l(),a("span",Sf,"level ")):v("",!0),d(r(e.detailspell.level.toString()),1)]),e.detailspell.ritual?(l(),a("span",Vf," Ritual")):v("",!0),d(" ("+r(e.detailspell.source)+") ",1)]),t("p",null,[Uf,d(r(e.detailspell.castingTime),1)]),t("p",null,[Mf,d(r(e.detailspell.range),1)]),t("p",null,[Af,d(r(e.detailspell.components),1)]),t("p",null,[Df,d(r(e.detailspell.duration),1)]),t("p",null,[Tf,d(" "+r(e.detailspell.tags.join(", ")),1)]),t("div",{innerHTML:e.marked.parse(e.detailspell.description)},null,8,Rf)]),_:1},8,["modelValue","title","class"])])}const Pf=D(Hy,[["render",Lf]]),If={setup(){const e=A(),{character:o,pointbuy:c}=V(e),m=e.rollStats;return{characters:e,character:o,rollStats:m,pointbuy:c}}},Nf={class:"row"},Ef={class:"col"},qf={class:"abilitytable"},Wf=t("thead",null,[t("tr",null,[t("th",null,"Stat"),t("th",null,"STR"),t("th",null,"DEX"),t("th",null,"CON"),t("th",null,"INT"),t("th",null,"WIS"),t("th",null,"CHA")])],-1),Bf=t("th",null,"Base",-1),Hf=t("th",null,"Adjustment",-1),Ff=t("th",null,"Bonus",-1),jf=t("th",null,"Save",-1),zf=t("th",null,"Save Bonus",-1),Of=t("br",null,null,-1);function Yf(e,o,c,m,g,_){return l(),a("div",Nf,[t("div",Ef,[t("table",qf,[Wf,t("tbody",null,[t("tr",null,[Bf,t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[0]||(o[0]=n=>e.character.stats[0]=n),class:"charsheet-num"},null,512),[[p,e.character.stats[0]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=n=>e.character.stats[1]=n),class:"charsheet-num"},null,512),[[p,e.character.stats[1]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[2]||(o[2]=n=>e.character.stats[2]=n),class:"charsheet-num"},null,512),[[p,e.character.stats[2]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=n=>e.character.stats[3]=n),class:"charsheet-num"},null,512),[[p,e.character.stats[3]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=n=>e.character.stats[4]=n),class:"charsheet-num"},null,512),[[p,e.character.stats[4]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=n=>e.character.stats[5]=n),class:"charsheet-num"},null,512),[[p,e.character.stats[5]]])])]),t("tr",null,[Hf,t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=n=>e.character.statadjust[0]=n),class:"charsheet-num"},null,512),[[p,e.character.statadjust[0]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=n=>e.character.statadjust[1]=n),class:"charsheet-num"},null,512),[[p,e.character.statadjust[1]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=n=>e.character.statadjust[2]=n),class:"charsheet-num"},null,512),[[p,e.character.statadjust[2]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[9]||(o[9]=n=>e.character.statadjust[3]=n),class:"charsheet-num"},null,512),[[p,e.character.statadjust[3]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[10]||(o[10]=n=>e.character.statadjust[4]=n),class:"charsheet-num"},null,512),[[p,e.character.statadjust[4]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[11]||(o[11]=n=>e.character.statadjust[5]=n),class:"charsheet-num"},null,512),[[p,e.character.statadjust[5]]])])]),t("tr",null,[Ff,t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[12]||(o[12]=n=>e.character.statbonus[0]=n),class:"charsheet-num"},null,512),[[p,e.character.statbonus[0]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[13]||(o[13]=n=>e.character.statbonus[1]=n),class:"charsheet-num"},null,512),[[p,e.character.statbonus[1]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[14]||(o[14]=n=>e.character.statbonus[2]=n),class:"charsheet-num"},null,512),[[p,e.character.statbonus[2]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[15]||(o[15]=n=>e.character.statbonus[3]=n),class:"charsheet-num"},null,512),[[p,e.character.statbonus[3]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[16]||(o[16]=n=>e.character.statbonus[4]=n),class:"charsheet-num"},null,512),[[p,e.character.statbonus[4]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[17]||(o[17]=n=>e.character.statbonus[5]=n),class:"charsheet-num"},null,512),[[p,e.character.statbonus[5]]])])]),t("tr",null,[jf,t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":o[18]||(o[18]=n=>e.character.saves[0]=n)},null,512),[[M,e.character.saves[0]]])]),t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":o[19]||(o[19]=n=>e.character.saves[1]=n)},null,512),[[M,e.character.saves[1]]])]),t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":o[20]||(o[20]=n=>e.character.saves[2]=n)},null,512),[[M,e.character.saves[2]]])]),t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":o[21]||(o[21]=n=>e.character.saves[3]=n)},null,512),[[M,e.character.saves[3]]])]),t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":o[22]||(o[22]=n=>e.character.saves[4]=n)},null,512),[[M,e.character.saves[4]]])]),t("td",null,[u(t("input",{type:"checkbox","onUpdate:modelValue":o[23]||(o[23]=n=>e.character.saves[5]=n)},null,512),[[M,e.character.saves[5]]])])]),t("tr",null,[zf,t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[24]||(o[24]=n=>e.character.savebonus[0]=n),class:"charsheet-num"},null,512),[[p,e.character.savebonus[0]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[25]||(o[25]=n=>e.character.savebonus[1]=n),class:"charsheet-num"},null,512),[[p,e.character.savebonus[1]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[26]||(o[26]=n=>e.character.savebonus[2]=n),class:"charsheet-num"},null,512),[[p,e.character.savebonus[2]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[27]||(o[27]=n=>e.character.savebonus[3]=n),class:"charsheet-num"},null,512),[[p,e.character.savebonus[3]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[28]||(o[28]=n=>e.character.savebonus[4]=n),class:"charsheet-num"},null,512),[[p,e.character.savebonus[4]]])]),t("td",null,[u(t("input",{type:"number","onUpdate:modelValue":o[29]||(o[29]=n=>e.character.savebonus[5]=n),class:"charsheet-num"},null,512),[[p,e.character.savebonus[5]]])])])])]),d(" Point Buy Total: "+r(e.pointbuy),1),Of,d(" Stat Rolls: "),(l(!0),a(y,null,$(e.characters.statRolls,(n,s)=>(l(),a("span",{key:s},r(n)+"\xA0",1))),128)),t("input",{type:"button",onClick:o[30]||(o[30]=n=>e.rollStats()),value:"Roll!"})])])}const Gf=D(If,[["render",Yf]]),Xf={setup(){const e=A(),o=J();o.getAllCreatures();const{character:c,getStatTotal:m,getStatMod:g,profbonus:_}=V(e),{creatures:n}=V(o);return{character:c,creatures:n,creatureStore:o,characterStore:e,getStatTotal:m,getStatMod:g,creaturecalc:Ve,marked:Q,profbonus:_}},computed:{druidLevel(){let e=0;return this.character.charclasses.forEach(o=>{o.thisclass.name==="Druid"&&(e=o.level)}),e},moonDruid(){let e=!1;return this.character.charclasses.forEach(o=>{o.selsubclass.name==="Circle of the Moon"&&o.level>=1&&(e=!0)}),e},formsCount(){let e=0;for(this.druidLevel>=2&&(e+=3),this.druidLevel>=4&&e++,this.druidLevel>=8&&e++,this.moonDruid&&this.druidLevel>=14&&(e+=2);this.character.wildShapeOptions.length<e;)this.character.wildShapeOptions.push({shape:{stats:[]},baseshape:{},key:Math.random()});return this.character.wildShapeOptions.length>e&&(this.character.wildShapeOptions.length=e),e},maxCR(){if(this.moonDruid){let e=Math.floor(this.druidLevel/3);return this.druidLevel>=10&&(e+=2),e}else return this.druidLevel>=8?1:this.druidLevel>=4?.5:this.druidLevel>=2?.25:0},availableForms(){return this.creatures.filter(e=>!!(e.cr<=this.maxCR&&(!e.speed.toLowerCase().includes("fly")||this.druidLevel>=8)&&(e.type==="beast"||e.type==="elemental"&&this.moonDruid&&this.druidLevel>=10))).sort((e,o)=>e.name>o.name?1:e.name<o.name?-1:0)}},methods:{loadCreature(e){console.log("loading"),e.baseshape._id&&this.creatureStore.getCreature(e.baseshape._id).then(o=>{e.shape=o})}}},Kf={key:0},Qf=t("h3",null,"Wildshape Options",-1),Jf={class:"row"},Zf=["onUpdate:modelValue"],xf=["value"],eg=["onClick"],tg={key:0},og=t("strong",null,"CR:",-1),sg=t("br",null,null,-1),ng=t("strong",null,"HP:",-1),lg=t("br",null,null,-1),ag=t("strong",null,"Speed:",-1),ig=t("br",null,null,-1),rg=t("strong",null,"AC:",-1),ug=t("br",null,null,-1),dg=t("strong",null,"Attack Bonus:",-1),cg={class:"table"},hg=t("tr",null,[t("th"),t("th",null,"STR"),t("th",null,"DEX"),t("th",null,"CON"),t("th",null,"INT"),t("th",null,"WIS"),t("th",null,"CHA")],-1),pg=t("td",null,null,-1),mg=t("strong",null,"Senses:",-1),vg=t("br",null,null,-1),bg=t("strong",null,"Resistance:",-1),yg=t("br",null,null,-1),$g=t("strong",null,"Immunities:",-1),fg=t("br",null,null,-1),gg=["innerHTML"];function kg(e,o,c,m,g,_){return e.druidLevel>0?(l(),a("div",Kf,[Qf,d(" Available Forms: "+r(e.formsCount)+" ",1),t("div",Jf,[(l(!0),a(y,null,$(e.character.wildShapeOptions,n=>(l(),a("div",{class:"col",key:n.key},[u(t("select",{class:"charsheet-text","onUpdate:modelValue":s=>n.baseshape=s},[(l(!0),a(y,null,$(e.availableForms,s=>(l(),a("option",{key:s.name,value:s},r(s.name),9,xf))),128))],8,Zf),[[w,n.baseshape]]),t("button",{class:"btn btn-success",onClick:s=>e.loadCreature(n)},"Load",8,eg),n.shape.name?(l(),a("div",tg,[t("h4",null,r(n.shape.name),1),og,d(" "+r(n.shape.cr)+" ",1),sg,ng,d(" "+r(e.creaturecalc.hp(n.shape))+" ("+r(e.creaturecalc.basehp(n.shape))+" HP + "+r(e.creaturecalc.pp(n.shape))+" PP)",1),lg,ag,d(" "+r(n.shape.speed),1),ig,rg,d(" "+r(n.shape.ac),1),ug,dg,d(" +"+r((e.creaturecalc.statMod(n.shape,0)+e.profbonus>e.creaturecalc.statMod(n.shape,1)+e.profbonus?e.creaturecalc.statMod(n.shape,0)+e.profbonus:e.creaturecalc.statMod(n.shape,1)+e.profbonus)+(e.moonDruid&&e.druidLevel>=6?1:0))+" (Use this instead of the listed bonus) ",1),t("table",cg,[hg,t("tr",null,[pg,t("td",null,r(n.shape.stats[0])+" ("+r(e.creaturecalc.statMod(n.shape,0)>=0?"+":"")+r(e.creaturecalc.statMod(n.shape,0))+")",1),t("td",null,r(n.shape.stats[1])+" ("+r(e.creaturecalc.statMod(n.shape,1)>=0?"+":"")+r(e.creaturecalc.statMod(n.shape,1))+")",1),t("td",null,r(n.shape.stats[2])+" ("+r(e.creaturecalc.statMod(n.shape,2)>=0?"+":"")+r(e.creaturecalc.statMod(n.shape,2))+")",1),t("td",null,r(e.getStatTotal(3))+" ("+r(e.getStatMod(3)>=0?"+":"")+r(e.getStatMod(3))+")",1),t("td",null,r(e.getStatTotal(4))+" ("+r(e.getStatMod(4)>=0?"+":"")+r(e.getStatMod(4))+")",1),t("td",null,r(e.getStatTotal(5))+" ("+r(e.getStatMod(5)>=0?"+":"")+r(e.getStatMod(5))+")",1)])]),mg,d(" "+r(n.shape.senses),1),vg,bg,d(" "+r(n.shape.damageresistances),1),yg,$g,d(" "+r(n.shape.damageimmunities),1),fg,t("div",{innerHTML:e.marked.parse(n.shape.description)},null,8,gg)])):v("",!0)]))),128))])])):v("",!0)}const _g=D(Xf,[["render",kg]]),wg={setup(){const e=H(),o=A(),c=J(),m=I();e.getAllNew(),c.getAllCreatures();const{character:g,pointbuy:_,mobile:n,hitdicechanged:s,message:i}=V(o),h=o.rollStats;return _e({title:"Character Builder"}),{statics:e,characters:o,character:g,userinfo:m,rollStats:h,pointbuy:_,mobile:n,hitdicechanged:s,message:i}},components:{abilityscores:vt,actions:ue,appearance:Wo,attacks:de,bonus:ca,buildclass:Ra,campaigninfo:Ba,characterheader:ii,combat:ce,combathud:Sd,equipment:Uc,features:Yh,fluff:qp,gamenotes:_m,hitpoints:he,initiative:Am,loadsave:s1,loadsavemodals:h1,otherrolls:Cv,pets:Vb,resources:pe,selectfeatures:ey,skills:By,spells:Pf,wildshape:_g,statbuilder:Gf},data(){return{buildHide:!1,startGuide:!0,newgroup:""}},filters:{date(e){var o=new Date(e);return o.toLocaleString()}},methods:{log(e){console.log(e)}},mounted(){this.loggedin&&this.characters.getFromServerSilent(),this.$route.params.id&&this.characters.getOneFromServer(this.$route.params.id)}},Cg={class:"container charbuilder"},Sg={key:0,class:"alert alert-danger"},Vg={class:"row desktop"},Ug={class:"print-hide col-sm-12"},Mg={class:"row print-hide"},Ag={class:"col"},Dg={key:0},Tg={key:1},Rg={class:"row"},Lg={class:"col-7"},Pg={class:"row"},Ig={class:"col-7"},Ng={class:"col-5"},Eg={class:"col-5"},qg={class:"row"},Wg={class:"col"},Bg=t("div",{style:{"page-break-after":"always"}},"\xA0",-1),Hg={class:"row"},Fg={class:"col-12"},jg={class:"row"},zg={class:"col-12"},Og={class:"row"},Yg={class:"col-12"},Gg={class:"row print-hide"},Xg={class:"col"},Kg=t("div",{style:{"page-break-after":"always"}},"\xA0",-1),Qg={class:"row"},Jg={class:"col-12"},Zg={class:"row"},xg={class:"col-12"},e2={class:"row"},t2={class:"col-12"},o2={class:"row"},s2={class:"col-12"},n2={key:0,class:"col-4 print-hide"},l2=t("h2",null,"Build",-1),a2={class:"mobile print-hide"},i2={class:"row"},r2={class:"col"},u2={class:"row"},d2={class:"col-12"},c2=t("div",null,[t("p",null," Welcome to the Elthelas Character Builder. To get started building your character follow the instructions below. "),t("ol",null,[t("li",null,[t("strong",null,"Name Your Character"),t("p",null," Naming your character is the only prerequisite to saving your character. I recommend saving your character early and often. ")]),t("li",null,[t("strong",null,"Make an Initial Save, and then Load It"),t("p",null," If you are logged in to the Elthelas website, you can use the 'Save New' button on the top right to save your character to the server, otherwise you can save it to a file. Also if you are logged in you can check the autosave box. I strongly recommend doing this to make sure you never lose your changes by accidentally navigating away from the page or if the app refreshes for any reason. Once you have saved your character, hit the load button next to the save button and select your character. You have now established an ID for your character in the database and can share a link with your DM so they can view your character sheet. (the link is found in the bottom right of the page titled 'Campaign Information', or in mobile the tab 'Campaign') ")]),t("li",null,[t("strong",null,"Choose a Class"),t("p",null," On a mobile device, you will do this using the dropdowns right under 'home town' on the 'basics' tab. On a tablet or desktop you will do this in the 'build' section on the top right. Select your base class, subclass (even if you don't get any features from it yet), level, and casting/primary stat. If you don't know your classes primary stat, check the players handbook Quick Build section for your class, it will be the ability score that they tell you to put your highest score into. If you are multiclassing, select the '+' button underneath your first class and fill in the additional row it creates with your second classes information. ")]),t("li",null,[t("strong",null,"Choose a Race"),t("p",null," This is also on the basics page. Remember that if your race has ability score improvements that you get to choose you will have to modify the 'race' line of the ability scores table yourself to add those in. Note that when you do so, your racial abilities appear automatically in features. If you have race based spells or resistances feel free to enter them in the appropriate areas now. ")]),t("li",null,[t("strong",null,"Determine Ability Scores"),t("p",null," Talk to your DM about the method for determining your ability scores. You can use the ability score table in the build section (or the 'Stats' section in mobile) to enter your rolls or calculate the point buy. Use the 'Base' row in the table to enter these. If you need to modify your racial bonuses, do that in the 'Racial' row of the table. Meanwhile if you need to enter modifiers due to Ability Score Increases or magic modifiers to ability scores enter them in the 'Bonus' row. The system will automatically total these numbers to give you your actual ability scores. ")]),t("li",null,[t("strong",null,"Describe your Character"),t("p",null," Choose a background from the dropdown that is appropriate for your character. Fill in backstory, home country, home town, appearance details, and any other non-mechanical information in the appropriate places. ")]),t("li",null,[t("strong",null,"Picking Spells"),t("p",null," With your ability scores, class, and level determined you can move to picking your spells. The system makes it's best guess using what it knows about how many spells you can prepare (if a preparing class) or have known (if a spells known class) at the top of the spells section. You can do a full text search, filter by spell level, and filter by class spell lists. When you select a spell be sure to fill in the 'Spell Added By Class' dropdown (otherwise it will not properly count against your number prepared/known). Then, in the spell list itself, hit the check mark next to each spell to prepare it or properly mark it as known. To browse through your spells you can select a spell level at the top of the spell section. Clicking on a spell will open its full spell description in a modal. ")]),t("li",null,[t("strong",null,"Picking Equipment"),t("p",null,' In the equipment section things are managed as items within containers. If you select an armor item it will be automatically added to the "Armor" section as well. To then equip that armor select the checkbox. ')]),t("li",null,[t("strong",null,"Armor"),t("p",null,"If you added your armor in the equipment section it will appear here automatically. However you can also add things like magical effect based armor modifiers here. Three examples below:"),t("ul",null,[t("li",null,'Mage Armor: The mage armor spell acts like Light Armor (uses your full dex bonus, is a AC formula), so select Light Armor from the "Type" dropdown. In the AC enter the base AC exactly as it appears in the description of the spell. In the case of Mage Armor this would be 13. Enter Mage Armor in the name field, and then hit OK. You should see it in the Armor list now. The AC listed in the list may not match what you entered, this is because it is automatically adding any appropriate modifiers from your dexterity.'),t("li",null,'Shield Spell: The shield spell acts like a physical shield, granting a static, stacking AC bonus. Therefore select "Shield" from the Type dropdown. Then enter the AC bonus exactly as it appears in the spell description, in this case 5.'),t("li",null,"Monk Unarmored Defense: A monks unarmored defense is an 'unarmored bonus'. A new formula for AC that involves an ability score other than just dexterity. To calculate this select the 'Unarmored Bonus' option from the 'Type' dropdown. A new field will appear, 'Unarmored Bonus Stat'. Because a monks unarmored defense uses wisdom select that from the dropdown. In this case the 'AC' field would be used for any additional static bonus, in this case you can leave it at 0.")])]),t("li",null,[t("strong",null,"Skills and Proficiencies"),t("p",null," The Character builder can automatically calculate skill bonuses if you select the appropriate proficiency level from the dropdown for each skill. For each skill there are 4 options, 'No', 'Yes', 'Half', and 'Exp'. If you are not proficient in a skill, leave it at 'No'. If you have a normal proficiency in a skill, select 'Yes'. The other 2 are special cases. If you have an ability that allows you to add double your proficiency bonus to a skill, such as Expertise, select 'Exp'. If you have something that allows you to add half your proficiency bonus to a skill, such as a bards 'Jack of all Trades' feature, select 'Half'. For things like tool proficiencies, languages, etc enter them in the Proficiencies and Languages box below the standard abilities. ")])])],-1);function h2(e,o,c,m,g,_){const n=S("loadsave"),s=S("characterheader"),i=S("abilityscores"),h=S("skills"),b=S("initiative"),f=S("hitpoints"),U=S("combat"),N=S("equipment"),F=S("attacks"),j=S("features"),q=S("spells"),W=S("resources"),O=S("pets"),G=S("actions"),Y=S("appearance"),X=S("fluff"),z=S("b-tab"),me=S("selectfeatures"),ve=S("wildshape"),be=S("combathud"),Z=S("otherrolls"),x=S("gamenotes"),ye=S("b-tabs"),ee=S("buildclass"),te=S("statbuilder"),oe=S("bonus"),se=S("campaigninfo"),L=S("b-accordion-item"),$e=S("b-accordion"),fe=S("loadsavemodals"),ge=S("b-modal");return l(),a("div",Cg,[e.message?(l(),a("div",Sg,r(e.message),1)):v("",!0),t("div",Vg,[t("div",Ug,[k(n,{minimal:""})]),t("div",{class:T(["print-full",e.buildHide?"col-12":"col-8"])},[k(s),t("div",Mg,[t("div",Ag,[t("button",{class:"btn btn-primary btn-sm",style:{float:"right"},onClick:o[0]||(o[0]=ne=>e.buildHide=!e.buildHide)},[e.buildHide?v("",!0):(l(),a("span",Dg,"Hide")),e.buildHide?(l(),a("span",Tg,"Show")):v("",!0),d(" Build")]),d("\xA0 ")])]),k(ye,null,{default:C(()=>[k(z,{title:"Character Sheet"},{default:C(()=>[t("div",Rg,[t("div",Lg,[t("div",Pg,[t("div",Ig,[k(i),k(h)]),t("div",Ng,[k(b),(l(),we(f,{key:e.hitdicechanged})),k(U),k(N)])])]),t("div",Eg,[t("div",qg,[t("div",Wg,[k(F),k(j)])])])]),Bg,t("div",Hg,[t("div",Fg,[k(q)])]),t("div",jg,[t("div",zg,[k(W)])]),t("div",Og,[t("div",Yg,[k(O)])]),t("div",Gg,[t("div",Xg,[k(G)])]),Kg,k(Y),k(X)]),_:1}),k(z,{title:"Feature Selection"},{default:C(()=>[k(me),k(ve)]),_:1}),k(z,{title:"Combat HUD"},{default:C(()=>[k(be)]),_:1}),k(z,{title:"Character Details"},{default:C(()=>[k(Y),k(X)]),_:1}),k(z,{title:"Spells & Resources"},{default:C(()=>[t("div",Qg,[t("div",Jg,[k(Z)])]),t("div",Zg,[t("div",xg,[k(q)])]),t("div",e2,[t("div",t2,[k(W)])]),t("div",o2,[t("div",s2,[k(O)])])]),_:1}),k(z,{title:"Game Notes"},{default:C(()=>[k(x)]),_:1})]),_:1})],2),e.buildHide?v("",!0):(l(),a("div",n2,[l2,k(ee),k(te),k(oe),k(se)]))]),t("div",a2,[k(s),k($e,null,{default:C(()=>[k(L,{title:"Load/Save"},{default:C(()=>[k(n,{minimal:!1})]),_:1}),k(L,{title:"Class"},{default:C(()=>[k(ee)]),_:1}),k(L,{title:"Stats"},{default:C(()=>[t("div",i2,[t("div",r2,[k(i)])]),k(te)]),_:1}),k(L,{title:"Skills"},{default:C(()=>[k(h)]),_:1}),k(L,{title:"Spells"},{default:C(()=>[t("div",u2,[t("div",d2,[k(q)])])]),_:1}),k(L,{title:"Resources"},{default:C(()=>[k(W)]),_:1}),k(L,{title:"Equipment"},{default:C(()=>[k(N)]),_:1}),k(L,{title:"HP, Initiative, AC, and Armor"},{default:C(()=>[k(f),k(b),k(U)]),_:1}),k(L,{title:"Features"},{default:C(()=>[k(j)]),_:1}),k(L,{title:"Actions, Attacks, and Other Rolls"},{default:C(()=>[k(G),k(F),k(Z)]),_:1}),k(L,{title:"Appearance"},{default:C(()=>[k(Y)]),_:1}),k(L,{title:"Backstory"},{default:C(()=>[k(X)]),_:1}),k(L,{title:"Pets"},{default:C(()=>[k(O)]),_:1}),k(L,{title:"Bonuses"},{default:C(()=>[k(oe)]),_:1}),k(L,{title:"Game Notes"},{default:C(()=>[k(x)]),_:1}),k(L,{title:"Campaign Info"},{default:C(()=>[k(se)]),_:1})]),_:1})]),k(fe),k(ge,{modelValue:e.startGuide,"onUpdate:modelValue":o[1]||(o[1]=ne=>e.startGuide=ne),title:"Getting Started Guide","hide-footer":"",size:"lg",class:T(e.userinfo.darkmode)},{default:C(()=>[c2]),_:1},8,["modelValue","class"])])}const $2=D(wg,[["render",h2]]);export{$2 as default};
