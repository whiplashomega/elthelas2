import{C as w,j as B,x as T,_ as $,g as m,o as l,c as n,h as r,w as i,p as z,d as N,e as t,E as A,t as o,b as u,f as s}from"./index.js";var D={setup(){const e=w(),d=B(),{isAdmin:b}=d,{getCreature:_,getAllCreatures:h}=e,{creatures:p}=T(e);return{admin:b,creatures:p,getCreature:_,getAllCreatures:h}},data(){return{creaturestable:{fields:[{key:"name",label:"Name",sortable:!0},{key:"size",label:"Size",sortable:!0},{key:"cr",label:"CR",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"subtype",label:"Subtype",sortable:!0},{key:"alignment",label:"Alignment",sortable:!0}],filterValue:"",sortBy:null,sortDesc:!1,filterBy:["name","size","cr","type","subtype","alignment","description"],modalInfo:{name:"",tags:"",size:"",cr:"",type:"",subtype:"",alignment:"",ac:"",acdesc:"",hp:"",hpdesc:"",speed:"",str:"",dex:"",con:"",int:"",wis:"",cha:"",skills:"",saves:"",senses:"",damageimmunities:"",conditionimmunities:"",damageresistances:"",languages:"",locations:"",latlong:"",description:""}}}},methods:{async info(e,d,b){var _=await this.getCreature(e._id);this.creaturestable.modalInfo=_,this.$root.$emit("bv::show::modal","creaturemodal",b)},resetModal(){this.creaturestable.modalInfo={name:"",tags:"",size:"",cr:"",type:"",subtype:"",alignment:"",ac:"",acdesc:"",hp:"",hpdesc:"",speed:"",str:"",dex:"",con:"",int:"",wis:"",cha:"",skills:"",saves:"",senses:"",damageimmunities:"",conditionimmunities:"",damageresistances:"",languages:"",locations:"",latlong:"",description:""}},filter(e){var d=this.creaturestable.filterBy,b=this.creaturestable.filterValue,_=d.some(function(h){for(var p in e)if(h===p&&e[p].toString().toLowerCase().includes(b.toLowerCase()))return!0});return!!(!b||_)},edit(e){confirm("are you sure you want to edit "+e.name+"?")+this.admin&&this.$router.push("/tools/creaturebuilder/"+e._id)}},mounted(){this.getAllCreatures()}};const a=e=>(z("data-v-61499d68"),e=e(),N(),e),H={class:"col-sm-12"},L=a(()=>t("h1",null,"Bestiary",-1)),M=s("Name"),R=s("Size"),E=s("CR"),U=s("Type"),j=s("Subtype"),X=s("Alignment"),O=s("Description"),P=["disabled"],W=["onClick"],q=s(),F=["onClick"],G=["onClick"],J={key:0},K=a(()=>t("strong",null,"Armor Class:",-1)),Q=a(()=>t("br",null,null,-1)),Y=a(()=>t("strong",null,"Hit Points:",-1)),Z=a(()=>t("br",null,null,-1)),x=a(()=>t("strong",null,"Speed:",-1)),ee={class:"table table-striped"},te=a(()=>t("thead",null,[t("tr",null,[t("th",null,"STR"),t("th",null,"DEX"),t("th",null,"CON"),t("th",null,"INT"),t("th",null,"WIS"),t("th",null,"CHA")])],-1)),se={key:0},oe={key:0},ae={key:0},le={key:0},ne={key:0},re={key:0},ie={key:0},ue=a(()=>t("strong",null,"Saving Throws:",-1)),de=a(()=>t("br",null,null,-1)),ce={key:1},me=a(()=>t("strong",null,"Skills:",-1)),be=a(()=>t("br",null,null,-1)),fe=a(()=>t("strong",null,"Senses:",-1)),_e=a(()=>t("br",null,null,-1)),pe={key:2},he=a(()=>t("strong",null,"Damage Resistances:",-1)),ge=a(()=>t("br",null,null,-1)),ye={key:3},Ie=a(()=>t("strong",null,"Damage Immunities:",-1)),ke=a(()=>t("br",null,null,-1)),ve={key:4},Ce=a(()=>t("strong",null,"Condition Immunities:",-1)),Se=a(()=>t("br",null,null,-1)),Ve=a(()=>t("strong",null,"Languages:",-1)),we=a(()=>t("br",null,null,-1)),Be=a(()=>t("strong",null,"Challenge:",-1)),Te=["innerHTML"];function $e(e,d,b,_,h,p){const f=m("b-form-checkbox"),I=m("b-form-checkbox-group"),y=m("b-col"),k=m("b-form-input"),v=m("b-input-group"),C=m("b-row"),S=m("b-table"),V=m("b-modal");return l(),n("div",H,[L,r(C,null,{default:i(()=>[r(y,{md:"8"},{default:i(()=>[r(I,{modelValue:e.creaturestable.filterBy,"onUpdate:modelValue":d[0]||(d[0]=c=>e.creaturestable.filterBy=c)},{default:i(()=>[r(f,{value:"name"},{default:i(()=>[M]),_:1}),r(f,{value:"size"},{default:i(()=>[R]),_:1}),r(f,{value:"cr"},{default:i(()=>[E]),_:1}),r(f,{value:"type"},{default:i(()=>[U]),_:1}),r(f,{value:"subtype"},{default:i(()=>[j]),_:1}),r(f,{value:"alignment"},{default:i(()=>[X]),_:1}),r(f,{value:"description"},{default:i(()=>[O]),_:1})]),_:1},8,["modelValue"])]),_:1}),r(y,{md:"4",class:"my-1"},{default:i(()=>[r(v,null,{default:i(()=>[r(k,{modelValue:e.creaturestable.filterValue,"onUpdate:modelValue":d[1]||(d[1]=c=>e.creaturestable.filterValue=c),placeholder:"Type to Search"},null,8,["modelValue"]),t("button",{disabled:!e.creaturestable.filterValue,onClick:d[2]||(d[2]=c=>e.creaturestable.filterValue=""),class:"btn btn-primary"},"Clear",8,P)]),_:1})]),_:1})]),_:1}),r(S,{"show-empty":"",striped:!0,bordered:!1,responsive:!0,stacked:"sm",items:e.creatures,fields:e.creaturestable.fields,filter:e.filter,"sort-by":e.creaturestable.sortBy,"sort-desc":e.creaturestable.sortDesc},{"cell(name)":i(c=>[t("span",null,[t("a",{href:"#",onClick:A(g=>e.info(c.item,c.index,g.target),["stop"])},o(c.value),9,W),q,e.admin?(l(),n("button",{key:0,class:"btn btn-warning btn-sm",onClick:g=>e.edit(c.item)},"\u270E",8,F)):u("",!0),e.admin?(l(),n("button",{key:1,class:"btn btn-sm btn-danger",onClick:g=>e.del(c.item)},"X",8,G)):u("",!0)])]),_:1},8,["items","fields","filter","sort-by","sort-desc"]),r(V,{id:"creaturemodal",size:"lg",onHide:e.resetModal,title:e.creaturestable.modalInfo.name,"ok-only":""},{default:i(()=>[t("h4",null,[s(o(e.creaturestable.modalInfo.size)+" "+o(e.creaturestable.modalInfo.type),1),e.creaturestable.modalInfo.subtype?(l(),n("span",J," ("+o(e.creaturestable.modalInfo.subtype)+")",1)):u("",!0),s(", "+o(e.creaturestable.modalInfo.alignment),1)]),t("p",null,[K,s(" "+o(e.creaturestable.modalInfo.acdesc)+" ",1),Q,Y,s(o(e.creaturestable.modalInfo.hpdesc)+" ",1),Z,x,s(" "+o(e.creaturestable.modalInfo.speed),1)]),t("table",ee,[te,t("tbody",null,[t("tr",null,[t("td",null,[s(o(e.creaturestable.modalInfo.str)+" (",1),e.creaturestable.modalInfo.strmod>0?(l(),n("span",se,"+")):u("",!0),s(o(e.creaturestable.modalInfo.strmod)+")",1)]),t("td",null,[s(o(e.creaturestable.modalInfo.dex)+" (",1),e.creaturestable.modalInfo.dexmod>0?(l(),n("span",oe,"+")):u("",!0),s(o(e.creaturestable.modalInfo.dexmod)+")",1)]),t("td",null,[s(o(e.creaturestable.modalInfo.con)+" (",1),e.creaturestable.modalInfo.conmod>0?(l(),n("span",ae,"+")):u("",!0),s(o(e.creaturestable.modalInfo.conmod)+")",1)]),t("td",null,[s(o(e.creaturestable.modalInfo.int)+" (",1),e.creaturestable.modalInfo.intmod>0?(l(),n("span",le,"+")):u("",!0),s(o(e.creaturestable.modalInfo.intmod)+")",1)]),t("td",null,[s(o(e.creaturestable.modalInfo.wis)+" (",1),e.creaturestable.modalInfo.wismod>0?(l(),n("span",ne,"+")):u("",!0),s(o(e.creaturestable.modalInfo.wismod)+")",1)]),t("td",null,[s(o(e.creaturestable.modalInfo.cha)+" (",1),e.creaturestable.modalInfo.chamod>0?(l(),n("span",re,"+")):u("",!0),s(o(e.creaturestable.modalInfo.chamod)+")",1)])])])]),t("p",null,[e.creaturestable.modalInfo.saves?(l(),n("span",ie,[ue,s(" "+o(e.creaturestable.modalInfo.saves)+" ",1),de])):u("",!0),e.creaturestable.modalInfo.skills.length>0?(l(),n("span",ce,[me,s(" "+o(e.creaturestable.modalInfo.skills.join(", "))+" ",1),be])):u("",!0),fe,s(" "+o(e.creaturestable.modalInfo.senses)+" ",1),_e,e.creaturestable.modalInfo.damageresistances?(l(),n("span",pe,[he,s(" "+o(e.creaturestable.modalInfo.damageresistances)+" ",1),ge])):u("",!0),e.creaturestable.modalInfo.damageimmunities?(l(),n("span",ye,[Ie,s(" "+o(e.creaturestable.modalInfo.damageimmunities)+" ",1),ke])):u("",!0),e.creaturestable.modalInfo.conditionimmunities?(l(),n("span",ve,[Ce,s(" "+o(e.creaturestable.modalInfo.conditionimmunities)+" ",1),Se])):u("",!0),Ve,s(" "+o(e.creaturestable.modalInfo.languages)+" ",1),we,Be,s(" "+o(e.creaturestable.modalInfo.cr),1)]),t("div",{innerHTML:e.creaturestable.modalInfo.descr},null,8,Te)]),_:1},8,["onHide","title"])])}var Ne=$(D,[["render",$e],["__scopeId","data-v-61499d68"]]);export{Ne as default};
